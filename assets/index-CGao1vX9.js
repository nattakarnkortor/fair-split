(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function LA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rd={exports:{}},wl={};var N_;function kA(){if(N_)return wl;N_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var _ in l)_!=="key"&&(c[_]=l[_])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=t,wl.jsx=i,wl.jsxs=i,wl}var D_;function UA(){return D_||(D_=1,Rd.exports=kA()),Rd.exports}var P=UA(),Cd={exports:{}},At={};var O_;function PA(){if(O_)return At;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),b=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,X={};function ht(O,Y,st){this.props=O,this.context=Y,this.refs=X,this.updater=st||q}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function lt(){}lt.prototype=ht.prototype;function et(O,Y,st){this.props=O,this.context=Y,this.refs=X,this.updater=st||q}var pt=et.prototype=new lt;pt.constructor=et,Z(pt,ht.prototype),pt.isPureReactComponent=!0;var Ot=Array.isArray;function Rt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Y,st){var rt=st.ref;return{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:st}}function V(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var R=/\/+/g;function bt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function Xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,st,rt,vt){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(wt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case s:case t:Mt=!0;break;case E:return Mt=O._init,G(Mt(O._payload),Y,st,rt,vt)}}if(Mt)return vt=vt(O),Mt=rt===""?"."+bt(O,0):rt,Ot(vt)?(st="",Mt!=null&&(st=Mt.replace(R,"$&/")+"/"),G(vt,Y,st,"",function(qi){return qi})):vt!=null&&(D(vt)&&(vt=V(vt,st+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+Mt)),Y.push(vt)),1;Mt=0;var Se=rt===""?".":rt+":";if(Ot(O))for(var le=0;le<O.length;le++)rt=O[le],wt=Se+bt(rt,le),Mt+=G(rt,Y,st,wt,vt);else if(le=k(O),typeof le=="function")for(O=le.call(O),le=0;!(rt=O.next()).done;)rt=rt.value,wt=Se+bt(rt,le++),Mt+=G(rt,Y,st,wt,vt);else if(wt==="object"){if(typeof O.then=="function")return G(Xt(O),Y,st,rt,vt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function nt(O,Y,st){if(O==null)return O;var rt=[],vt=0;return G(O,rt,"","",function(wt){return Y.call(st,wt,vt++)}),rt}function dt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:nt,forEach:function(O,Y,st){nt(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=A,At.Children=qt,At.Component=ht,At.Fragment=i,At.Profiler=l,At.PureComponent=et,At.StrictMode=r,At.Suspense=m,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=Z({},O.props),vt=O.key;if(Y!=null)for(wt in Y.key!==void 0&&(vt=""+Y.key),Y)!w.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(rt[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)rt.children=st;else if(1<wt){for(var Mt=Array(wt),Se=0;Se<wt;Se++)Mt[Se]=arguments[Se+2];rt.children=Mt}return C(O.type,vt,rt)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Y,st){var rt,vt={},wt=null;if(Y!=null)for(rt in Y.key!==void 0&&(wt=""+Y.key),Y)w.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Y[rt]);var Mt=arguments.length-2;if(Mt===1)vt.children=st;else if(1<Mt){for(var Se=Array(Mt),le=0;le<Mt;le++)Se[le]=arguments[le+2];vt.children=Se}if(O&&O.defaultProps)for(rt in Mt=O.defaultProps,Mt)vt[rt]===void 0&&(vt[rt]=Mt[rt]);return C(O,wt,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:_,render:O}},At.isValidElement=D,At.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:dt}},At.memo=function(O,Y){return{$$typeof:g,type:O,compare:Y===void 0?null:Y}},At.startTransition=function(O){var Y=N.T,st={};N.T=st;try{var rt=O(),vt=N.S;vt!==null&&vt(st,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Rt,Dt)}catch(wt){Dt(wt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),N.T=Y}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(O){return N.H.use(O)},At.useActionState=function(O,Y,st){return N.H.useActionState(O,Y,st)},At.useCallback=function(O,Y){return N.H.useCallback(O,Y)},At.useContext=function(O){return N.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},At.useEffect=function(O,Y){return N.H.useEffect(O,Y)},At.useEffectEvent=function(O){return N.H.useEffectEvent(O)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(O,Y,st){return N.H.useImperativeHandle(O,Y,st)},At.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},At.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},At.useMemo=function(O,Y){return N.H.useMemo(O,Y)},At.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},At.useReducer=function(O,Y,st){return N.H.useReducer(O,Y,st)},At.useRef=function(O){return N.H.useRef(O)},At.useState=function(O){return N.H.useState(O)},At.useSyncExternalStore=function(O,Y,st){return N.H.useSyncExternalStore(O,Y,st)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.4",At}var M_;function vm(){return M_||(M_=1,Cd.exports=PA()),Cd.exports}var Pt=vm();const He=LA(Pt);var Id={exports:{}},Rl={},Nd={exports:{}},Dd={};var V_;function zA(){return V_||(V_=1,(function(s){function t(G,nt){var dt=G.length;G.push(nt);t:for(;0<dt;){var Dt=dt-1>>>1,qt=G[Dt];if(0<l(qt,nt))G[Dt]=nt,G[dt]=qt,dt=Dt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],dt=G.pop();if(dt!==nt){G[0]=dt;t:for(var Dt=0,qt=G.length,O=qt>>>1;Dt<O;){var Y=2*(Dt+1)-1,st=G[Y],rt=Y+1,vt=G[rt];if(0>l(st,dt))rt<qt&&0>l(vt,st)?(G[Dt]=vt,G[rt]=dt,Dt=rt):(G[Dt]=st,G[Y]=dt,Dt=Y);else if(rt<qt&&0>l(vt,dt))G[Dt]=vt,G[rt]=dt,Dt=rt;else break t}}return nt}function l(G,nt){var dt=G.sortIndex-nt.sortIndex;return dt!==0?dt:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();s.unstable_now=function(){return d.now()-_}}var m=[],g=[],E=1,A=null,b=3,k=!1,q=!1,Z=!1,X=!1,ht=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function pt(G){for(var nt=i(g);nt!==null;){if(nt.callback===null)r(g);else if(nt.startTime<=G)r(g),nt.sortIndex=nt.expirationTime,t(m,nt);else break;nt=i(g)}}function Ot(G){if(Z=!1,pt(G),!q)if(i(m)!==null)q=!0,Rt||(Rt=!0,L());else{var nt=i(g);nt!==null&&Xt(Ot,nt.startTime-G)}}var Rt=!1,N=-1,w=5,C=-1;function V(){return X?!0:!(s.unstable_now()-C<w)}function D(){if(X=!1,Rt){var G=s.unstable_now();C=G;var nt=!0;try{t:{q=!1,Z&&(Z=!1,lt(N),N=-1),k=!0;var dt=b;try{e:{for(pt(G),A=i(m);A!==null&&!(A.expirationTime>G&&V());){var Dt=A.callback;if(typeof Dt=="function"){A.callback=null,b=A.priorityLevel;var qt=Dt(A.expirationTime<=G);if(G=s.unstable_now(),typeof qt=="function"){A.callback=qt,pt(G),nt=!0;break e}A===i(m)&&r(m),pt(G)}else r(m);A=i(m)}if(A!==null)nt=!0;else{var O=i(g);O!==null&&Xt(Ot,O.startTime-G),nt=!1}}break t}finally{A=null,b=dt,k=!1}nt=void 0}}finally{nt?L():Rt=!1}}}var L;if(typeof et=="function")L=function(){et(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,bt=R.port2;R.port1.onmessage=D,L=function(){bt.postMessage(null)}}else L=function(){ht(D,0)};function Xt(G,nt){N=ht(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(G){switch(b){case 1:case 2:case 3:var nt=3;break;default:nt=b}var dt=b;b=nt;try{return G()}finally{b=dt}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=b;b=G;try{return nt()}finally{b=dt}},s.unstable_scheduleCallback=function(G,nt,dt){var Dt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Dt+dt:Dt):dt=Dt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=dt+qt,G={id:E++,callback:nt,priorityLevel:G,startTime:dt,expirationTime:qt,sortIndex:-1},dt>Dt?(G.sortIndex=dt,t(g,G),i(m)===null&&G===i(g)&&(Z?(lt(N),N=-1):Z=!0,Xt(Ot,dt-Dt))):(G.sortIndex=qt,t(m,G),q||k||(q=!0,Rt||(Rt=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var nt=b;return function(){var dt=b;b=nt;try{return G.apply(this,arguments)}finally{b=dt}}}})(Dd)),Dd}var x_;function jA(){return x_||(x_=1,Nd.exports=zA()),Nd.exports}var Od={exports:{}},on={};var L_;function BA(){if(L_)return on;L_=1;var s=vm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:m,containerInfo:g,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,E)},on.flushSync=function(m){var g=d.T,E=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=g,r.p=E,r.d.f()}},on.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},on.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},on.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,A=_(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:k}):E==="script"&&r.d.X(m,{crossOrigin:A,integrity:b,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=_(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},on.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=_(E,g.crossOrigin);r.d.L(m,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=_(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},on.requestFormReset=function(m){r.d.r(m)},on.unstable_batchedUpdates=function(m,g){return m(g)},on.useFormState=function(m,g,E){return d.H.useFormState(m,g,E)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.4",on}var k_;function qA(){if(k_)return Od.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=BA(),Od.exports}var U_;function HA(){if(U_)return Rl;U_=1;var s=jA(),t=vm(),i=qA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),e;if(f===o)return m(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,o=f;break}if(T===o){y=!0,o=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,o=h;break}if(T===o){y=!0,o=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,b=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ht:return"Profiler";case X:return"StrictMode";case Ot:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case et:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:bt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return bt(e(n))}catch{}}return null}var Xt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Dt=[],qt=-1;function O(e){return{current:e}}function Y(e){0>qt||(e.current=Dt[qt],Dt[qt]=null,qt--)}function st(e,n){qt++,Dt[qt]=e.current,e.current=n}var rt=O(null),vt=O(null),wt=O(null),Mt=O(null);function Se(e,n){switch(st(wt,n),st(vt,e),st(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),st(rt,e)}function le(){Y(rt),Y(vt),Y(wt)}function qi(e){e.memoizedState!==null&&st(Mt,e);var n=rt.current,a=Wy(n,e.type);n!==a&&(st(vt,e),st(rt,a))}function Hi(e){vt.current===e&&(Y(rt),Y(vt)),Mt.current===e&&(Y(Mt),Tl._currentValue=dt)}var As,Fi;function Vn(e){if(As===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);As=n&&n[1]||"",Fi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+e+Fi}var yr=!1;function Gi(e,n){if(!e||yr)return"";yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var B=F}Reflect.construct(e,[],$)}else{try{$.call()}catch(F){B=F}e.call($.prototype)}}else{try{throw Error()}catch(F){B=F}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var I=y.split(`
`),j=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var Q=`
`+I[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{yr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Vn(a):""}function _r(e,n){switch(e.tag){case 26:case 27:case 5:return Vn(e.type);case 16:return Vn("Lazy");case 13:return e.child!==n&&n!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Gi(e.type,!1);case 11:return Gi(e.type.render,!1);case 1:return Gi(e.type,!0);case 31:return Vn("Activity");default:return""}}function vr(e){try{var n="",a=null;do n+=_r(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,ve=s.unstable_scheduleCallback,fn=s.unstable_cancelCallback,xn=s.unstable_shouldYield,ha=s.unstable_requestPaint,Je=s.unstable_now,Qi=s.unstable_getCurrentPriorityLevel,Er=s.unstable_ImmediatePriority,tt=s.unstable_UserBlockingPriority,ut=s.unstable_NormalPriority,Gt=s.unstable_LowPriority,Qt=s.unstable_IdlePriority,Ge=s.log,ce=s.unstable_setDisableYieldValue,je=null,Be=null;function be(e){if(typeof Ge=="function"&&ce(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(je,e)}catch{}}var ne=Math.clz32?Math.clz32:Ki,fi=Math.log,Yi=Math.LN2;function Ki(e){return e>>>=0,e===0?32:31-(fi(e)/Yi|0)|0}var di=256,Tr=262144,Ne=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=mi(o):(y&=T,y!==0?h=mi(y):a||(a=T&~e,a!==0&&(h=mi(a))))):(T=o&~f,T!==0?h=mi(T):y!==0?h=mi(y):a||(a=o&~e,a!==0&&(h=mi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function pi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-ne(a),$=1<<Q;T[Q]=0,I[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}a&=~$}o!==0&&Sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Sr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ne(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ro(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ne(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Co(e,n){var a=n&-n;return a=(a&42)!==0?1:br(a),(a&(e.suspendedLanes|n))!==0?0:a}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function $n(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Jn=Math.random().toString(36).slice(2),De="__reactFiber$"+Jn,Qe="__reactProps$"+Jn,yi="__reactContainer$"+Jn,fa="__reactEvents$"+Jn,Oh="__reactListeners$"+Jn,au="__reactHandles$"+Jn,ou="__reactResources$"+Jn,_i="__reactMarker$"+Jn;function da(e){delete e[De],delete e[Qe],delete e[fa],delete e[Oh],delete e[au]}function vi(e){var n=e[De];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=a_(e);e!==null;){if(a=e[De])return a;e=a_(e)}return n}e=a,a=e.parentNode}return null}function Ln(e){if(e=e[De]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ei(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Oe(e){e[_i]=!0}var Io=new Set,No={};function Ti(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(No[e]=n,e=0;e<n.length;e++)Io.add(n[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function lu(e){return _e.call(Mo,e)?!0:_e.call(Oo,e)?!1:Do.test(e)?Mo[e]=!0:(Oo[e]=!0,!1)}function ma(e,n,a){if(lu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function wn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Me(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=Vo(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function gn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(e,n,a,o,h,f,y,T){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ye(n)):e.value!==""+Ye(n)&&(e.value=""+Ye(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?xo(e,y,Ye(n)):a!=null?xo(e,y,Ye(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ye(T):e.removeAttribute("name")}function uu(e,n,a,o,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}a=a!=null?""+Ye(a):"",n=n!=null?""+Ye(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Wt(e)}function xo(e,n,a){n==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ye(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,a){if(n!=null&&(n=""+Ye(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ye(a):""}function ws(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Xt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ye(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Wt(e)}function pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||hu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ko(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Lo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Lo(e,f,n[f])}function pa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return Rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var Uo=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,bi=null;function Cr(e){var n=Ln(e);if(n&&(e=n.stateNode)){var a=e[Qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ga(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Qe]||null;if(!h)throw Error(r(90));ga(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&wr(o)}break t;case"textarea":cu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&bs(e,!!a.multiple,n,!1)}}}var _a=!1;function Is(e,n,a){if(_a)return e(n,a);_a=!0;try{var o=e(n);return o}finally{if(_a=!1,(Cs!==null||bi!==null)&&(rc(),Cs&&(n=Cs,e=bi,bi=Cs=null,Cr(n),e)))for(n=0;n<e.length;n++)Cr(e[n])}}function Wn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Qe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Un)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Ir=!1}var wi=null,Po=null,Nr=null;function zo(){if(Nr)return Nr;var e,n=Po,a=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Nr=h.slice(e,1<o?1-o:void 0)}function Dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function ti(){return!1}function Ze(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ti,this.isPropagationStopped=ti,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ze(Ji),Ns=A({},Ji,{view:0,detail:0}),jo=Ze(Ns),Ds,va,Ci,Ea=A({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Ds=e.screenX-Ci.screenX,va=e.screenY-Ci.screenY):va=Ds=0,Ci=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:va}}),Bo=Ze(Ea),Or=A({},Ea,{dataTransfer:0}),du=Ze(Or),mu=A({},Ns,{relatedTarget:0}),Mr=Ze(mu),qo=A({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Ze(qo),Ta=A({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=Ze(Ta),yu=A({},Ji,{data:0}),Ii=Ze(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function Os(){return Tu}var dn=A({},Ns,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Ze(dn),Su=A({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ze(Su),u=A({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),p=Ze(u),v=A({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ze(v),U=A({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ze(U),it=A({},Ji,{newState:0,oldState:0}),Ct=Ze(it),we=[9,13,27,32],$t=Un&&"CompositionEvent"in window,me=null;Un&&"documentMode"in document&&(me=document.documentMode);var Pn=Un&&"TextEvent"in window&&!me,Ni=Un&&(!$t||me&&8<me&&11>=me),ei=" ",ni=!1;function Vr(e,n){switch(e){case"keyup":return we.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function r1(e,n){switch(e){case"compositionend":return Aa(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function a1(e,n){if(Sa)return e==="compositionend"||!$t&&Vr(e,n)?(e=zo(),Nr=Po=wi=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!o1[e.type]:n==="textarea"}function cg(e,n,a,o){Cs?bi?bi.push(o):bi=[o]:Cs=o,n=fc(n,"onChange"),0<n.length&&(a=new Ri("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Ho=null,Fo=null;function l1(e){Qy(e,0)}function bu(e){var n=bn(e);if(wr(n))return e}function hg(e,n){if(e==="change")return n}var fg=!1;if(Un){var Mh;if(Un){var Vh="oninput"in document;if(!Vh){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Vh=typeof dg.oninput=="function"}Mh=Vh}else Mh=!1;fg=Mh&&(!document.documentMode||9<document.documentMode)}function mg(){Ho&&(Ho.detachEvent("onpropertychange",gg),Fo=Ho=null)}function gg(e){if(e.propertyName==="value"&&bu(Fo)){var n=[];cg(n,Fo,e,kn(e)),Is(l1,n)}}function u1(e,n,a){e==="focusin"?(mg(),Ho=n,Fo=a,Ho.attachEvent("onpropertychange",gg)):e==="focusout"&&mg()}function c1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Fo)}function h1(e,n){if(e==="click")return bu(n)}function f1(e,n){if(e==="input"||e==="change")return bu(n)}function d1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:d1;function Go(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(n,h)||!Rn(e[h],n[h]))return!1}return!0}function pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,n){var a=pg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=pg(a)}}function _g(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_g(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Si(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Si(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var m1=Un&&"documentMode"in document&&11>=document.documentMode,ba=null,Lh=null,Qo=null,kh=!1;function Eg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||ba==null||ba!==Si(o)||(o=ba,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Go(Qo,o)||(Qo=o,o=fc(Lh,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ba)))}function xr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var wa={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Uh={},Tg={};Un&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Lr(e){if(Uh[e])return Uh[e];if(!wa[e])return e;var n=wa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Tg)return Uh[e]=n[a];return e}var Ag=Lr("animationend"),Sg=Lr("animationiteration"),bg=Lr("animationstart"),g1=Lr("transitionrun"),p1=Lr("transitionstart"),y1=Lr("transitioncancel"),wg=Lr("transitionend"),Rg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function ii(e,n){Rg.set(e,n),Ti(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Ra=0,zh=0;function Ru(){for(var e=Ra,n=zh=Ra=0;n<e;){var a=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Cg(a,h,f)}}function Cu(e,n,a,o){zn[Ra++]=e,zn[Ra++]=n,zn[Ra++]=a,zn[Ra++]=o,zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,a,o){return Cu(e,n,a,o),Iu(e)}function kr(e,n){return Cu(e,null,null,n),Iu(e)}function Cg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ne(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Iu(e){if(50<ml)throw ml=0,$f=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ca={};function _1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,a,o){return new _1(e,n,a,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wi(e,n){var a=e.alternate;return a===null?(a=Cn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ig(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Bh(e)&&(y=1);else if(typeof e=="string")y=SA(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Cn(31,a,n,h),e.elementType=C,e.lanes=f,e;case Z:return Ur(a.children,h,f,n);case X:y=8,h|=24;break;case ht:return e=Cn(12,a,n,h|2),e.elementType=ht,e.lanes=f,e;case Ot:return e=Cn(13,a,n,h),e.elementType=Ot,e.lanes=f,e;case Rt:return e=Cn(19,a,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:y=10;break t;case lt:y=9;break t;case pt:y=11;break t;case N:y=14;break t;case w:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=Cn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ur(e,n,a,o){return e=Cn(7,e,o,n),e.lanes=a,e}function qh(e,n,a){return e=Cn(6,e,null,n),e.lanes=a,e}function Ng(e){var n=Cn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,a){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dg=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var a=Dg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vr(n)},Dg.set(e,n),n)}return{value:e,source:n,stack:vr(n)}}var Ia=[],Na=0,Du=null,Yo=0,Bn=[],qn=0,Ms=null,Di=1,Oi="";function ts(e,n){Ia[Na++]=Yo,Ia[Na++]=Du,Du=e,Yo=n}function Og(e,n,a){Bn[qn++]=Di,Bn[qn++]=Oi,Bn[qn++]=Ms,Ms=e;var o=Di;e=Oi;var h=32-ne(o)-1;o&=~(1<<h),a+=1;var f=32-ne(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Di=1<<32-ne(n)+h|a<<h|o,Oi=f+e}else Di=1<<f|a<<h|o,Oi=e}function Fh(e){e.return!==null&&(ts(e,1),Og(e,1,0))}function Gh(e){for(;e===Du;)Du=Ia[--Na],Ia[Na]=null,Yo=Ia[--Na],Ia[Na]=null;for(;e===Ms;)Ms=Bn[--qn],Bn[qn]=null,Oi=Bn[--qn],Bn[qn]=null,Di=Bn[--qn],Bn[qn]=null}function Mg(e,n){Bn[qn++]=Di,Bn[qn++]=Oi,Bn[qn++]=Ms,Di=n.id,Oi=n.overflow,Ms=e}var We=null,he=null,Ht=!1,Vs=null,Hn=!1,Qh=Error(r(519));function xs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(jn(n,e)),Qh}function Vg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[De]=e,n[Qe]=o,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<pl.length;a++)xt(pl[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),ws(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||$y(n.textContent,a)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||xs(e,!0)}function xg(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:We=We.return}}function Da(e){if(e!==We)return!1;if(!Ht)return xg(e),Ht=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hd(e.type,e.memoizedProps)),a=!a),a&&he&&xs(e),xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));he=r_(e)}else n===27?(n=he,Ks(e.type)?(e=pd,pd=null,he=e):he=n):he=We?Gn(e.stateNode.nextSibling):null;return!0}function Pr(){he=We=null,Ht=!1}function Yh(){var e=Vs;return e!==null&&(En===null?En=e:En.push.apply(En,e),Vs=null),e}function Ko(e){Vs===null?Vs=[e]:Vs.push(e)}var Kh=O(null),zr=null,es=null;function Ls(e,n,a){st(Kh,n._currentValue),n._currentValue=a}function ns(e){e._currentValue=Kh.current,Y(Kh)}function Xh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function $h(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Xh(f.return,a,e),o||(y=null);break t}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Xh(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Oa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Rn(h.pendingProps.value,y.value)||(e!==null?e.push(T):e=[T])}}else if(h===Mt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&$h(n,e,a,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return Lg(zr,e)}function Mu(e,n){return zr===null&&jr(e),Lg(e,n)}function Lg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},es===null){if(e===null)throw Error(r(308));es=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else es=es.next=n;return a}var v1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},E1=s.unstable_scheduleCallback,T1=s.unstable_NormalPriority,Ve={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new v1,data:new Map,refCount:0}}function Xo(e){e.refCount--,e.refCount===0&&E1(T1,function(){e.controller.abort()})}var $o=null,Zh=0,Ma=0,Va=null;function A1(e,n){if($o===null){var a=$o=[];Zh=0,Ma=nd(),Va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Zh++,n.then(kg,kg),n}function kg(){if(--Zh===0&&$o!==null){Va!==null&&(Va.status="fulfilled");var e=$o;$o=null,Ma=0,Va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function S1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ug=G.S;G.S=function(e,n){Ey=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(e,n),Ug!==null&&Ug(e,n)};var Br=O(null);function Wh(){var e=Br.current;return e!==null?e:oe.pooledCache}function Vu(e,n){n===null?st(Br,Br.current):st(Br,n.pool)}function Pg(){var e=Wh();return e===null?null:{parent:Ve._currentValue,pool:e}}var xa=Error(r(460)),tf=Error(r(474)),xu=Error(r(542)),Lu={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Zn,Zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e}throw Hr=n,xa}}function qr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,xa):a}}var Hr=null;function Bg(){if(Hr===null)throw Error(r(459));var e=Hr;return Hr=null,e}function qg(e){if(e===xa||e===xu)throw Error(r(483))}var La=null,Jo=0;function ku(e){var n=Jo;return Jo+=1,La===null&&(La=[]),jg(La,e,n)}function Zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hg(e){function n(x,M){if(e){var z=x.deletions;z===null?(x.deletions=[M],x.flags|=16):z.push(M)}}function a(x,M){if(!e)return null;for(;M!==null;)n(x,M),M=M.sibling;return null}function o(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(x,M){return x=Wi(x,M),x.index=0,x.sibling=null,x}function f(x,M,z){return x.index=z,e?(z=x.alternate,z!==null?(z=z.index,z<M?(x.flags|=67108866,M):z):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function y(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,M,z,K){return M===null||M.tag!==6?(M=qh(z,x.mode,K),M.return=x,M):(M=h(M,z),M.return=x,M)}function I(x,M,z,K){var mt=z.type;return mt===Z?Q(x,M,z.props.children,K,z.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&qr(mt)===M.type)?(M=h(M,z.props),Zo(M,z),M.return=x,M):(M=Nu(z.type,z.key,z.props,null,x.mode,K),Zo(M,z),M.return=x,M)}function j(x,M,z,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Hh(z,x.mode,K),M.return=x,M):(M=h(M,z.children||[]),M.return=x,M)}function Q(x,M,z,K,mt){return M===null||M.tag!==7?(M=Ur(z,x.mode,K,mt),M.return=x,M):(M=h(M,z),M.return=x,M)}function $(x,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=qh(""+M,x.mode,z),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return z=Nu(M.type,M.key,M.props,null,x.mode,z),Zo(z,M),z.return=x,z;case q:return M=Hh(M,x.mode,z),M.return=x,M;case w:return M=qr(M),$(x,M,z)}if(Xt(M)||L(M))return M=Ur(M,x.mode,z,null),M.return=x,M;if(typeof M.then=="function")return $(x,ku(M),z);if(M.$$typeof===et)return $(x,Mu(x,M),z);Uu(x,M)}return null}function B(x,M,z,K){var mt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:T(x,M,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===mt?I(x,M,z,K):null;case q:return z.key===mt?j(x,M,z,K):null;case w:return z=qr(z),B(x,M,z,K)}if(Xt(z)||L(z))return mt!==null?null:Q(x,M,z,K,null);if(typeof z.then=="function")return B(x,M,ku(z),K);if(z.$$typeof===et)return B(x,M,Mu(x,z),K);Uu(x,z)}return null}function F(x,M,z,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(z)||null,T(M,x,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return x=x.get(K.key===null?z:K.key)||null,I(M,x,K,mt);case q:return x=x.get(K.key===null?z:K.key)||null,j(M,x,K,mt);case w:return K=qr(K),F(x,M,z,K,mt)}if(Xt(K)||L(K))return x=x.get(z)||null,Q(M,x,K,mt,null);if(typeof K.then=="function")return F(x,M,z,ku(K),mt);if(K.$$typeof===et)return F(x,M,z,Mu(M,K),mt);Uu(M,K)}return null}function ct(x,M,z,K){for(var mt=null,Yt=null,ft=M,Nt=M=0,Ut=null;ft!==null&&Nt<z.length;Nt++){ft.index>Nt?(Ut=ft,ft=null):Ut=ft.sibling;var Kt=B(x,ft,z[Nt],K);if(Kt===null){ft===null&&(ft=Ut);break}e&&ft&&Kt.alternate===null&&n(x,ft),M=f(Kt,M,Nt),Yt===null?mt=Kt:Yt.sibling=Kt,Yt=Kt,ft=Ut}if(Nt===z.length)return a(x,ft),Ht&&ts(x,Nt),mt;if(ft===null){for(;Nt<z.length;Nt++)ft=$(x,z[Nt],K),ft!==null&&(M=f(ft,M,Nt),Yt===null?mt=ft:Yt.sibling=ft,Yt=ft);return Ht&&ts(x,Nt),mt}for(ft=o(ft);Nt<z.length;Nt++)Ut=F(ft,x,Nt,z[Nt],K),Ut!==null&&(e&&Ut.alternate!==null&&ft.delete(Ut.key===null?Nt:Ut.key),M=f(Ut,M,Nt),Yt===null?mt=Ut:Yt.sibling=Ut,Yt=Ut);return e&&ft.forEach(function(Ws){return n(x,Ws)}),Ht&&ts(x,Nt),mt}function yt(x,M,z,K){if(z==null)throw Error(r(151));for(var mt=null,Yt=null,ft=M,Nt=M=0,Ut=null,Kt=z.next();ft!==null&&!Kt.done;Nt++,Kt=z.next()){ft.index>Nt?(Ut=ft,ft=null):Ut=ft.sibling;var Ws=B(x,ft,Kt.value,K);if(Ws===null){ft===null&&(ft=Ut);break}e&&ft&&Ws.alternate===null&&n(x,ft),M=f(Ws,M,Nt),Yt===null?mt=Ws:Yt.sibling=Ws,Yt=Ws,ft=Ut}if(Kt.done)return a(x,ft),Ht&&ts(x,Nt),mt;if(ft===null){for(;!Kt.done;Nt++,Kt=z.next())Kt=$(x,Kt.value,K),Kt!==null&&(M=f(Kt,M,Nt),Yt===null?mt=Kt:Yt.sibling=Kt,Yt=Kt);return Ht&&ts(x,Nt),mt}for(ft=o(ft);!Kt.done;Nt++,Kt=z.next())Kt=F(ft,x,Nt,Kt.value,K),Kt!==null&&(e&&Kt.alternate!==null&&ft.delete(Kt.key===null?Nt:Kt.key),M=f(Kt,M,Nt),Yt===null?mt=Kt:Yt.sibling=Kt,Yt=Kt);return e&&ft.forEach(function(xA){return n(x,xA)}),Ht&&ts(x,Nt),mt}function ae(x,M,z,K){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:t:{for(var mt=z.key;M!==null;){if(M.key===mt){if(mt=z.type,mt===Z){if(M.tag===7){a(x,M.sibling),K=h(M,z.props.children),K.return=x,x=K;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&qr(mt)===M.type){a(x,M.sibling),K=h(M,z.props),Zo(K,z),K.return=x,x=K;break t}a(x,M);break}else n(x,M);M=M.sibling}z.type===Z?(K=Ur(z.props.children,x.mode,K,z.key),K.return=x,x=K):(K=Nu(z.type,z.key,z.props,null,x.mode,K),Zo(K,z),K.return=x,x=K)}return y(x);case q:t:{for(mt=z.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(x,M.sibling),K=h(M,z.children||[]),K.return=x,x=K;break t}else{a(x,M);break}else n(x,M);M=M.sibling}K=Hh(z,x.mode,K),K.return=x,x=K}return y(x);case w:return z=qr(z),ae(x,M,z,K)}if(Xt(z))return ct(x,M,z,K);if(L(z)){if(mt=L(z),typeof mt!="function")throw Error(r(150));return z=mt.call(z),yt(x,M,z,K)}if(typeof z.then=="function")return ae(x,M,ku(z),K);if(z.$$typeof===et)return ae(x,M,Mu(x,z),K);Uu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(x,M.sibling),K=h(M,z),K.return=x,x=K):(a(x,M),K=qh(z,x.mode,K),K.return=x,x=K),y(x)):a(x,M)}return function(x,M,z,K){try{Jo=0;var mt=ae(x,M,z,K);return La=null,mt}catch(ft){if(ft===xa||ft===xu)throw ft;var Yt=Cn(29,ft,null,x.mode);return Yt.lanes=K,Yt.return=x,Yt}}}var Fr=Hg(!0),Fg=Hg(!1),ks=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Cg(e,null,a),n}return Cu(e,o,n,a),Iu(e)}function Wo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ro(e,a)}}function sf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var rf=!1;function tl(){if(rf){var e=Va;if(e!==null)throw e}}function el(e,n,a,o){rf=!1;var h=e.updateQueue;ks=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,y===null?f=j:y.next=j,y=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=j:T.next=j,Q.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;y=0,Q=j=I=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(kt&B)===B:(o&B)===B){B!==0&&B===Ma&&(rf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,yt=T;B=n;var ae=a;switch(yt.tag){case 1:if(ct=yt.payload,typeof ct=="function"){$=ct.call(ae,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=yt.payload,B=typeof ct=="function"?ct.call(ae,$,B):ct,B==null)break t;$=A({},$,B);break t;case 2:ks=!0}}B=T.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(j=Q=F,I=$):Q=Q.next=F,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(I=$),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Hs|=y,e.lanes=y,e.memoizedState=$}}function Gg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Qg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gg(a[e],n)}var ka=O(null),Pu=O(0);function Yg(e,n){e=hs,st(Pu,e),st(ka,n),hs=e|n.baseLanes}function af(){st(Pu,hs),st(ka,ka.current)}function of(){hs=Pu.current,Y(ka),Y(Pu)}var In=O(null),Fn=null;function zs(e){var n=e.alternate;st(Re,Re.current&1),st(In,e),Fn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Fn=e)}function lf(e){st(Re,Re.current),st(In,e),Fn===null&&(Fn=e)}function Kg(e){e.tag===22?(st(Re,Re.current),st(In,e),Fn===null&&(Fn=e)):js()}function js(){st(Re,Re.current),st(In,In.current)}function Nn(e){Y(In),Fn===e&&(Fn=null),Y(Re)}var Re=O(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||md(a)||gd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,It=null,se=null,xe=null,ju=!1,Ua=!1,Gr=!1,Bu=0,nl=0,Pa=null,b1=0;function Ee(){throw Error(r(321))}function uf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Rn(e[a],n[a]))return!1;return!0}function cf(e,n,a,o,h,f){return is=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Op:wf,Gr=!1,f=a(o,h),Gr=!1,Ua&&(f=$g(n,a,o,h)),Xg(e),f}function Xg(e){G.H=rl;var n=se!==null&&se.next!==null;if(is=0,xe=se=It=null,ju=!1,nl=0,Pa=null,n)throw Error(r(300));e===null||Le||(e=e.dependencies,e!==null&&Ou(e)&&(Le=!0))}function $g(e,n,a,o){It=e;var h=0;do{if(Ua&&(Pa=null),nl=0,Ua=!1,25<=h)throw Error(r(301));if(h+=1,xe=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Mp,f=n(a,o)}while(Ua);return f}function w1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?il(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(It.flags|=1024),n}function hf(){var e=Bu!==0;return Bu=0,e}function ff(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function df(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}is=0,xe=se=It=null,Ua=!1,nl=Bu=0,Pa=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?It.memoizedState=xe=e:xe=xe.next=e,xe}function Ce(){if(se===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=xe===null?It.memoizedState:xe.next;if(n!==null)xe=n,se=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},xe===null?It.memoizedState=xe=e:xe=xe.next=e}return xe}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var n=nl;return nl+=1,Pa===null&&(Pa=[]),e=jg(Pa,e,n),n=It,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Op:wf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===et)return tn(e)}throw Error(r(438,String(e)))}function mf(e){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qu(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function ss(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=Ce();return gf(n,se,e)}function gf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=y=null,I=null,j=n,Q=!1;do{var $=j.lane&-536870913;if($!==j.lane?(kt&$)===$:(is&$)===$){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ma&&(Q=!0);else if((is&B)===B){j=j.next,B===Ma&&(Q=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=$,y=f):I=I.next=$,It.lanes|=B,Hs|=B;$=j.action,Gr&&a(f,$),f=j.hasEagerState?j.eagerState:a(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=B,y=f):I=I.next=B,It.lanes|=$,Hs|=$;j=j.next}while(j!==null&&j!==n);if(I===null?y=f:I.next=T,!Rn(f,e.memoizedState)&&(Le=!0,Q&&(a=Va,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=Ce(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Rn(f,n.memoizedState)||(Le=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Jg(e,n,a){var o=It,h=Ce(),f=Ht;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Rn((se||h).memoizedState,a);if(y&&(h.memoizedState=a,Le=!0),h=h.queue,vf(tp.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},Wg.bind(null,o,h,a,n),null),oe===null)throw Error(r(349));f||(is&127)!==0||Zg(o,n,a)}return a}function Zg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=qu(),It.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Wg(e,n,a,o){n.value=a,n.getSnapshot=o,ep(n)&&np(e)}function tp(e,n,a){return a(function(){ep(n)&&np(e)})}function ep(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Rn(e,a)}catch{return!0}}function np(e){var n=kr(e,2);n!==null&&Tn(n,e,2)}function yf(e){var n=mn();if(typeof e=="function"){var a=e;if(e=a(),Gr){be(!0);try{a()}finally{be(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},n}function ip(e,n,a,o){return e.baseState=a,gf(e,se,typeof o=="function"?o:ss)}function R1(e,n,a,o,h){if(Yu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,sp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function sp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var T=a(h,o),I=G.S;I!==null&&I(y,T),rp(e,n,T)}catch(j){_f(e,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,o),rp(e,n,f)}catch(j){_f(e,n,j)}}function rp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ap(e,n,o)},function(o){return _f(e,n,o)}):ap(e,n,a)}function ap(e,n,a){n.status="fulfilled",n.value=a,op(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,sp(e,a)))}function _f(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,op(n),n=n.next;while(n!==o)}e.action=null}function op(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lp(e,n){return n}function up(e,n){if(Ht){var a=oe.formState;if(a!==null){t:{var o=It;if(Ht){if(he){e:{for(var h=he,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Gn(h.nextSibling),o=h.data==="F!";break t}}xs(o)}o=!1}o&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:n},a.queue=o,a=Ip.bind(null,It,o),o.dispatch=a,o=yf(!1),f=bf.bind(null,It,!1,o.queue),o=mn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=R1.bind(null,It,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function cp(e){var n=Ce();return hp(n,se,e)}function hp(e,n,a){if(n=gf(e,n,lp)[0],e=Fu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(y){throw y===xa?xu:y}else o=n;n=Ce();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(It.flags|=2048,za(9,{destroy:void 0},C1.bind(null,h,a),null)),[o,f,e]}function C1(e,n){e.action=n}function fp(e){var n=Ce(),a=se;if(a!==null)return hp(n,a,e);Ce(),n=n.memoizedState,a=Ce();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function za(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=qu(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function dp(){return Ce().memoizedState}function Gu(e,n,a,o){var h=mn();It.flags|=e,h.memoizedState=za(1|n,{destroy:void 0},a,o===void 0?null:o)}function Qu(e,n,a,o){var h=Ce();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&uf(o,se.memoizedState.deps)?h.memoizedState=za(n,f,a,o):(It.flags|=e,h.memoizedState=za(1|n,f,a,o))}function mp(e,n){Gu(8390656,8,e,n)}function vf(e,n){Qu(2048,8,e,n)}function I1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=qu(),It.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function gp(e){var n=Ce().memoizedState;return I1({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function pp(e,n){return Qu(4,2,e,n)}function yp(e,n){return Qu(4,4,e,n)}function _p(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vp(e,n,a){a=a!=null?a.concat([e]):null,Qu(4,4,_p.bind(null,n,e),a)}function Ef(){}function Ep(e,n){var a=Ce();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Tp(e,n){var a=Ce();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Gr){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[o,n],o}function Tf(e,n,a){return a===void 0||(is&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ay(),It.lanes|=e,Hs|=e,a)}function Ap(e,n,a,o){return Rn(a,n)?a:ka.current!==null?(e=Tf(e,a,o),Rn(e,n)||(Le=!0),e):(is&42)===0||(is&1073741824)!==0&&(kt&261930)===0?(Le=!0,e.memoizedState=a):(e=Ay(),It.lanes|=e,Hs|=e,n)}function Sp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=G.T,T={};G.T=T,bf(e,!1,n,a);try{var I=h(),j=G.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=S1(I,o);sl(e,n,Q,Mn(e))}else sl(e,n,o,Mn(e))}catch($){sl(e,n,{then:function(){},status:"rejected",reason:$},Mn())}finally{nt.p=f,y!==null&&T.types!==null&&(y.types=T.types),G.T=y}}function N1(){}function Af(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=bp(e).queue;Sp(e,h,n,dt,a===null?N1:function(){return wp(e),a(o)})}function bp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wp(e){var n=bp(e);n.next===null&&(n=e.alternate.memoizedState),sl(e,n.next.queue,{},Mn())}function Sf(){return tn(Tl)}function Rp(){return Ce().memoizedState}function Cp(){return Ce().memoizedState}function D1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Mn();e=Us(a);var o=Ps(n,e,a);o!==null&&(Tn(o,n,a),Wo(o,n,a)),n={cache:Jh()},e.payload=n;return}n=n.return}}function O1(e,n,a){var o=Mn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Np(n,a):(a=jh(e,n,a,o),a!==null&&(Tn(a,e,o),Dp(a,n,o)))}function Ip(e,n,a){var o=Mn();sl(e,n,a,o)}function sl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,y))return Cu(e,n,h,0),oe===null&&Ru(),!1}catch{}if(a=jh(e,n,h,o),a!==null)return Tn(a,e,o),Dp(a,n,o),!0}return!1}function bf(e,n,a,o){if(o={lane:2,revertLane:nd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(r(479))}else n=jh(e,a,o,2),n!==null&&Tn(n,e,2)}function Yu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Np(e,n){Ua=ju=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Dp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ro(e,a)}}var rl={readContext:tn,use:Hu,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};rl.useEffectEvent=Ee;var Op={readContext:tn,use:Hu,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:tn,useEffect:mp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,_p.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var a=mn();n=n===void 0?null:n;var o=e();if(Gr){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=mn();if(a!==void 0){var h=a(n);if(Gr){be(!0);try{a(n)}finally{be(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=O1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,a=Ip.bind(null,It,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(e,n){var a=mn();return Tf(a,e,n)},useTransition:function(){var e=yf(!1);return e=Sp.bind(null,It,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=It,h=mn();if(Ht){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),oe===null)throw Error(r(349));(kt&127)!==0||Zg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,mp(tp.bind(null,o,f,e),[e]),o.flags|=2048,za(9,{destroy:void 0},Wg.bind(null,o,f,a,n),null),a},useId:function(){var e=mn(),n=oe.identifierPrefix;if(Ht){var a=Oi,o=Di;a=(o&~(1<<32-ne(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=b1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:up,useActionState:up,useOptimistic:function(e){var n=mn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bf.bind(null,It,!0,a),a.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return mn().memoizedState=D1.bind(null,It)},useEffectEvent:function(e){var n=mn(),a={impl:e};return n.memoizedState=a,function(){if((Jt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},wf={readContext:tn,use:Hu,useCallback:Ep,useContext:tn,useEffect:vf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:Fu,useRef:dp,useState:function(){return Fu(ss)},useDebugValue:Ef,useDeferredValue:function(e,n){var a=Ce();return Ap(a,se.memoizedState,e,n)},useTransition:function(){var e=Fu(ss)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:Jg,useId:Rp,useHostTransitionStatus:Sf,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var a=Ce();return ip(a,se,e,n)},useMemoCache:mf,useCacheRefresh:Cp};wf.useEffectEvent=gp;var Mp={readContext:tn,use:Hu,useCallback:Ep,useContext:tn,useEffect:vf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:pf,useRef:dp,useState:function(){return pf(ss)},useDebugValue:Ef,useDeferredValue:function(e,n){var a=Ce();return se===null?Tf(a,e,n):Ap(a,se.memoizedState,e,n)},useTransition:function(){var e=pf(ss)[0],n=Ce().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:Jg,useId:Rp,useHostTransitionStatus:Sf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var a=Ce();return se!==null?ip(a,se,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Cp};Mp.useEffectEvent=gp;function Rf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Mn(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(Tn(n,e,o),Wo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Mn(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(e,h,o),n!==null&&(Tn(n,e,o),Wo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Mn(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(e,o,a),n!==null&&(Tn(n,e,a),Wo(n,e,a))}};function Vp(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Go(a,o)||!Go(h,f):!0}function xp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Qr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Lp(e){wu(e)}function kp(e){console.error(e)}function Up(e){wu(e)}function Ku(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(e,n)},a}function zp(e){return e=Us(e),e.tag=3,e}function jp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Pp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Pp(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function M1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Oa(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?ac():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Wf(e,o,h)),!1;case 22:return a.flags|=65536,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Wf(e,o,h)),!1}throw Error(r(435,a.tag))}return Wf(e,o,h),ac(),!1}if(Ht)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Qh&&(e=Error(r(422),{cause:o}),Ko(jn(e,a)))):(o!==Qh&&(n=Error(r(423),{cause:o}),Ko(jn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=jn(o,a),h=If(e.stateNode,o,h),sf(e,h),Te!==4&&(Te=2)),!1;var f=Error(r(520),{cause:o});if(f=jn(f,a),dl===null?dl=[f]:dl.push(f),Te!==4&&(Te=2),n===null)return!0;o=jn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=If(a.stateNode,o,e),sf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zp(h),jp(h,e,a,o),sf(a,h),!1}a=a.return}while(a!==null);return!1}var Nf=Error(r(461)),Le=!1;function en(e,n,a,o){n.child=e===null?Fg(n,null,a,o):Fr(n,e.child,a,o)}function Bp(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var T in o)T!=="ref"&&(y[T]=o[T])}else y=o;return jr(n),o=cf(e,n,a,y,f,h),T=hf(),e!==null&&!Le?(ff(e,n,h),rs(e,n,h)):(Ht&&T&&Fh(n),n.flags|=1,en(e,n,o,h),n.child)}function qp(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Hp(e,n,f,o,h)):(e=Nu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(y,o)&&e.ref===n.ref)return rs(e,n,h)}return n.flags|=1,e=Wi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Hp(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Go(f,o)&&e.ref===n.ref)if(Le=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(Le=!0);else return n.lanes=e.lanes,rs(e,n,h)}return Df(e,n,a,o,h)}function Fp(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gp(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):af(),Kg(n);else return o=n.lanes=536870912,Gp(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Vu(n,f.cachePool),Yg(n,f),js(),n.memoizedState=null):(e!==null&&Vu(n,null),af(),js());return en(e,n,h,a),n.child}function al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gp(e,n,a,o,h){var f=Wh();return f=f===null?null:{parent:Ve._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Vu(n,null),af(),Kg(n),e!==null&&Oa(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qp(e,n,a){return Fr(n,e.child,null,a),e=Xu(n,n.pendingProps),e.flags|=2,Nn(n),n.memoizedState=null,e}function V1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,al(null,e);if(lf(n),(e=he)?(e=s_(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Ng(e),a.return=n,n.child=a,We=n,he=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=Qp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Le||Oa(e,n,a,!1),h=(a&e.childLanes)!==0,Le||h){if(o=oe,o!==null&&(y=Co(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,kr(e,y),Tn(o,e,y),Nf;ac(),n=Qp(e,n,a)}else e=f.treeContext,he=Gn(y.nextSibling),We=n,Ht=!0,Vs=null,Hn=!1,e!==null&&Mg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Wi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Df(e,n,a,o,h){return jr(n),a=cf(e,n,a,o,void 0,h),o=hf(),e!==null&&!Le?(ff(e,n,h),rs(e,n,h)):(Ht&&o&&Fh(n),n.flags|=1,en(e,n,a,h),n.child)}function Yp(e,n,a,o,h,f){return jr(n),n.updateQueue=null,a=$g(n,o,a,h),Xg(e),o=hf(),e!==null&&!Le?(ff(e,n,f),rs(e,n,f)):(Ht&&o&&Fh(n),n.flags|=1,en(e,n,a,f),n.child)}function Kp(e,n,a,o,h){if(jr(n),n.stateNode===null){var f=Ca,y=a.contextType;typeof y=="object"&&y!==null&&(f=tn(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ef(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?tn(y):Ca,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Rf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Cf.enqueueReplaceState(f,f.state,null),el(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=Qr(a,T);f.props=I;var j=f.context,Q=a.contextType;y=Ca,typeof Q=="object"&&Q!==null&&(y=tn(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==y)&&xp(n,f,o,y),ks=!1;var B=n.memoizedState;f.state=B,el(n,o,f,h),tl(),j=n.memoizedState,T||B!==j||ks?(typeof $=="function"&&(Rf(n,a,$,o),j=n.memoizedState),(I=ks||Vp(n,a,I,o,B,j,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,nf(e,n),y=n.memoizedProps,Q=Qr(a,y),f.props=Q,$=n.pendingProps,B=f.context,j=a.contextType,I=Ca,typeof j=="object"&&j!==null&&(I=tn(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||B!==I)&&xp(n,f,o,I),ks=!1,B=n.memoizedState,f.state=B,el(n,o,f,h),tl();var F=n.memoizedState;y!==$||B!==F||ks||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof T=="function"&&(Rf(n,a,T,o),F=n.memoizedState),(Q=ks||Vp(n,a,Q,o,B,F,I)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Fr(n,e.child,null,h),n.child=Fr(n,null,a,h)):en(e,n,a,h),n.memoizedState=f.state,e=n.child):e=rs(e,n,h),e}function Xp(e,n,a,o){return Pr(),n.flags|=256,en(e,n,a,o),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Pg()}}function Vf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=On),e}function $p(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?zs(n):js(),(e=he)?(e=s_(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Ng(e),a.return=n,n.child=a,We=n,he=null)):e=null,e===null)throw xs(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(js(),h=n.mode,T=Ju({mode:"hidden",children:T},h),o=Ur(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Mf(a),o.childLanes=Vf(e,y,a),n.memoizedState=Of,al(null,o)):(zs(n),xf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Lf(e,n,a)):n.memoizedState!==null?(js(),n.child=e.child,n.flags|=128,n=null):(js(),T=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),T=Ur(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Fr(n,e.child,null,a),o=n.child,o.memoizedState=Mf(a),o.childLanes=Vf(e,y,a),n.memoizedState=Of,n=al(null,o));else if(zs(n),gd(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(r(419)),o.stack="",o.digest=y,Ko({value:o,source:null,stack:null}),n=Lf(e,n,a)}else if(Le||Oa(e,n,a,!1),y=(a&e.childLanes)!==0,Le||y){if(y=oe,y!==null&&(o=Co(y,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,kr(e,o),Tn(y,e,o),Nf;md(T)||ac(),n=Lf(e,n,a)}else md(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,he=Gn(T.nextSibling),We=n,Ht=!0,Vs=null,Hn=!1,e!==null&&Mg(n,e),n=xf(n,o.children),n.flags|=4096);return n}return h?(js(),T=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=Wi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?T=Wi(j,T):(T=Ur(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,al(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Mf(a):(h=T.cachePool,h!==null?(I=Ve._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Vf(e,y,a),n.memoizedState=Of,al(e.child,o)):(zs(n),a=e.child,e=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function xf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=Cn(22,e,null,n),e.lanes=0,e}function Lf(e,n,a){return Fr(n,e.child,null,a),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Xh(e.return,n,a)}function kf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Zp(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Re.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,st(Re,y),en(e,n,o,a),o=Ht?Yo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,a,n);else if(e.tag===19)Jp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),kf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}kf(n,!0,a,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Oa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Wi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Wi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function x1(e,n,a){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),Ls(n,Ve,e.memoizedState.cache),Pr();break;case 27:case 5:qi(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?$p(e,n,a):(zs(n),e=rs(e,n,a),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Oa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Zp(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Re,Re.current),o)break;return null;case 22:return n.lanes=0,Fp(e,n,a,n.pendingProps);case 24:Ls(n,Ve,e.memoizedState.cache)}return rs(e,n,a)}function Wp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Le=!0;else{if(!Uf(e,a)&&(n.flags&128)===0)return Le=!1,x1(e,n,a);Le=(e.flags&131072)!==0}else Le=!1,Ht&&(n.flags&1048576)!==0&&Og(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=qr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Qr(e,o),n.tag=1,n=Kp(null,n,e,o,a)):(n.tag=0,n=Df(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===pt){n.tag=11,n=Bp(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=qp(null,n,e,o,a);break t}}throw n=bt(e)||e,Error(r(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Qr(o,n.pendingProps),Kp(e,n,o,h,a);case 3:t:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),el(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Ls(n,Ve,o),o!==f.cache&&$h(n,[Ve],a,!0),tl(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(e,n,o,a);break t}else if(o!==h){h=jn(Error(r(424)),n),Ko(h),n=Xp(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Gn(e.firstChild),We=n,Ht=!0,Vs=null,Hn=!0,a=Fg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Pr(),o===h){n=rs(e,n,a);break t}en(e,n,o,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=c_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ht||(a=n.type,e=n.pendingProps,o=dc(wt.current).createElement(a),o[De]=n,o[Qe]=e,nn(o,a,e),Oe(o),n.stateNode=o):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qi(n),e===null&&Ht&&(o=n.stateNode=o_(n.type,n.pendingProps,wt.current),We=n,Hn=!0,h=he,Ks(n.type)?(pd=h,he=Gn(o.firstChild)):he=h),en(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=he)&&(o=cA(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,We=n,he=Gn(o.firstChild),Hn=!1,h=!0):h=!1),h||xs(n)),qi(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,hd(h,f)?o=null:y!==null&&hd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,w1,null,null,a),Tl._currentValue=h),$u(e,n),en(e,n,o,a),n.child;case 6:return e===null&&Ht&&((e=a=he)&&(a=hA(a,n.pendingProps,Hn),a!==null?(n.stateNode=a,We=n,he=null,e=!0):e=!1),e||xs(n)),null;case 13:return $p(e,n,a);case 4:return Se(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fr(n,null,o,a):en(e,n,o,a),n.child;case 11:return Bp(e,n,n.type,n.pendingProps,a);case 7:return en(e,n,n.pendingProps,a),n.child;case 8:return en(e,n,n.pendingProps.children,a),n.child;case 12:return en(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),en(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=tn(h),o=o(h),n.flags|=1,en(e,n,o,a),n.child;case 14:return qp(e,n,n.type,n.pendingProps,a);case 15:return Hp(e,n,n.type,n.pendingProps,a);case 19:return Zp(e,n,a);case 31:return V1(e,n,a);case 22:return Fp(e,n,a,n.pendingProps);case 24:return jr(n),o=tn(Ve),e===null?(h=Wh(),h===null&&(h=oe,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ef(n),Ls(n,Ve,h)):((e.lanes&a)!==0&&(nf(e,n),el(n,null,null,a),tl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,Ve,o)):(o=f.cache,Ls(n,Ve,o),o!==h.cache&&$h(n,[Ve],a,!0))),en(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(e){e.flags|=4}function Pf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Hr=Lu,tf}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Ry())e.flags|=8192;else throw Hr=Lu,tf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ha|=n)}function ol(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function L1(e,n,a){var o=n.pendingProps;switch(Gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(Ve),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Da(n)?as(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(as(n),f!==null?(fe(n),ty(n,f)):(fe(n),Pf(n,h,null,o,a))):f?f!==e.memoizedState?(as(n),fe(n),ty(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&as(n),fe(n),Pf(n,h,e,o,a)),null;case 27:if(Hi(n),a=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}e=rt.current,Da(n)?Vg(n):(e=o_(h,o,a),n.stateNode=e,as(n))}return fe(n),null;case 5:if(Hi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return fe(n),null}if(f=rt.current,Da(n))Vg(n);else{var y=dc(wt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[De]=n,f[Qe]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(nn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&as(n)}}return fe(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=wt.current,Da(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,a)),e||xs(n,!0)}else e=dc(e).createTextNode(o),e[De]=n,n.stateNode=e}return fe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Da(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[De]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else a=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Nn(n),n):(Nn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return fe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[De]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Nn(n),n):(Nn(n),null)}return Nn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),fe(n),null);case 4:return le(),e===null&&ad(n.stateNode.containerInfo),fe(n),null;case 10:return ns(n.type),fe(n),null;case 19:if(Y(Re),o=n.memoizedState,o===null)return fe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(Te!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,ol(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Ig(a,e),a=a.sibling;return st(Re,Re.current&1|2),Ht&&ts(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>ic&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ht)return fe(n),null}else 2*Je()-o.renderingStartTime>ic&&a!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,a=Re.current,st(Re,h?a&1|2:a&1),Ht&&ts(n,o.treeForkCount),e):(fe(n),null);case 22:case 23:return Nn(n),of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Br),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(Ve),fe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function k1(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ns(Ve),le(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Hi(n),null;case 31:if(n.memoizedState!==null){if(Nn(n),n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Re),null;case 4:return le(),null;case 10:return ns(n.type),null;case 22:case 23:return Nn(n),of(),e!==null&&Y(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ns(Ve),null;case 25:return null;default:return null}}function ey(e,n){switch(Gh(n),n.tag){case 3:ns(Ve),le();break;case 26:case 27:case 5:Hi(n);break;case 4:le();break;case 31:n.memoizedState!==null&&Nn(n);break;case 13:Nn(n);break;case 19:Y(Re);break;case 10:ns(n.type);break;case 22:case 23:Nn(n),of(),e!==null&&Y(Br);break;case 24:ns(Ve)}}function ll(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(T){ee(n,n.return,T)}}function Bs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var I=a,j=T;try{j()}catch(Q){ee(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){ee(n,n.return,Q)}}function ny(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Qg(n,a)}catch(o){ee(e,e.return,o)}}}function iy(e,n,a){a.props=Qr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ee(e,n,o)}}function ul(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ee(e,n,h)}}function Mi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,n,h)}else a.current=null}function sy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function zf(e,n,a){try{var o=e.stateNode;sA(o,e.type,a,n),o[Qe]=n}catch(h){ee(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ks(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Ks(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,a),e=e.sibling;e!==null;)Bf(e,n,a),e=e.sibling}function Wu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ks(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wu(e,n,a),e=e.sibling;e!==null;)Wu(e,n,a),e=e.sibling}function ay(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,o,a),n[De]=e,n[Qe]=a}catch(f){ee(e,e.return,f)}}var os=!1,ke=!1,qf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function U1(e,n){if(e=e.containerInfo,ud=Ec,e=vg(e),xh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,T=-1,I=-1,j=0,Q=0,$=e,B=null;e:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=y+h),$!==f||o!==0&&$.nodeType!==3||(I=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(F=$.firstChild)!==null;)B=$,$=F;for(;;){if($===e)break e;if(B===a&&++j===h&&(T=y),B===f&&++Q===o&&(I=y),(F=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:e,selectionRange:a},Ec=!1,Ke=n;Ke!==null;)if(n=Ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ke=e;else for(;Ke!==null;){switch(n=Ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ct=Qr(a.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){ee(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ke=e;break}Ke=n.return}}function ly(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(e,a),o&4&&ll(5,a);break;case 1:if(us(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){ee(a,a.return,y)}else{var h=Qr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ee(a,a.return,y)}}o&64&&ny(a),o&512&&ul(a,a.return);break;case 3:if(us(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Qg(e,n)}catch(y){ee(a,a.return,y)}}break;case 27:n===null&&o&4&&ay(a);case 26:case 5:us(e,a),n===null&&o&4&&sy(a),o&512&&ul(a,a.return);break;case 12:us(e,a);break;case 31:us(e,a),o&4&&hy(e,a);break;case 13:us(e,a),o&4&&fy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Q1.bind(null,a),fA(e,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||ke,h=os;var f=ke;os=o,(ke=n)&&!f?cs(e,a,(a.subtreeFlags&8772)!==0):us(e,a),os=h,ke=f}break;case 30:break;default:us(e,a)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&da(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,yn=!1;function ls(e,n,a){for(a=a.child;a!==null;)cy(e,n,a),a=a.sibling}function cy(e,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(je,a)}catch{}switch(a.tag){case 26:ke||Mi(a,n),ls(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||Mi(a,n);var o=ge,h=yn;Ks(a.type)&&(ge=a.stateNode,yn=!1),ls(e,n,a),_l(a.stateNode),ge=o,yn=h;break;case 5:ke||Mi(a,n);case 6:if(o=ge,h=yn,ge=null,ls(e,n,a),ge=o,yn=h,ge!==null)if(yn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(f){ee(a,n,f)}else try{ge.removeChild(a.stateNode)}catch(f){ee(a,n,f)}break;case 18:ge!==null&&(yn?(e=ge,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ja(e)):n_(ge,a.stateNode));break;case 4:o=ge,h=yn,ge=a.stateNode.containerInfo,yn=!0,ls(e,n,a),ge=o,yn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),ke||Bs(4,a,n),ls(e,n,a);break;case 1:ke||(Mi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&iy(a,n,o)),ls(e,n,a);break;case 21:ls(e,n,a);break;case 22:ke=(o=ke)||a.memoizedState!==null,ls(e,n,a),ke=o;break;default:ls(e,n,a)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ja(e)}catch(a){ee(n,n.return,a)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ja(e)}catch(a){ee(n,n.return,a)}}function P1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(r(435,e.tag))}}function tc(e,n){var a=P1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Y1.bind(null,e,o);o.then(h,h)}})}function _n(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(Ks(T.type)){ge=T.stateNode,yn=!1;break t}break;case 5:ge=T.stateNode,yn=!1;break t;case 3:case 4:ge=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(ge===null)throw Error(r(160));cy(f,y,h),ge=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var si=null;function dy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),o&4&&(Bs(3,e,e.return),ll(3,e),Bs(5,e,e.return));break;case 1:_n(n,e),vn(e),o&512&&(ke||a===null||Mi(a,a.return)),o&64&&os&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=si;if(_n(n,e),vn(e),o&512&&(ke||a===null||Mi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,o,a),f[De]=e,Oe(f),o=f;break t;case"link":var y=d_("link","href",h).get(o+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break e}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;case"meta":if(y=d_("meta","content",h).get(o+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break e}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[De]=e,Oe(f),o=f}e.stateNode=o}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?m_(h,e.type,e.stateNode):f_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(n,e),vn(e),o&512&&(ke||a===null||Mi(a,a.return)),a!==null&&o&4&&zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(n,e),vn(e),o&512&&(ke||a===null||Mi(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(ct){ee(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(_n(n,e),vn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ct){ee(e,e.return,ct)}}break;case 3:if(pc=null,h=si,si=mc(n.containerInfo),_n(n,e),si=h,vn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(ct){ee(e,e.return,ct)}qf&&(qf=!1,my(e));break;case 4:o=si,si=mc(e.stateNode.containerInfo),_n(n,e),vn(e),si=o;break;case 12:_n(n,e),vn(e);break;case 31:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=os,Q=ke;if(os=j||h,ke=Q||I,_n(n,e),ke=Q,os=j,vn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||os||ke||Yr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){ee(I,I.return,ct)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){ee(I,I.return,ct)}}}else if(n.tag===18){if(a===null){I=n;try{var F=I.stateNode;h?i_(F,!0):i_(I.stateNode,!1)}catch(ct){ee(I,I.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,tc(e,a))));break;case 19:_n(n,e),vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(ry(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=jf(e);Wu(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(pn(y,""),a.flags&=-33);var T=jf(e);Wu(e,T,y);break;case 3:case 4:var I=a.stateNode.containerInfo,j=jf(e);Bf(e,j,I);break;default:throw Error(r(161))}}catch(Q){ee(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function us(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(e,n.alternate,n),n=n.sibling}function Yr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Yr(n);break;case 1:Mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&iy(n,n.return,a),Yr(n);break;case 27:_l(n.stateNode);case 26:case 5:Mi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}e=e.sibling}}function cs(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),ll(4,f);break;case 1:if(cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ee(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gg(I[h],T)}catch(j){ee(o,o.return,j)}}a&&y&64&&ny(f),ul(f,f.return);break;case 27:ay(f);case 26:case 5:cs(h,f,a),a&&o===null&&y&4&&sy(f),ul(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&y&4&&hy(h,f);break;case 13:cs(h,f,a),a&&y&4&&fy(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),ul(f,f.return);break;case 30:break;default:cs(h,f,a)}n=n.sibling}}function Hf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xo(a))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e))}function ri(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,a,o),n=n.sibling}function gy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,a,o),h&2048&&ll(9,n);break;case 1:ri(e,n,a,o);break;case 3:ri(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e)));break;case 12:if(h&2048){ri(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ee(n,n.return,I)}}else ri(e,n,a,o);break;case 31:ri(e,n,a,o);break;case 13:ri(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,a,o):cl(e,n):f._visibility&2?ri(e,n,a,o):(f._visibility|=2,ja(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(y,n);break;case 24:ri(e,n,a,o),h&2048&&Ff(n.alternate,n);break;default:ri(e,n,a,o)}}function ja(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,T=a,I=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:ja(f,y,T,I,h),ll(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?ja(f,y,T,I,h):cl(f,y):(Q._visibility|=2,ja(f,y,T,I,h)),h&&j&2048&&Hf(y.alternate,y);break;case 24:ja(f,y,T,I,h),h&&j&2048&&Ff(y.alternate,y);break;default:ja(f,y,T,I,h)}n=n.sibling}}function cl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:cl(a,o),h&2048&&Hf(o.alternate,o);break;case 24:cl(a,o),h&2048&&Ff(o.alternate,o);break;default:cl(a,o)}n=n.sibling}}var hl=8192;function Ba(e,n,a){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)py(e,n,a),e=e.sibling}function py(e,n,a){switch(e.tag){case 26:Ba(e,n,a),e.flags&hl&&e.memoizedState!==null&&bA(a,si,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,n,a);break;case 3:case 4:var o=si;si=mc(e.stateNode.containerInfo),Ba(e,n,a),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ba(e,n,a),hl=o):Ba(e,n,a));break;default:Ba(e,n,a)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ke=o,vy(o,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):fl(e);break;default:fl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ke=o,vy(o,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function vy(e,n){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ke=o;else t:for(a=e;Ke!==null;){o=Ke;var h=o.sibling,f=o.return;if(uy(o),o===a){Ke=null;break t}if(h!==null){h.return=f,Ke=h;break t}Ke=f}}}var z1={getCacheForType:function(e){var n=tn(Ve),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return tn(Ve).controller.signal}},j1=typeof WeakMap=="function"?WeakMap:Map,Jt=0,oe=null,Vt=null,kt=0,te=0,Dn=null,qs=!1,qa=!1,Gf=!1,hs=0,Te=0,Hs=0,Kr=0,Qf=0,On=0,Ha=0,dl=null,En=null,Yf=!1,nc=0,Ey=0,ic=1/0,sc=null,Fs=null,qe=0,Gs=null,Fa=null,fs=0,Kf=0,Xf=null,Ty=null,ml=0,$f=null;function Mn(){return(Jt&2)!==0&&kt!==0?kt&-kt:G.T!==null?nd():ru()}function Ay(){if(On===0)if((kt&536870912)===0||Ht){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),On=e}else On=536870912;return e=In.current,e!==null&&(e.flags|=32),On}function Tn(e,n,a){(e===oe&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),Qs(e,kt,On,!1)),Ar(e,a),((Jt&2)===0||e!==oe)&&(e===oe&&((Jt&2)===0&&(Kr|=a),Te===4&&Qs(e,kt,On,!1)),Vi(e))}function Sy(e,n,a){if((Jt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?H1(e,n):Zf(e,n,!0),f=o;do{if(h===0){qa&&!o&&Qs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!B1(a)){h=Zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=e;h=dl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ga(T,y).flags|=256),y=Zf(T,y,!1),y!==2){if(Gf&&!I){T.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break t}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ga(e,0),Qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,On,!qs);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=nc+300-Je(),10<h)){if(Qs(o,n,On,!qs),gi(o,0,!0)!==0)break t;fs=n,o.timeoutHandle=t_(by.bind(null,o,a,En,sc,Yf,n,On,Kr,Ha,qs,f,"Throttled",-0,0),h);break t}by(o,a,En,sc,Yf,n,On,Kr,Ha,qs,f,null,-0,0)}}break}while(!0);Vi(e)}function by(e,n,a,o,h,f,y,T,I,j,Q,$,B,F){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},py(n,f,$);var ct=(f&62914560)===f?nc-Je():(f&4194048)===f?Ey-Je():0;if(ct=wA($,ct),ct!==null){fs=f,e.cancelPendingCommit=ct(My.bind(null,e,n,f,a,o,h,y,T,I,Q,$,null,B,F)),Qs(e,f,y,!j);return}}My(e,n,f,a,o,h,y,T,I)}function B1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(e,n,a,o){n&=~Qf,n&=~Kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ne(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Sr(e,a,n)}function rc(){return(Jt&6)===0?(gl(0),!1):!0}function Jf(){if(Vt!==null){if(te===0)var e=Vt.return;else e=Vt,es=zr=null,df(e),La=null,Jo=0,e=Vt;for(;e!==null;)ey(e.alternate,e),e=e.return;Vt=null}}function Ga(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,oA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fs=0,Jf(),oe=e,Vt=a=Wi(e.current,null),kt=n,te=0,Dn=null,qs=!1,qa=Xn(e,n),Gf=!1,Ha=On=Qf=Kr=Hs=Te=0,En=dl=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ne(o),f=1<<h;n|=e[h],o&=~f}return hs=n,Ru(),a}function wy(e,n){It=null,G.H=rl,n===xa||n===xu?(n=Bg(),te=3):n===tf?(n=Bg(),te=4):te=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Vt===null&&(Te=1,Ku(e,jn(n,e.current)))}function Ry(){var e=In.current;return e===null?!0:(kt&4194048)===kt?Fn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Fn:!1}function Cy(){var e=G.H;return G.H=rl,e===null?rl:e}function Iy(){var e=G.A;return G.A=z1,e}function ac(){Te=4,qs||(kt&4194048)!==kt&&In.current!==null||(qa=!0),(Hs&134217727)===0&&(Kr&134217727)===0||oe===null||Qs(oe,kt,On,!1)}function Zf(e,n,a){var o=Jt;Jt|=2;var h=Cy(),f=Iy();(oe!==e||kt!==n)&&(sc=null,Ga(e,n)),n=!1;var y=Te;t:do try{if(te!==0&&Vt!==null){var T=Vt,I=Dn;switch(te){case 8:Jf(),y=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var j=te;if(te=0,Dn=null,Qa(e,T,I,j),a&&qa){y=0;break t}break;default:j=te,te=0,Dn=null,Qa(e,T,I,j)}}q1(),y=Te;break}catch(Q){wy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,es=zr=null,Jt=o,G.H=h,G.A=f,Vt===null&&(oe=null,kt=0,Ru()),y}function q1(){for(;Vt!==null;)Ny(Vt)}function H1(e,n){var a=Jt;Jt|=2;var o=Cy(),h=Iy();oe!==e||kt!==n?(sc=null,ic=Je()+500,Ga(e,n)):qa=Xn(e,n);t:do try{if(te!==0&&Vt!==null){n=Vt;var f=Dn;e:switch(te){case 1:te=0,Dn=null,Qa(e,n,f,1);break;case 2:case 9:if(zg(f)){te=0,Dn=null,Dy(n);break}n=function(){te!==2&&te!==9||oe!==e||(te=7),Vi(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:zg(f)?(te=0,Dn=null,Dy(n)):(te=0,Dn=null,Qa(e,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var T=Vt;if(y?g_(y):T.stateNode.complete){te=0,Dn=null;var I=T.sibling;if(I!==null)Vt=I;else{var j=T.return;j!==null?(Vt=j,oc(j)):Vt=null}break e}}te=0,Dn=null,Qa(e,n,f,5);break;case 6:te=0,Dn=null,Qa(e,n,f,6);break;case 8:Jf(),Te=6;break t;default:throw Error(r(462))}}F1();break}catch(Q){wy(e,Q)}while(!0);return es=zr=null,G.H=o,G.A=h,Jt=a,Vt!==null?0:(oe=null,kt=0,Ru(),Te)}function F1(){for(;Vt!==null&&!xn();)Ny(Vt)}function Ny(e){var n=Wp(e.alternate,e,hs);e.memoizedProps=e.pendingProps,n===null?oc(e):Vt=n}function Dy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Yp(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Yp(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:df(n);default:ey(a,n),n=Vt=Ig(n,hs),n=Wp(a,n,hs)}e.memoizedProps=e.pendingProps,n===null?oc(e):Vt=n}function Qa(e,n,a,o){es=zr=null,df(n),La=null,Jo=0;var h=n.return;try{if(M1(e,h,n,a,kt)){Te=1,Ku(e,jn(a,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;Te=1,Ku(e,jn(a,e.current)),Vt=null;return}n.flags&32768?(Ht||o===1?e=!0:qa||(kt&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,qs);return}e=n.return;var a=L1(n.alternate,n,hs);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);Te===0&&(Te=5)}function Oy(e,n){do{var a=k1(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);Te=6,Vt=null}function My(e,n,a,o,h,f,y,T,I){e.cancelPendingCommit=null;do lc();while(qe!==0);if((Jt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(e,a,f,y,T,I),e===oe&&(Vt=oe=null,kt=0),Fa=n,Gs=e,fs=a,Kf=f,Xf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K1(ut,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,y=Jt,Jt|=4;try{U1(e,n,a)}finally{Jt=y,nt.p=h,G.T=o}}qe=1,Vy(),xy(),Ly()}}function Vy(){if(qe===1){qe=0;var e=Gs,n=Fa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Jt;Jt|=4;try{dy(n,e);var f=cd,y=vg(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&_g(T.ownerDocument.documentElement,T)){if(I!==null&&xh(T)){var j=I.start,Q=I.end;if(Q===void 0&&(Q=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var F=B.getSelection(),ct=T.textContent.length,yt=Math.min(I.start,ct),ae=I.end===void 0?yt:Math.min(I.end,ct);!F.extend&&yt>ae&&(y=ae,ae=yt,yt=y);var x=yg(T,yt),M=yg(T,ae);if(x&&M&&(F.rangeCount!==1||F.anchorNode!==x.node||F.anchorOffset!==x.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=$.createRange();z.setStart(x.node,x.offset),F.removeAllRanges(),yt>ae?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var K=$[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ec=!!ud,cd=ud=null}finally{Jt=h,nt.p=o,G.T=a}}e.current=n,qe=2}}function xy(){if(qe===2){qe=0;var e=Gs,n=Fa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Jt;Jt|=4;try{ly(e,n.alternate,n)}finally{Jt=h,nt.p=o,G.T=a}}qe=3}}function Ly(){if(qe===4||qe===3){qe=0,ha();var e=Gs,n=Fa,a=fs,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,Fa=Gs=null,ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Xi(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var T=o[y];f(T.value,{componentStack:T.stack})}}finally{G.T=n,nt.p=h}}(fs&3)!==0&&lc(),Vi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===$f?ml++:(ml=0,$f=e):ml=0,gl(0)}}function ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Xo(n)))}function lc(){return Vy(),xy(),Ly(),Uy()}function Uy(){if(qe!==5)return!1;var e=Gs,n=Kf;Kf=0;var a=Xi(fs),o=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=Xf,Xf=null;var f=Gs,y=fs;if(qe=0,Fa=Gs=null,fs=0,(Jt&6)!==0)throw Error(r(331));var T=Jt;if(Jt|=4,_y(f.current),gy(f,f.current,y,a),Jt=T,gl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(je,f)}catch{}return!0}finally{nt.p=h,G.T=o,ky(e,n)}}function Py(e,n,a){n=jn(a,n),n=If(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(Ar(e,2),Vi(e))}function ee(e,n,a){if(e.tag===3)Py(e,e,a);else for(;n!==null;){if(n.tag===3){Py(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=jn(a,e),a=zp(2),o=Ps(n,a,2),o!==null&&(jp(a,o,n,e),Ar(o,2),Vi(o));break}}n=n.return}}function Wf(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new j1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Gf=!0,h.add(a),e=G1.bind(null,e,n,a),n.then(e,e))}function G1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(kt&a)===a&&(Te===4||Te===3&&(kt&62914560)===kt&&300>Je()-nc?(Jt&2)===0&&Ga(e,0):Qf|=a,Ha===kt&&(Ha=0)),Vi(e)}function zy(e,n){n===0&&(n=su()),e=kr(e,n),e!==null&&(Ar(e,n),Vi(e))}function Q1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),zy(e,a)}function Y1(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),zy(e,a)}function K1(e,n){return ve(e,n)}var uc=null,Ya=null,td=!1,cc=!1,ed=!1,Ys=0;function Vi(e){e!==Ya&&e.next===null&&(Ya===null?uc=Ya=e:Ya=Ya.next=e),cc=!0,td||(td=!0,$1())}function gl(e,n){if(!ed&&cc){ed=!0;do for(var a=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ne(42|e)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Hy(o,f))}else f=kt,f=gi(o,o===oe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(a=!0,Hy(o,f));o=o.next}while(a);ed=!1}}function X1(){jy()}function jy(){cc=td=!1;var e=0;Ys!==0&&aA()&&(e=Ys);for(var n=Je(),a=null,o=uc;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,a===null?uc=h:a.next=h,h===null&&(Ya=a)):(a=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}qe!==0&&qe!==5||gl(e),Ys!==0&&(Ys=0)}function By(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-ne(f),T=1<<y,I=h[y];I===-1?((T&a)===0||(T&o)!==0)&&(h[y]=Nh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=oe,a=kt,a=gi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&fn(o),Xi(a)){case 2:case 8:a=tt;break;case 32:a=ut;break;case 268435456:a=Qt;break;default:a=ut}return o=qy.bind(null,e),a=ve(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&fn(o),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var o=kt;return o=gi(e,e===oe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),By(e,Je()),e.callbackNode!=null&&e.callbackNode===a?qy.bind(null,e):null)}function Hy(e,n){if(lc())return null;Sy(e,n,!0)}function $1(){lA(function(){(Jt&6)!==0?ve(Er,X1):jy()})}function nd(){if(Ys===0){var e=Ma;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Ys=e}return Ys}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function Gy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function J1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Fy((h[Qe]||null).action),y=o.submitter;y&&(n=(n=y[Qe]||null)?Fy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Ri("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var I=y?Gy(h,y):new FormData(h);Af(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=y?Gy(h,y):new FormData(h),Af(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],Z1=sd.toLowerCase(),W1=sd[0].toUpperCase()+sd.slice(1);ii(Z1,"on"+W1)}ii(Ag,"onAnimationEnd"),ii(Sg,"onAnimationIteration"),ii(bg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(g1,"onTransitionRun"),ii(p1,"onTransitionStart"),ii(y1,"onTransitionCancel"),ii(wg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Qy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var T=o[y],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}else for(y=0;y<o.length;y++){if(T=o[y],I=T.instance,j=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=I}}}}function xt(e,n){var a=n[fa];a===void 0&&(a=n[fa]=new Set);var o=e+"__bubble";a.has(o)||(Yy(n,e,2,!1),a.add(o))}function rd(e,n,a){var o=0;n&&(o|=4),Yy(a,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[hc]){e[hc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(tA.has(a)||rd(a,!1,e),rd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,rd("selectionchange",!1,n))}}function Yy(e,n,a,o){switch(A_(n)){case 2:var h=IA;break;case 8:h=NA;break;default:h=Td}a=h.bind(null,n,a,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function od(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var T=o.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=o.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=vi(T),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){o=f=y;continue t}T=T.parentNode}}o=o.return}Is(function(){var j=f,Q=kn(a),$=[];t:{var B=Rg.get(e);if(B!==void 0){var F=Ri,ct=e;switch(e){case"keypress":if(Dr(a)===0)break t;case"keydown":case"keyup":F=Au;break;case"focusin":ct="focus",F=Mr;break;case"focusout":ct="blur",F=Mr;break;case"beforeblur":case"afterblur":F=Mr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Ag:case Sg:case bg:F=gu;break;case wg:F=S;break;case"scroll":case"scrollend":F=jo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zi;break;case"toggle":case"beforetoggle":F=Ct}var yt=(n&4)!==0,ae=!yt&&(e==="scroll"||e==="scrollend"),x=yt?B!==null?B+"Capture":null:B;yt=[];for(var M=j,z;M!==null;){var K=M;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||x===null||(K=Wn(M,x),K!=null&&yt.push(yl(M,K,z))),ae)break;M=M.return}0<yt.length&&(B=new F(B,ct,null,a,Q),$.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&a!==Uo&&(ct=a.relatedTarget||a.fromElement)&&(vi(ct)||ct[yi]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ct=a.relatedTarget||a.toElement,F=j,ct=ct?vi(ct):null,ct!==null&&(ae=c(ct),yt=ct.tag,ct!==ae||yt!==5&&yt!==27&&yt!==6)&&(ct=null)):(F=null,ct=j),F!==ct)){if(yt=Bo,K="onMouseLeave",x="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Zi,K="onPointerLeave",x="onPointerEnter",M="pointer"),ae=F==null?B:bn(F),z=ct==null?B:bn(ct),B=new yt(K,M+"leave",F,a,Q),B.target=ae,B.relatedTarget=z,K=null,vi(Q)===j&&(yt=new yt(x,M+"enter",ct,a,Q),yt.target=z,yt.relatedTarget=ae,K=yt),ae=K,F&&ct)e:{for(yt=eA,x=F,M=ct,z=0,K=x;K;K=yt(K))z++;K=0;for(var mt=M;mt;mt=yt(mt))K++;for(;0<z-K;)x=yt(x),z--;for(;0<K-z;)M=yt(M),K--;for(;z--;){if(x===M||M!==null&&x===M.alternate){yt=x;break e}x=yt(x),M=yt(M)}yt=null}else yt=null;F!==null&&Ky($,B,F,yt,!1),ct!==null&&ae!==null&&Ky($,ae,ct,yt,!0)}}t:{if(B=j?bn(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Yt=hg;else if(ug(B))if(fg)Yt=f1;else{Yt=c1;var ft=u1}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&pa(j.elementType)&&(Yt=hg):Yt=h1;if(Yt&&(Yt=Yt(e,j))){cg($,Yt,a,Q);break t}ft&&ft(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&xo(B,"number",B.value)}switch(ft=j?bn(j):window,e){case"focusin":(ug(ft)||ft.contentEditable==="true")&&(ba=ft,Lh=j,Qo=null);break;case"focusout":Qo=Lh=ba=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Eg($,a,Q);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":Eg($,a,Q)}var Nt;if($t)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Sa?Vr(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ni&&a.locale!=="ko"&&(Sa||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Sa&&(Nt=zo()):(wi=Q,Po="value"in wi?wi.value:wi.textContent,Sa=!0)),ft=fc(j,Ut),0<ft.length&&(Ut=new Ii(Ut,e,null,a,Q),$.push({event:Ut,listeners:ft}),Nt?Ut.data=Nt:(Nt=Aa(a),Nt!==null&&(Ut.data=Nt)))),(Nt=Pn?r1(e,a):a1(e,a))&&(Ut=fc(j,"onBeforeInput"),0<Ut.length&&(ft=new Ii("onBeforeInput","beforeinput",null,a,Q),$.push({event:ft,listeners:Ut}),ft.data=Nt)),J1($,e,j,a,Q)}Qy($,n)})}function yl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,a),h!=null&&o.unshift(yl(e,h,f)),h=Wn(e,n),h!=null&&o.push(yl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function eA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var T=a,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=Wn(a,f),j!=null&&y.unshift(yl(a,j,I))):h||(j=Wn(a,f),j!=null&&y.push(yl(a,j,I)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var nA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(nA,`
`).replace(iA,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function re(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(e,""+o);break;case"className":wn(e,"class",o);break;case"tabIndex":wn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,a,o);break;case"style":ko(e,o,f);break;case"data":if(n!=="object"){wn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ya(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ya(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ya(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ma(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,ma(e,a,o))}}function ld(e,n,a,o,h,f){switch(a){case"style":ko(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Qe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ma(e,a,o)}}}function nn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:re(e,n,f,y,a,null)}}h&&re(e,n,"srcSet",a.srcSet,a,null),o&&re(e,n,"src",a.src,a,null);return;case"input":xt("invalid",e);var T=f=y=h=null,I=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":I=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:re(e,n,o,Q,a,null)}}uu(e,f,T,I,j,y,h,!1);return;case"select":xt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":o=T;default:re(e,n,h,T,a,null)}n=f,a=y,e.multiple=!!o,n!=null?bs(e,!!o,n,!1):a!=null&&bs(e,!!o,a,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:re(e,n,y,T,a,null)}ws(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":re(e,n,I,o,a,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<pl.length;o++)xt(pl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:re(e,n,j,o,a,null)}return;default:if(pa(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&ld(e,n,Q,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&re(e,n,T,o,a,null))}function sA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,I=null,j=null,Q=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(F)||re(e,n,F,null,o,$)}}for(var B in o){var F=o[B];if($=a[B],o.hasOwnProperty(B)&&(F!=null||$!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Q=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&re(e,n,B,F,o,$)}}ga(e,y,T,I,j,Q,f,h);return;case"select":F=y=T=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||re(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==I&&re(e,n,h,f,o,I)}n=T,a=y,o=F,B!=null?bs(e,!!a,B,!1):!!o!=!!a&&(n!=null?bs(e,!!a,n,!0):bs(e,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,n,T,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&re(e,n,y,h,o,f)}cu(e,B,F);return;case"option":for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:re(e,n,ct,null,o,B));for(I in o)B=o[I],F=a[I],o.hasOwnProperty(I)&&B!==F&&(B!=null||F!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":re(e,n,I,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&re(e,n,yt,null,o,B);for(j in o)if(B=o[j],F=a[j],o.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:re(e,n,j,B,o,F)}return;default:if(pa(n)){for(var ae in a)B=a[ae],a.hasOwnProperty(ae)&&B!==void 0&&!o.hasOwnProperty(ae)&&ld(e,n,ae,void 0,o,B);for(Q in o)B=o[Q],F=a[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||ld(e,n,Q,B,o,F);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!o.hasOwnProperty(x)&&re(e,n,x,null,o,B);for($ in o)B=o[$],F=a[$],!o.hasOwnProperty($)||B===F||B==null&&F==null||re(e,n,$,B,o,F)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&Jy(y)){for(y=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],j=I.startTime;if(j>T)break;var Q=I.transferSize,$=I.initiatorType;Q&&Jy($)&&(I=I.responseEnd,y+=Q*(I<T?1:(T-j)/(I-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function aA(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(uA)}:t_;function uA(e){setTimeout(function(){throw e})}function Ks(e){return e==="head"}function n_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")_l(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,_l(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&_l(e.ownerDocument.body);a=h}while(a);Ja(n)}function i_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function hA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Gn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,a){switch(n=dc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function _l(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);da(e)}var Qn=new Map,l_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=nt.d;nt.d={f:dA,r:mA,D:gA,C:pA,L:yA,m:_A,X:EA,S:vA,M:TA};function dA(){var e=ds.f(),n=rc();return e||n}function mA(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?wp(n):ds.r(e)}var Ka=typeof document>"u"?null:document;function u_(e,n,a){var o=Ka;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),l_.has(h)||(l_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),nn(n,"link",e),Oe(n),o.head.appendChild(n)))}}function gA(e){ds.D(e),u_("dns-prefetch",e,null)}function pA(e,n){ds.C(e,n),u_("preconnect",e,n)}function yA(e,n,a){ds.L(e,n,a);var o=Ka;if(o&&e&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(e)+'"]';var f=h;switch(n){case"style":f=Xa(e);break;case"script":f=$a(e)}Qn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),nn(n,"link",e),Oe(n),o.head.appendChild(n)))}}function _A(e,n){ds.m(e,n);var a=Ka;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(e)}if(!Qn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Qn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(f)))return}o=a.createElement("link"),nn(o,"link",e),Oe(o),a.head.appendChild(o)}}}function vA(e,n,a){ds.S(e,n,a);var o=Ka;if(o&&e){var h=Ei(o).hoistableStyles,f=Xa(e);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=o.querySelector(vl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Qn.get(f))&&yd(e,a);var I=y=o.createElement("link");Oe(I),nn(I,"link",e),I._p=new Promise(function(j,Q){I.onload=j,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function EA(e,n){ds.X(e,n);var a=Ka;if(a&&e){var o=Ei(a).hoistableScripts,h=$a(e),f=o.get(h);f||(f=a.querySelector(El(h)),f||(e=A({src:e,async:!0},n),(n=Qn.get(h))&&_d(e,n),f=a.createElement("script"),Oe(f),nn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function TA(e,n){ds.M(e,n);var a=Ka;if(a&&e){var o=Ei(a).hoistableScripts,h=$a(e),f=o.get(h);f||(f=a.querySelector(El(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Qn.get(h))&&_d(e,n),f=a.createElement("script"),Oe(f),nn(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(e,n,a,o){var h=(h=wt.current)?mc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xa(a.href),a=Ei(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xa(a.href);var f=Ei(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(vl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),f||AA(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(a),a=Ei(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Xa(e){return'href="'+gn(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function AA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),nn(n,"link",a),Oe(n),e.head.appendChild(n))}function $a(e){return'[src="'+gn(e)+'"]'}function El(e){return"script[async]"+e}function f_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return n.instance=o,Oe(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Oe(o),nn(o,"style",h),gc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Xa(a.href);var f=e.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Oe(f),f;o=h_(a),(h=Qn.get(h))&&yd(o,h),f=(e.ownerDocument||e).createElement("link"),Oe(f);var y=f;return y._p=new Promise(function(T,I){y.onload=T,y.onerror=I}),nn(f,"link",o),n.state.loading|=4,gc(f,a.precedence,e),n.instance=f;case"script":return f=$a(a.src),(h=e.querySelector(El(f)))?(n.instance=h,Oe(h),h):(o=a,(h=Qn.get(f))&&(o=A({},a),_d(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Oe(h),nn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,a.precedence,e));return n.instance}function gc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var T=o[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function d_(e,n,a){if(pc===null){var o=new Map,h=pc=new Map;h.set(a,o)}else h=pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var T=o.get(y);T?T.push(f):o.set(y,[f])}}return o}function m_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function SA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Oe(f);return}f=n.ownerDocument||n,o=h_(o),(h=Qn.get(h))&&yd(o,h),f=f.createElement("link"),Oe(f);var y=f;y._p=new Promise(function(T,I){y.onload=T,y.onerror=I}),nn(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var vd=0;function wA(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*rA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(RA,e),_c=null,yc.call(e))}function RA(e,n){if(!(n.state.loading&4)){var a=_c.get(e);if(a)var o=a.get(null);else{a=new Map,_c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Tl={$$typeof:et,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function CA(e,n,a,o,h,f,y,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function p_(e,n,a,o,h,f,y,T,I,j,Q,$){return e=new CA(e,n,a,y,I,j,Q,$,T),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ef(f),e}function y_(e){return e?(e=Ca,e):Ca}function __(e,n,a,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ps(e,o,n),a!==null&&(Tn(a,e,n),Wo(a,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ed(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&Tn(n,e,67108864),Ed(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Mn();n=br(n);var a=kr(e,n);a!==null&&Tn(a,e,n),Ed(e,n)}}var Ec=!0;function IA(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Td(e,n,a,o)}finally{nt.p=f,G.T=h}}function NA(e,n,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Td(e,n,a,o)}finally{nt.p=f,G.T=h}}function Td(e,n,a,o){if(Ec){var h=Ad(o);if(h===null)od(e,n,o,Tc,a),S_(e,o);else if(OA(h,e,n,a,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<DA.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=mi(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var I=1<<31-ne(y);T.entanglements[1]|=I,y&=~I}Vi(f),(Jt&6)===0&&(ic=Je()+500,gl(0))}}break;case 31:case 13:T=kr(f,2),T!==null&&Tn(T,f,2),rc(),Ed(f,2)}if(f=Ad(o),f===null&&od(e,n,o,Tc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else od(e,n,o,null,a)}}function Ad(e){return e=kn(e),Sd(e)}var Tc=null;function Sd(e){if(Tc=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=_(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case Er:return 2;case tt:return 8;case ut:case Gt:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var bd=!1,Xs=null,$s=null,Js=null,Al=new Map,Sl=new Map,Zs=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function bl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function OA(e,n,a,o,h){switch(n){case"focusin":return Xs=bl(Xs,e,n,a,o,h),!0;case"dragenter":return $s=bl($s,e,n,a,o,h),!0;case"mouseover":return Js=bl(Js,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,bl(Al.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,bl(Sl.get(f)||null,e,n,a,o,h)),!0}return!1}function b_(e){var n=vi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,$n(e.priority,function(){T_(a)});return}}else if(n===31){if(n=_(a),n!==null){e.blockedOn=n,$n(e.priority,function(){T_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ad(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Uo=o,a.target.dispatchEvent(o),Uo=null}else return n=Ln(a),n!==null&&E_(n),e.blockedOn=a,!1;n.shift()}return!0}function w_(e,n,a){Ac(e)&&a.delete(n)}function MA(){bd=!1,Xs!==null&&Ac(Xs)&&(Xs=null),$s!==null&&Ac($s)&&($s=null),Js!==null&&Ac(Js)&&(Js=null),Al.forEach(w_),Sl.forEach(w_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,MA)))}var bc=null;function R_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Sd(o||a)===null)continue;break}var f=Ln(a);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ja(e){function n(I){return Sc(I,e)}Xs!==null&&Sc(Xs,e),$s!==null&&Sc($s,e),Js!==null&&Sc(Js,e),Al.forEach(n),Sl.forEach(n);for(var a=0;a<Zs.length;a++){var o=Zs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)b_(a),a.blockedOn===null&&Zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Qe]||null;if(typeof f=="function")y||R_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Qe]||null)T=y.formAction;else if(Sd(h)!==null)continue}else T=y.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),R_(a)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}wc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Mn();__(a,o,e,n,null,null)},wc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),rc(),n[yi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,e),a===0&&b_(e)}};var I_=t.version;if(I_!=="19.2.4")throw Error(r(527,I_,"19.2.4"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var VA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{je=Rc.inject(VA),Be=Rc}catch{}}return Rl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Lp,f=kp,y=Up;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=p_(e,1,!1,null,null,a,o,null,h,f,y,C_),e[yi]=n.current,ad(e),new wd(n)},Rl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Lp,y=kp,T=Up,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=p_(e,1,!0,n,a??null,o,h,I,f,y,T,C_),n.context=y_(null),a=n.current,o=Mn(),o=br(o),h=Us(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,Ar(n,a),Vi(n),e[yi]=n.current,ad(e),new wc(n)},Rl.version="19.2.4",Rl}var P_;function FA(){if(P_)return Id.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Id.exports=HA(),Id.exports}var GA=FA(),QA=Object.defineProperty,Fc=Object.getOwnPropertySymbols,A0=Object.prototype.hasOwnProperty,S0=Object.prototype.propertyIsEnumerable,z_=(s,t,i)=>t in s?QA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Qd=(s,t)=>{for(var i in t||(t={}))A0.call(t,i)&&z_(s,i,t[i]);if(Fc)for(var i of Fc(t))S0.call(t,i)&&z_(s,i,t[i]);return s},Yd=(s,t)=>{var i={};for(var r in s)A0.call(s,r)&&t.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&Fc)for(var r of Fc(s))t.indexOf(r)<0&&S0.call(s,r)&&(i[r]=s[r]);return i};var Wr;(s=>{const t=class Lt{constructor(m,g,E,A){if(this.version=m,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],m<Lt.MIN_VERSION||m>Lt.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let b=[];for(let q=0;q<this.size;q++)b.push(!1);for(let q=0;q<this.size;q++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(E);if(this.drawCodewords(k),A==-1){let q=1e9;for(let Z=0;Z<8;Z++){this.applyMask(Z),this.drawFormatBits(Z);const X=this.getPenaltyScore();X<q&&(A=Z,q=X),this.applyMask(Z)}}l(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(m,g){const E=s.QrSegment.makeSegments(m);return Lt.encodeSegments(E,g)}static encodeBinary(m,g){const E=s.QrSegment.makeBytes(m);return Lt.encodeSegments([E],g)}static encodeSegments(m,g,E=1,A=40,b=-1,k=!0){if(!(Lt.MIN_VERSION<=E&&E<=A&&A<=Lt.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let q,Z;for(q=E;;q++){const et=Lt.getNumDataCodewords(q,g)*8,pt=d.getTotalBits(m,q);if(pt<=et){Z=pt;break}if(q>=A)throw new RangeError("Data too long")}for(const et of[Lt.Ecc.MEDIUM,Lt.Ecc.QUARTILE,Lt.Ecc.HIGH])k&&Z<=Lt.getNumDataCodewords(q,et)*8&&(g=et);let X=[];for(const et of m){i(et.mode.modeBits,4,X),i(et.numChars,et.mode.numCharCountBits(q),X);for(const pt of et.getData())X.push(pt)}l(X.length==Z);const ht=Lt.getNumDataCodewords(q,g)*8;l(X.length<=ht),i(0,Math.min(4,ht-X.length),X),i(0,(8-X.length%8)%8,X),l(X.length%8==0);for(let et=236;X.length<ht;et^=253)i(et,8,X);let lt=[];for(;lt.length*8<X.length;)lt.push(0);return X.forEach((et,pt)=>lt[pt>>>3]|=et<<7-(pt&7)),new Lt(q,g,lt,b)}getModule(m,g){return 0<=m&&m<this.size&&0<=g&&g<this.size&&this.modules[g][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),g=m.length;for(let E=0;E<g;E++)for(let A=0;A<g;A++)E==0&&A==0||E==0&&A==g-1||E==g-1&&A==0||this.drawAlignmentPattern(m[E],m[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const g=this.errorCorrectionLevel.formatBits<<3|m;let E=g;for(let b=0;b<10;b++)E=E<<1^(E>>>9)*1335;const A=(g<<10|E)^21522;l(A>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,r(A,b));this.setFunctionModule(8,7,r(A,6)),this.setFunctionModule(8,8,r(A,7)),this.setFunctionModule(7,8,r(A,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,r(A,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,r(A,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,r(A,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let E=0;E<12;E++)m=m<<1^(m>>>11)*7973;const g=this.version<<12|m;l(g>>>18==0);for(let E=0;E<18;E++){const A=r(g,E),b=this.size-11+E%3,k=Math.floor(E/3);this.setFunctionModule(b,k,A),this.setFunctionModule(k,b,A)}}drawFinderPattern(m,g){for(let E=-4;E<=4;E++)for(let A=-4;A<=4;A++){const b=Math.max(Math.abs(A),Math.abs(E)),k=m+A,q=g+E;0<=k&&k<this.size&&0<=q&&q<this.size&&this.setFunctionModule(k,q,b!=2&&b!=4)}}drawAlignmentPattern(m,g){for(let E=-2;E<=2;E++)for(let A=-2;A<=2;A++)this.setFunctionModule(m+A,g+E,Math.max(Math.abs(A),Math.abs(E))!=1)}setFunctionModule(m,g,E){this.modules[g][m]=E,this.isFunction[g][m]=!0}addEccAndInterleave(m){const g=this.version,E=this.errorCorrectionLevel;if(m.length!=Lt.getNumDataCodewords(g,E))throw new RangeError("Invalid argument");const A=Lt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][g],b=Lt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][g],k=Math.floor(Lt.getNumRawDataModules(g)/8),q=A-k%A,Z=Math.floor(k/A);let X=[];const ht=Lt.reedSolomonComputeDivisor(b);for(let et=0,pt=0;et<A;et++){let Ot=m.slice(pt,pt+Z-b+(et<q?0:1));pt+=Ot.length;const Rt=Lt.reedSolomonComputeRemainder(Ot,ht);et<q&&Ot.push(0),X.push(Ot.concat(Rt))}let lt=[];for(let et=0;et<X[0].length;et++)X.forEach((pt,Ot)=>{(et!=Z-b||Ot>=q)&&lt.push(pt[et])});return l(lt.length==k),lt}drawCodewords(m){if(m.length!=Math.floor(Lt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let A=0;A<this.size;A++)for(let b=0;b<2;b++){const k=E-b,Z=(E+1&2)==0?this.size-1-A:A;!this.isFunction[Z][k]&&g<m.length*8&&(this.modules[Z][k]=r(m[g>>>3],7-(g&7)),g++)}}l(g==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let E=0;E<this.size;E++){let A;switch(m){case 0:A=(E+g)%2==0;break;case 1:A=g%2==0;break;case 2:A=E%3==0;break;case 3:A=(E+g)%3==0;break;case 4:A=(Math.floor(E/3)+Math.floor(g/2))%2==0;break;case 5:A=E*g%2+E*g%3==0;break;case 6:A=(E*g%2+E*g%3)%2==0;break;case 7:A=((E+g)%2+E*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][E]&&A&&(this.modules[g][E]=!this.modules[g][E])}}getPenaltyScore(){let m=0;for(let b=0;b<this.size;b++){let k=!1,q=0,Z=[0,0,0,0,0,0,0];for(let X=0;X<this.size;X++)this.modules[b][X]==k?(q++,q==5?m+=Lt.PENALTY_N1:q>5&&m++):(this.finderPenaltyAddHistory(q,Z),k||(m+=this.finderPenaltyCountPatterns(Z)*Lt.PENALTY_N3),k=this.modules[b][X],q=1);m+=this.finderPenaltyTerminateAndCount(k,q,Z)*Lt.PENALTY_N3}for(let b=0;b<this.size;b++){let k=!1,q=0,Z=[0,0,0,0,0,0,0];for(let X=0;X<this.size;X++)this.modules[X][b]==k?(q++,q==5?m+=Lt.PENALTY_N1:q>5&&m++):(this.finderPenaltyAddHistory(q,Z),k||(m+=this.finderPenaltyCountPatterns(Z)*Lt.PENALTY_N3),k=this.modules[X][b],q=1);m+=this.finderPenaltyTerminateAndCount(k,q,Z)*Lt.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let k=0;k<this.size-1;k++){const q=this.modules[b][k];q==this.modules[b][k+1]&&q==this.modules[b+1][k]&&q==this.modules[b+1][k+1]&&(m+=Lt.PENALTY_N2)}let g=0;for(const b of this.modules)g=b.reduce((k,q)=>k+(q?1:0),g);const E=this.size*this.size,A=Math.ceil(Math.abs(g*20-E*10)/E)-1;return l(0<=A&&A<=9),m+=A*Lt.PENALTY_N4,l(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let E=[6];for(let A=this.size-7;E.length<m;A-=g)E.splice(1,0,A);return E}}static getNumRawDataModules(m){if(m<Lt.MIN_VERSION||m>Lt.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*m+128)*m+64;if(m>=2){const E=Math.floor(m/7)+2;g-=(25*E-10)*E-55,m>=7&&(g-=36)}return l(208<=g&&g<=29648),g}static getNumDataCodewords(m,g){return Math.floor(Lt.getNumRawDataModules(m)/8)-Lt.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m]*Lt.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let g=[];for(let A=0;A<m-1;A++)g.push(0);g.push(1);let E=1;for(let A=0;A<m;A++){for(let b=0;b<g.length;b++)g[b]=Lt.reedSolomonMultiply(g[b],E),b+1<g.length&&(g[b]^=g[b+1]);E=Lt.reedSolomonMultiply(E,2)}return g}static reedSolomonComputeRemainder(m,g){let E=g.map(A=>0);for(const A of m){const b=A^E.shift();E.push(0),g.forEach((k,q)=>E[q]^=Lt.reedSolomonMultiply(k,b))}return E}static reedSolomonMultiply(m,g){if(m>>>8||g>>>8)throw new RangeError("Byte out of range");let E=0;for(let A=7;A>=0;A--)E=E<<1^(E>>>7)*285,E^=(g>>>A&1)*m;return l(E>>>8==0),E}finderPenaltyCountPatterns(m){const g=m[1];l(g<=this.size*3);const E=g>0&&m[2]==g&&m[3]==g*3&&m[4]==g&&m[5]==g;return(E&&m[0]>=g*4&&m[6]>=g?1:0)+(E&&m[6]>=g*4&&m[0]>=g?1:0)}finderPenaltyTerminateAndCount(m,g,E){return m&&(this.finderPenaltyAddHistory(g,E),g=0),g+=this.size,this.finderPenaltyAddHistory(g,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(m,g){g[0]==0&&(m+=this.size),g.pop(),g.unshift(m)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=t;function i(_,m,g){if(m<0||m>31||_>>>m)throw new RangeError("Value out of range");for(let E=m-1;E>=0;E--)g.push(_>>>E&1)}function r(_,m){return(_>>>m&1)!=0}function l(_){if(!_)throw new Error("Assertion error")}const c=class Ae{constructor(m,g,E){if(this.mode=m,this.numChars=g,this.bitData=E,g<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(m){let g=[];for(const E of m)i(E,8,g);return new Ae(Ae.Mode.BYTE,m.length,g)}static makeNumeric(m){if(!Ae.isNumeric(m))throw new RangeError("String contains non-numeric characters");let g=[];for(let E=0;E<m.length;){const A=Math.min(m.length-E,3);i(parseInt(m.substring(E,E+A),10),A*3+1,g),E+=A}return new Ae(Ae.Mode.NUMERIC,m.length,g)}static makeAlphanumeric(m){if(!Ae.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],E;for(E=0;E+2<=m.length;E+=2){let A=Ae.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E))*45;A+=Ae.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E+1)),i(A,11,g)}return E<m.length&&i(Ae.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E)),6,g),new Ae(Ae.Mode.ALPHANUMERIC,m.length,g)}static makeSegments(m){return m==""?[]:Ae.isNumeric(m)?[Ae.makeNumeric(m)]:Ae.isAlphanumeric(m)?[Ae.makeAlphanumeric(m)]:[Ae.makeBytes(Ae.toUtf8ByteArray(m))]}static makeEci(m){let g=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)i(m,8,g);else if(m<16384)i(2,2,g),i(m,14,g);else if(m<1e6)i(6,3,g),i(m,21,g);else throw new RangeError("ECI assignment value out of range");return new Ae(Ae.Mode.ECI,0,g)}static isNumeric(m){return Ae.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return Ae.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,g){let E=0;for(const A of m){const b=A.mode.numCharCountBits(g);if(A.numChars>=1<<b)return 1/0;E+=4+b+A.bitData.length}return E}static toUtf8ByteArray(m){m=encodeURI(m);let g=[];for(let E=0;E<m.length;E++)m.charAt(E)!="%"?g.push(m.charCodeAt(E)):(g.push(parseInt(m.substring(E+1,E+3),16)),E+=2);return g}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=c;s.QrSegment=c})(Wr||(Wr={}));(s=>{(t=>{const i=class{constructor(l,c){this.ordinal=l,this.formatBits=c}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),t.Ecc=i})(s.QrCode||(s.QrCode={}))})(Wr||(Wr={}));(s=>{(t=>{const i=class{constructor(l,c){this.modeBits=l,this.numBitsCharCount=c}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),t.Mode=i})(s.QrSegment||(s.QrSegment={}))})(Wr||(Wr={}));var no=Wr;var YA={L:no.QrCode.Ecc.LOW,M:no.QrCode.Ecc.MEDIUM,Q:no.QrCode.Ecc.QUARTILE,H:no.QrCode.Ecc.HIGH},b0=128,w0="L",R0="#FFFFFF",C0="#000000",I0=!1,N0=1,KA=4,XA=0,$A=.1;function D0(s,t=0){const i=[];return s.forEach(function(r,l){let c=null;r.forEach(function(d,_){if(!d&&c!==null){i.push(`M${c+t} ${l+t}h${_-c}v1H${c+t}z`),c=null;return}if(_===r.length-1){if(!d)return;c===null?i.push(`M${_+t},${l+t} h1v1H${_+t}z`):i.push(`M${c+t},${l+t} h${_+1-c}v1H${c+t}z`);return}d&&c===null&&(c=_)})}),i.join("")}function O0(s,t){return s.slice().map((i,r)=>r<t.y||r>=t.y+t.h?i:i.map((l,c)=>c<t.x||c>=t.x+t.w?l:!1))}function JA(s,t,i,r){if(r==null)return null;const l=s.length+i*2,c=Math.floor(t*$A),d=l/t,_=(r.width||c)*d,m=(r.height||c)*d,g=r.x==null?s.length/2-_/2:r.x*d,E=r.y==null?s.length/2-m/2:r.y*d,A=r.opacity==null?1:r.opacity;let b=null;if(r.excavate){let q=Math.floor(g),Z=Math.floor(E),X=Math.ceil(_+g-q),ht=Math.ceil(m+E-Z);b={x:q,y:Z,w:X,h:ht}}const k=r.crossOrigin;return{x:g,y:E,h:m,w:_,excavation:b,opacity:A,crossOrigin:k}}function ZA(s,t){return t!=null?Math.max(Math.floor(t),0):s?KA:XA}function M0({value:s,level:t,minVersion:i,includeMargin:r,marginSize:l,imageSettings:c,size:d,boostLevel:_}){let m=He.useMemo(()=>{const q=(Array.isArray(s)?s:[s]).reduce((Z,X)=>(Z.push(...no.QrSegment.makeSegments(X)),Z),[]);return no.QrCode.encodeSegments(q,YA[t],i,void 0,void 0,_)},[s,t,i,_]);const{cells:g,margin:E,numCells:A,calculatedImageSettings:b}=He.useMemo(()=>{let k=m.getModules();const q=ZA(r,l),Z=k.length+q*2,X=JA(k,d,q,c);return{cells:k,margin:q,numCells:Z,calculatedImageSettings:X}},[m,d,c,r,l]);return{qrcode:m,margin:E,cells:g,numCells:A,calculatedImageSettings:b}}var WA=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),V0=He.forwardRef(function(t,i){const r=t,{value:l,size:c=b0,level:d=w0,bgColor:_=R0,fgColor:m=C0,includeMargin:g=I0,minVersion:E=N0,boostLevel:A,marginSize:b,imageSettings:k}=r,Z=Yd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:X}=Z,ht=Yd(Z,["style"]),lt=k?.src,et=He.useRef(null),pt=He.useRef(null),Ot=He.useCallback(bt=>{et.current=bt,typeof i=="function"?i(bt):i&&(i.current=bt)},[i]),[Rt,N]=He.useState(!1),{margin:w,cells:C,numCells:V,calculatedImageSettings:D}=M0({value:l,level:d,minVersion:E,boostLevel:A,includeMargin:g,marginSize:b,imageSettings:k,size:c});He.useEffect(()=>{if(et.current!=null){const bt=et.current,Xt=bt.getContext("2d");if(!Xt)return;let G=C;const nt=pt.current,dt=D!=null&&nt!==null&&nt.complete&&nt.naturalHeight!==0&&nt.naturalWidth!==0;dt&&D.excavation!=null&&(G=O0(C,D.excavation));const Dt=window.devicePixelRatio||1;bt.height=bt.width=c*Dt;const qt=c/V*Dt;Xt.scale(qt,qt),Xt.fillStyle=_,Xt.fillRect(0,0,V,V),Xt.fillStyle=m,WA?Xt.fill(new Path2D(D0(G,w))):C.forEach(function(O,Y){O.forEach(function(st,rt){st&&Xt.fillRect(rt+w,Y+w,1,1)})}),D&&(Xt.globalAlpha=D.opacity),dt&&Xt.drawImage(nt,D.x+w,D.y+w,D.w,D.h)}}),He.useEffect(()=>{N(!1)},[lt]);const L=Qd({height:c,width:c},X);let R=null;return lt!=null&&(R=He.createElement("img",{src:lt,key:lt,style:{display:"none"},onLoad:()=>{N(!0)},ref:pt,crossOrigin:D?.crossOrigin})),He.createElement(He.Fragment,null,He.createElement("canvas",Qd({style:L,height:c,width:c,ref:Ot,role:"img"},ht)),R)});V0.displayName="QRCodeCanvas";var tS=He.forwardRef(function(t,i){const r=t,{value:l,size:c=b0,level:d=w0,bgColor:_=R0,fgColor:m=C0,includeMargin:g=I0,minVersion:E=N0,boostLevel:A,title:b,marginSize:k,imageSettings:q}=r,Z=Yd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:X,cells:ht,numCells:lt,calculatedImageSettings:et}=M0({value:l,level:d,minVersion:E,boostLevel:A,includeMargin:g,marginSize:k,imageSettings:q,size:c});let pt=ht,Ot=null;q!=null&&et!=null&&(et.excavation!=null&&(pt=O0(ht,et.excavation)),Ot=He.createElement("image",{href:q.src,height:et.h,width:et.w,x:et.x+X,y:et.y+X,preserveAspectRatio:"none",opacity:et.opacity,crossOrigin:et.crossOrigin}));const Rt=D0(pt,X);return He.createElement("svg",Qd({height:c,width:c,viewBox:`0 0 ${lt} ${lt}`,ref:i,role:"img"},Z),!!b&&He.createElement("title",null,b),He.createElement("path",{fill:_,d:`M0,0 h${lt}v${lt}H0z`,shapeRendering:"crispEdges"}),He.createElement("path",{fill:m,d:Rt,shapeRendering:"crispEdges"}),Ot)});tS.displayName="QRCodeSVG";const x0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();const eS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase());const j_=s=>{const t=nS(s);return t.charAt(0).toUpperCase()+t.slice(1)};var iS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const rS=Pt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,..._},m)=>Pt.createElement("svg",{ref:m,...iS,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:x0("lucide",l),...!c&&!sS(_)&&{"aria-hidden":"true"},..._},[...d.map(([g,E])=>Pt.createElement(g,E)),...Array.isArray(c)?c:[c]]));const ye=(s,t)=>{const i=Pt.forwardRef(({className:r,...l},c)=>Pt.createElement(rS,{ref:c,iconNode:t,className:x0(`lucide-${eS(j_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=j_(s),i};const aS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oS=ye("arrow-right",aS);const lS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uS=ye("check",lS);const cS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hS=ye("chevron-down",cS);const fS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dS=ye("chevron-left",fS);const mS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gS=ye("chevron-right",mS);const pS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yS=ye("chevron-up",pS);const _S=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],vS=ye("coffee",_S);const ES=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],B_=ye("history",ES);const TS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],q_=ye("layout-dashboard",TS);const AS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],SS=ye("log-out",AS);const bS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wS=ye("menu",bS);const RS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],CS=ye("pen",RS);const IS=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],H_=ye("percent",IS);const NS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DS=ye("plus",NS);const OS=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],F_=ye("receipt",OS);const MS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],VS=ye("refresh-cw",MS);const xS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],LS=ye("save",xS);const kS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],US=ye("smartphone",kS);const PS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zS=ye("trash-2",PS);const jS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],G_=ye("users",jS);const BS=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],qS=ye("utensils-crossed",BS);const HS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Q_=ye("wallet",HS);const FS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y_=ye("x",FS),GS=()=>{};var K_={};const L0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},QS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],_=s[i++],m=((l&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,_=d?s[l+1]:0,m=l+2<s.length,g=m?s[l+2]:0,E=c>>2,A=(c&3)<<4|_>>4;let b=(_&15)<<2|g>>6,k=g&63;m||(k=64,d||(b=64)),r.push(i[E],i[A],i[b],i[k])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(L0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):QS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],_=l<s.length?i[s.charAt(l)]:0;++l;const g=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||_==null||g==null||A==null)throw new YS;const b=c<<2|_>>4;if(r.push(b),g!==64){const k=_<<4&240|g>>2;if(r.push(k),A!==64){const q=g<<6&192|A;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KS=function(s){const t=L0(s);return k0.encodeByteArray(t,!0)},Gc=function(s){return KS(s).replace(/\./g,"")},U0=function(s){try{return k0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $S=()=>XS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ZS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&U0(s[1]);return t&&JSON.parse(t)},ch=()=>{try{return GS()||$S()||JS()||ZS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},P0=s=>ch()?.emulatorHosts?.[s],WS=s=>{const t=P0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},z0=()=>ch()?.config,j0=s=>ch()?.[`_${s}`];class tb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(s){return(await fetch(s,{credentials:"include"})).ok}function eb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Ol={};function nb(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?s.emulator.push(t):s.prod.push(t);return s}function ib(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let X_=!1;function q0(s,t){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ol[s]===t||Ol[s]||X_)return;Ol[s]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=nb().prod.length>0;function d(){const b=document.getElementById(r);b&&b.remove()}function _(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{X_=!0,d()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=ib(r),k=i("text"),q=document.getElementById(k)||document.createElement("span"),Z=i("learnmore"),X=document.getElementById(Z)||document.createElement("a"),ht=i("preprendIcon"),lt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const et=b.element;_(et),E(X,Z);const pt=g();m(lt,ht),et.append(lt,q,X,pt),document.body.appendChild(et)}c?(q.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function rb(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ab(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ob(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ub(){const s=hn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cb(){return!rb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hb(){try{return typeof indexedDB=="object"}catch{return!1}}function fb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const db="FirebaseError";class Ts extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=db,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mb(c,r):"Error",_=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,_,r)}}function mb(s,t){return s.replace(gb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const gb=/\{\$([^}]+)}/g;function pb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ta(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if($_(c)&&$_(d)){if(!ta(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function $_(s){return s!==null&&typeof s=="object"}function Kl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yb(s,t){const i=new _b(s,t);return i.subscribe.bind(i)}class _b{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");vb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function Sn(s){return s&&s._delegate?s._delegate:s}class ea{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class Eb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new tb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ab(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);r===_&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tb(s){return s===Xr?void 0:s}function Ab(s){return s.instantiationMode==="EAGER"}class Sb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Eb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const bb={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},wb=zt.INFO,Rb={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},Cb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=Rb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=wb,this._logHandler=Cb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const Ib=(s,t)=>t.some(i=>s instanceof i);let J_,Z_;function Nb(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Db(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,Kd=new WeakMap,F0=new WeakMap,Vd=new WeakMap,Tm=new WeakMap;function Ob(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&H0.set(i,s)}).catch(()=>{}),Tm.set(t,s),t}function Mb(s){if(Kd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Kd.set(s,t)}let Xd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Kd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||F0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Vb(s){Xd=s(Xd)}function xb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(xd(this),t,...i);return F0.set(r,t.sort?t.sort():[t]),rr(r)}:Db().includes(s)?function(...t){return s.apply(xd(this),t),rr(H0.get(this))}:function(...t){return rr(s.apply(xd(this),t))}}function Lb(s){return typeof s=="function"?xb(s):(s instanceof IDBTransaction&&Mb(s),Ib(s,Nb())?new Proxy(s,Xd):s)}function rr(s){if(s instanceof IDBRequest)return Ob(s);if(Vd.has(s))return Vd.get(s);const t=Lb(s);return t!==s&&(Vd.set(s,t),Tm.set(t,s)),t}const xd=s=>Tm.get(s);function kb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),_=rr(d);return r&&d.addEventListener("upgradeneeded",m=>{r(rr(d.result),m.oldVersion,m.newVersion,rr(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),_.then(m=>{c&&m.addEventListener("close",()=>c()),l&&m.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),_}const Ub=["get","getKey","getAll","getAllKeys","count"],Pb=["put","add","delete","clear"],Ld=new Map;function W_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Pb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Ub.includes(i)))return;const c=async function(d,..._){const m=this.transaction(d,l?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(_.shift())),(await Promise.all([g[i](..._),l&&m.done]))[0]};return Ld.set(t,c),c}Vb(s=>({...s,get:(t,i,r)=>W_(t,i)||s.get(t,i,r),has:(t,i)=>!!W_(t,i)||s.has(t,i)}));class zb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function jb(s){return s.getComponent()?.type==="VERSION"}const $d="@firebase/app",tv="0.14.8";const ys=new Em("@firebase/app"),Bb="@firebase/app-compat",qb="@firebase/analytics-compat",Hb="@firebase/analytics",Fb="@firebase/app-check-compat",Gb="@firebase/app-check",Qb="@firebase/auth",Yb="@firebase/auth-compat",Kb="@firebase/database",Xb="@firebase/data-connect",$b="@firebase/database-compat",Jb="@firebase/functions",Zb="@firebase/functions-compat",Wb="@firebase/installations",t2="@firebase/installations-compat",e2="@firebase/messaging",n2="@firebase/messaging-compat",i2="@firebase/performance",s2="@firebase/performance-compat",r2="@firebase/remote-config",a2="@firebase/remote-config-compat",o2="@firebase/storage",l2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",h2="@firebase/firestore-compat",f2="firebase",d2="12.9.0";const Jd="[DEFAULT]",m2={[$d]:"fire-core",[Bb]:"fire-core-compat",[Hb]:"fire-analytics",[qb]:"fire-analytics-compat",[Gb]:"fire-app-check",[Fb]:"fire-app-check-compat",[Qb]:"fire-auth",[Yb]:"fire-auth-compat",[Kb]:"fire-rtdb",[Xb]:"fire-data-connect",[$b]:"fire-rtdb-compat",[Jb]:"fire-fn",[Zb]:"fire-fn-compat",[Wb]:"fire-iid",[t2]:"fire-iid-compat",[e2]:"fire-fcm",[n2]:"fire-fcm-compat",[i2]:"fire-perf",[s2]:"fire-perf-compat",[r2]:"fire-rc",[a2]:"fire-rc-compat",[o2]:"fire-gcs",[l2]:"fire-gcs-compat",[u2]:"fire-fst",[h2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};const Qc=new Map,g2=new Map,Zd=new Map;function ev(s,t){try{s.container.addComponent(t)}catch(i){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function co(s){const t=s.name;if(Zd.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,s);for(const i of Qc.values())ev(i,s);for(const i of g2.values())ev(i,s);return!0}function Am(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ai(s){return s==null?!1:s.settings!==void 0}const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Yl("app","Firebase",p2);class y2{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const vo=d2;function G0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Jd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=z0()),!i)throw ar.create("no-options");const c=Qc.get(l);if(c){if(ta(i,c.options)&&ta(r,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new Sb(l);for(const m of Zd.values())d.addComponent(m);const _=new y2(i,r,d);return Qc.set(l,_),_}function Q0(s=Jd){const t=Qc.get(s);if(!t&&s===Jd&&z0())return G0();if(!t)throw ar.create("no-app",{appName:s});return t}function or(s,t,i){let r=m2[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}co(new ea(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const _2="firebase-heartbeat-database",v2=1,Ul="firebase-heartbeat-store";let kd=null;function Y0(){return kd||(kd=kb(_2,v2,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),kd}async function E2(s){try{const i=(await Y0()).transaction(Ul),r=await i.objectStore(Ul).get(K0(s));return await i.done,r}catch(t){if(t instanceof Ts)ys.warn(t.message);else{const i=ar.create("idb-get",{originalErrorMessage:t?.message});ys.warn(i.message)}}}async function nv(s,t){try{const r=(await Y0()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(t,K0(s)),await r.done}catch(i){if(i instanceof Ts)ys.warn(i.message);else{const r=ar.create("idb-set",{originalErrorMessage:i?.message});ys.warn(r.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}const T2=1024,A2=30;class S2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new w2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>A2){const l=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iv(),{heartbeatsToSend:i,unsentEntries:r}=b2(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ys.warn(t),""}}}function iv(){return new Date().toISOString().substring(0,10)}function b2(s,t=T2){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class w2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hb()?fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await E2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function sv(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function R2(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function C2(s){co(new ea("platform-logger",t=>new zb(t),"PRIVATE")),co(new ea("heartbeat",t=>new S2(t),"PRIVATE")),or($d,tv,s),or($d,tv,"esm2020"),or("fire-js","")}C2("");var I2="firebase",N2="12.9.0";or(I2,N2,"app");function X0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D2=X0,$0=new Yl("auth","Firebase",X0());const Yc=new Em("@firebase/auth");function O2(s,...t){Yc.logLevel<=zt.WARN&&Yc.warn(`Auth (${vo}): ${s}`,...t)}function xc(s,...t){Yc.logLevel<=zt.ERROR&&Yc.error(`Auth (${vo}): ${s}`,...t)}function ji(s,...t){throw bm(s,...t)}function ui(s,...t){return bm(s,...t)}function Sm(s,t,i){const r={...D2(),[t]:i};return new Yl("auth","Firebase",r).create(t,{appName:s.name})}function Zr(s){return Sm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M2(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&ji(s,"argument-error"),Sm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return $0.create(s,...t)}function Et(s,t,...i){if(!s)throw bm(t,...i)}function gs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw xc(t),new Error(t)}function _s(s,t){s||gs(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function V2(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}function x2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V2()||ob()||"connection"in navigator)?navigator.onLine:!0}function L2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,_s(i>t,"Short delay should be less than long delay!"),this.isMobile=sb()||lb()}get(){return x2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(s,t){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class J0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P2=new Xl(3e4,6e4);function Rm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Eo(s,t,i,r,l={}){return Z0(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const _=Kl({key:s.config.apiKey,...d}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:m,...c};return ab()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(g.credentials="include"),J0.fetch()(await W0(s,s.config.apiHost,i,_),g)})}async function Z0(s,t,i){s._canInitEmulator=!1;const r={...k2,...t};try{const l=new j2(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[m,g]=_.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw Cc(s,"user-disabled",d);const E=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Sm(s,E,g);ji(s,E)}}catch(l){if(l instanceof Ts)throw l;ji(s,"network-request-failed",{message:String(l)})}}async function z2(s,t,i,r,l={}){const c=await Eo(s,t,i,r,l);return"mfaPendingCredential"in c&&ji(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function W0(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?wm(s.config,l):`${s.config.apiScheme}://${l}`;return U2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class j2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),P2.get())})}}function Cc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ui(s,t,r);return l.customData._tokenResponse=i,l}async function B2(s,t){return Eo(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return Eo(s,"POST","/v1/accounts:lookup",t)}function Ml(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function q2(s,t=!1){const i=Sn(s),r=await i.getIdToken(t),l=Cm(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ml(Ud(l.auth_time)),issuedAtTime:Ml(Ud(l.iat)),expirationTime:Ml(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Cm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=U0(i);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function av(s){const t=Cm(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Ts&&H2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function H2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class F2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const t=s.auth,i=await s.getIdToken(),r=await Pl(s,Kc(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?tE(l.providerUserInfo):[],d=Q2(s.providerData,c),_=s.isAnonymous,m=!(s.email&&l.passwordHash)&&!d?.length,g=_?m:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,E)}async function G2(s){const t=Sn(s);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Q2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function tE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Y2(s,t){const i=await Z0(s,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await W0(s,l,"/v1/token",`key=${c}`),_=await s._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:_,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(m.credentials="include"),J0.fetch()(d,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function K2(s,t){return Eo(s,"POST","/v2/accounts:revokeToken",Rm(s,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=av(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await Y2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new io;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return gs("not implemented")}}function tr(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return q2(this,t)}reload(){return G2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Pl(this,B2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,_=i.tenantId??void 0,m=i._redirectEventId??void 0,g=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:b,isAnonymous:k,providerData:q,stsTokenManager:Z}=i;Et(A&&Z,t,"internal-error");const X=io.fromJSON(this.name,Z);Et(typeof A=="string",t,"internal-error"),tr(r,t.name),tr(l,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof k=="boolean",t,"internal-error"),tr(c,t.name),tr(d,t.name),tr(_,t.name),tr(m,t.name),tr(g,t.name),tr(E,t.name);const ht=new oi({uid:A,auth:t,email:l,emailVerified:b,displayName:r,isAnonymous:k,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:X,createdAt:g,lastLoginAt:E});return q&&Array.isArray(q)&&(ht.providerData=q.map(lt=>({...lt}))),m&&(ht._redirectEventId=m),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new io;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?tE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,_=new io;_.updateFromIdToken(r);const m=new oi({uid:l.localId,auth:t,stsTokenManager:_,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(m,g),m}}const ov=new Map;function ps(s){_s(s instanceof Function,"Expected a class definition");let t=ov.get(s);return t?(_s(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,ov.set(s,t),t)}class eE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}eE.type="NONE";const lv=eE;function Lc(s,t,i){return`firebase:${s}:${t}:${i}`}class so{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new so(ps(lv),t,r);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||ps(lv);const d=Lc(r,t.config.apiKey,t.name);let _=null;for(const g of i)try{const E=await g._get(d);if(E){let A;if(typeof E=="string"){const b=await Kc(t,{idToken:E}).catch(()=>{});if(!b)break;A=await oi._fromGetAccountInfoResponse(t,b,E)}else A=oi._fromJSON(t,E);g!==c&&(_=A),c=g;break}}catch{}const m=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new so(c,t,r):(c=m[0],_&&await c._set(d,_.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new so(c,t,r))}}function uv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oE(t))return"Blackberry";if(lE(t))return"Webos";if(iE(t))return"Safari";if((t.includes("chrome/")||sE(t))&&!t.includes("edge/"))return"Chrome";if(aE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function nE(s=hn()){return/firefox\//i.test(s)}function iE(s=hn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sE(s=hn()){return/crios\//i.test(s)}function rE(s=hn()){return/iemobile/i.test(s)}function aE(s=hn()){return/android/i.test(s)}function oE(s=hn()){return/blackberry/i.test(s)}function lE(s=hn()){return/webos/i.test(s)}function Im(s=hn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function X2(s=hn()){return Im(s)&&!!window.navigator?.standalone}function $2(){return ub()&&document.documentMode===10}function uE(s=hn()){return Im(s)||aE(s)||lE(s)||oE(s)||/windows phone/i.test(s)||rE(s)}function cE(s,t=[]){let i;switch(s){case"Browser":i=uv(hn());break;case"Worker":i=`${uv(hn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${r}`}class J2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,_)=>{try{const m=t(c);d(m)}catch(m){_(m)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Z2(s,t={}){return Eo(s,"GET","/v2/passwordPolicy",Rm(s,t))}const W2=6;class tw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??W2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ew{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new J2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),r=await oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,_=await this.tryRedirectSignIn(t);(!c||c===d)&&_?.user&&(r=_.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=L2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Zr(this));const i=t?Sn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Z2(this),i=new tw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await K2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ps(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const m=t.addObserver(i,r,l);return()=>{d=!0,m()}}else{const m=t.addObserver(i);return()=>{d=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&O2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function hh(s){return Sn(s)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=yb(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nw(s){Nm=s}function iw(s){return Nm.loadJS(s)}function sw(){return Nm.gapiScript}function rw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function aw(s,t){const i=Am(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ta(c,t??{}))return l;ji(l,"already-initialized")}return i.initialize({options:t})}function ow(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ps);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function lw(s,t,i){const r=hh(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=hE(t),{host:d,port:_}=uw(t),m=_===null?"":`:${_}`,g={url:`${c}//${d}${m}/`},E=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(ta(g,r.config.emulator)&&ta(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,_o(d)?(B0(`${c}//${d}${m}`),q0("Auth",!0)):cw()}function hE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function uw(s){const t=hE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:hv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:hv(d)}}}function hv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function cw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class fE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(t){return gs("not implemented")}_linkToIdToken(t,i){return gs("not implemented")}_getReauthenticationResolver(t){return gs("not implemented")}}async function ro(s,t){return z2(s,"POST","/v1/accounts:signInWithIdp",Rm(s,t))}const hw="http://localhost";class na extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new na(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ro(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ro(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ro(t,i)}buildRequest(){const t={requestUri:hw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}class Dm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends Dm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class er extends $l{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class ms extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return na._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ms.credential(i,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class nr extends $l{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends $l{constructor(){super("twitter.com")}static credential(t,i){return na._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return ir.credential(i,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await oi._fromIdTokenResponse(t,r,l),d=fv(r);return new ho({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=fv(r);return new ho({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function fv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class $c extends Ts{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new $c(t,i,r,l)}}function dE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,t,r):c})}async function fw(s,t,i=!1){const r=await Pl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ho._forOperation(s,"link",r)}async function dw(s,t,i=!1){const{auth:r}=s;if(ai(r.app))return Promise.reject(Zr(r));const l="reauthenticate";try{const c=await Pl(s,dE(r,l,t,s),i);Et(c.idToken,r,"internal-error");const d=Cm(c.idToken);Et(d,r,"internal-error");const{sub:_}=d;return Et(s.uid===_,r,"user-mismatch"),ho._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),c}}async function mw(s,t,i=!1){if(ai(s.app))return Promise.reject(Zr(s));const r="signIn",l=await dE(s,r,t),c=await ho._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function gw(s,t,i,r){return Sn(s).onIdTokenChanged(t,i,r)}function pw(s,t,i){return Sn(s).beforeAuthStateChanged(t,i)}function yw(s,t,i,r){return Sn(s).onAuthStateChanged(t,i,r)}function _w(s){return Sn(s).signOut()}const Jc="__sak";class mE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const vw=1e3,Ew=10;class gE extends mE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,_,m)=>{this.notifyListeners(d,m)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);$2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Ew):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}gE.type="LOCAL";const Tw=gE;class pE extends mE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}pE.type="SESSION";const yE=pE;function Aw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new fh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const _=Array.from(d).map(async g=>g(i.origin,c)),m=await Aw(_);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Om(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class Sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((_,m)=>{const g=Om("",20);l.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const b=A;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(b.data.response);break;default:clearTimeout(E),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function bw(s){Li().location.href=s}function _E(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function ww(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rw(){return navigator?.serviceWorker?.controller||null}function Cw(){return _E()?self:null}const vE="firebaseLocalStorageDb",Iw=1,Zc="firebaseLocalStorage",EE="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(s,t){return s.transaction([Zc],t?"readwrite":"readonly").objectStore(Zc)}function Nw(){const s=indexedDB.deleteDatabase(vE);return new Jl(s).toPromise()}function em(){const s=indexedDB.open(vE,Iw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Zc,{keyPath:EE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Zc)?t(r):(r.close(),await Nw(),t(await em()))})})}async function dv(s,t,i){const r=dh(s,!0).put({[EE]:t,value:i});return new Jl(r).toPromise()}async function Dw(s,t){const i=dh(s,!1).get(t),r=await new Jl(i).toPromise();return r===void 0?null:r.value}function mv(s,t){const i=dh(s,!0).delete(t);return new Jl(i).toPromise()}const Ow=800,Mw=3;class TE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Mw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(Cw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ww(),!this.activeServiceWorker)return;this.sender=new Sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Rw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await dv(t,Jc,"1"),await mv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>dv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Dw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TE.type="LOCAL";const Vw=TE;new Xl(3e4,6e4);function AE(s,t){return t?ps(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mm extends fE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ro(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xw(s){return mw(s.auth,new Mm(s),s.bypassAuthState)}function Lw(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),dw(i,new Mm(s),s.bypassAuthState)}async function kw(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),fw(i,new Mm(s),s.bypassAuthState)}class SE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:_}=t;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xw;case"linkViaPopup":case"linkViaRedirect":return kw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:ji(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uw=new Xl(2e3,1e4);async function Pw(s,t,i){if(ai(s.app))return Promise.reject(ui(s,"operation-not-supported-in-this-environment"));const r=hh(s);M2(s,t,Dm);const l=AE(r,i);return new $r(r,"signInViaPopup",t,l).executeNotNull()}class $r extends SE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Uw.get())};t()}}$r.currentPopupAction=null;const zw="pendingRedirect",kc=new Map;class jw extends SE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const r=await Bw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bw(s,t){const i=Fw(t),r=Hw(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function qw(s,t){kc.set(s._key(),t)}function Hw(s){return ps(s._redirectPersistence)}function Fw(s){return Lc(zw,s.config.apiKey,s.name)}async function Gw(s,t,i=!1){if(ai(s.app))return Promise.reject(Zr(s));const r=hh(s),l=AE(r,t),d=await new jw(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const Qw=600*1e3;class Yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Kw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!bE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ui(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Qw&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(t))}saveEventToCache(t){this.cachedEventUids.add(gv(t)),this.lastProcessedEventTime=Date.now()}}function gv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function bE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Kw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(s);default:return!1}}async function Xw(s,t={}){return Eo(s,"GET","/v1/projects",t)}const $w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jw=/^https?/;async function Zw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Xw(s);for(const i of t)try{if(Ww(i))return}catch{}ji(s,"unauthorized-domain")}function Ww(s){const t=Wd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Jw.test(i))return!1;if($w.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const tR=new Xl(3e4,6e4);function pv(){const s=Li().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function eR(s){return new Promise((t,i)=>{function r(){pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pv(),i(ui(s,"network-request-failed"))},timeout:tR.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const l=rw("iframefcb");return Li()[l]=()=>{gapi.load?r():i(ui(s,"network-request-failed"))},iw(`${sw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function nR(s){return Uc=Uc||eR(s),Uc}const iR=new Xl(5e3,15e3),sR="__/auth/iframe",rR="emulator/auth/iframe",aR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lR(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?wm(t,rR):`https://${s.config.authDomain}/${sR}`,r={apiKey:t.apiKey,appName:s.name,v:vo},l=oR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Kl(r).slice(1)}`}async function uR(s){const t=await nR(s),i=Li().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:lR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ui(s,"network-request-failed"),_=Li().setTimeout(()=>{c(d)},iR.get());function m(){Li().clearTimeout(_),l(r)}r.ping(m).then(m,()=>{c(d)})}))}const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hR=500,fR=600,dR="_blank",mR="http://localhost";class yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gR(s,t,i,r=hR,l=fR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let _="";const m={...cR,width:r.toString(),height:l.toString(),top:c,left:d},g=hn().toLowerCase();i&&(_=sE(g)?dR:i),nE(g)&&(t=t||mR,m.scrollbars="yes");const E=Object.entries(m).reduce((b,[k,q])=>`${b}${k}=${q},`,"");if(X2(g)&&_!=="_self")return pR(t||"",_),new yv(null);const A=window.open(t||"",_,E);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new yv(A)}function pR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const yR="__/auth/handler",_R="emulator/auth/handler",vR=encodeURIComponent("fac");async function _v(s,t,i,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:vo,eventId:l};if(t instanceof Dm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",pb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof $l){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const _=d;for(const E of Object.keys(_))_[E]===void 0&&delete _[E];const m=await s._getAppCheckToken(),g=m?`#${vR}=${encodeURIComponent(m)}`:"";return`${ER(s)}?${Kl(_).slice(1)}${g}`}function ER({config:s}){return s.emulator?wm(s,_R):`https://${s.authDomain}/${yR}`}const Pd="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yE,this._completeRedirectFn=Gw,this._overrideRedirectResult=qw}async _openPopup(t,i,r,l){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await _v(t,i,r,Wd(),l);return gR(t,c,Om())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await _v(t,i,r,Wd(),l);return bw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await uR(t),r=new Yw(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},l=>{const c=l?.[0]?.[Pd];c!==void 0&&i(!!c),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Zw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return uE()||iE()||Im()}}const AR=TR;var vv="@firebase/auth",Ev="1.12.0";class SR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wR(s){co(new ea("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:_,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(s)},g=new ew(r,l,c,m);return ow(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),co(new ea("auth-internal",t=>{const i=hh(t.getProvider("auth").getImmediate());return(r=>new SR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(vv,Ev,bR(s)),or(vv,Ev,"esm2020")}const RR=300,CR=j0("authIdTokenMaxAge")||RR;let Tv=null;const IR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>CR)return;const l=i?.token;Tv!==l&&(Tv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NR(s=Q0()){const t=Am(s,"auth");if(t.isInitialized())return t.getImmediate();const i=aw(s,{popupRedirectResolver:AR,persistence:[Vw,Tw,yE]}),r=j0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=IR(c.toString());pw(i,d,()=>d(i.currentUser)),gw(i,_=>d(_))}}const l=P0("auth");return l&&lw(i,`http://${l}`),i}function DR(){return document.getElementsByTagName("head")?.[0]??document}nw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ui("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",DR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wR("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,wE;(function(){var s;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,L){for(var R=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)R[bt-2]=arguments[bt];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let L=N.g[3],R;R=w+(L^C&(D^L))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(L^C&(D^L))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=L+(D^w&(C^D))+V[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=D+(C^L&(w^C))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(w^D&(L^w))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^L&(C^D))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^L&(C^D))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(w^C))+V[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(L^w))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^w&(D^L))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^L)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^L)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=L+(w^C^D)+V[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=D+(L^w^C)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^w)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~L))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~L))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=L+(C^(w|~D))+V[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=D+(w^(L|~C))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<w;){if(D==0)for(;L<=C;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(V[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<w;)if(V[D++]=N[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function c(N,w){var C=_;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;V&&L==w||(C[D]=L,V=!1)}this.g=C}var _={};function m(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return X(g(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return X(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let V=A;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),w);D<8?(D=g(Math.pow(w,D)),V=V.j(D).add(g(R))):(V=V.j(C),V=V.add(g(R)))}return V}var A=m(0),b=m(1),k=m(16777216);s=d.prototype,s.m=function(){if(Z(this))return-X(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(Z(this))return"-"+X(this).toString(N);const w=g(Math.pow(N,6));var C=this;let V="";for(;;){const D=pt(C,w).g;C=ht(C,D.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,q(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Z(N){return N.h==-1}s.l=function(N){return N=ht(this,N),Z(N)?-1:q(N)?0:1};function X(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(b)}s.abs=function(){return Z(this)?X(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let L=V+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(N,w){return N.add(X(w))}s.j=function(N){if(q(this)||q(N))return A;if(Z(this))return Z(N)?X(this).j(X(N)):X(X(this).j(N));if(Z(N))return X(this.j(X(N)));if(this.l(k)<0&&N.l(k)<0)return g(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,bt=N.i(D)>>>16,Xt=N.i(D)&65535;C[2*V+2*D]+=R*Xt,lt(C,2*V+2*D),C[2*V+2*D+1]+=L*Xt,lt(C,2*V+2*D+1),C[2*V+2*D+1]+=R*bt,lt(C,2*V+2*D+1),C[2*V+2*D+2]+=L*bt,lt(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function lt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function et(N,w){this.g=N,this.h=w}function pt(N,w){if(q(w))throw Error("division by zero");if(q(N))return new et(A,A);if(Z(N))return w=pt(X(N),w),new et(X(w.g),X(w.h));if(Z(w))return w=pt(N,X(w)),new et(X(w.g),w.h);if(N.g.length>30){if(Z(N)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=b,V=w;V.l(N)<=0;)C=Ot(C),V=Ot(V);var D=Rt(C,1),L=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!q(V);){var R=L.add(V);R.l(N)<=0&&(D=D.add(C),L=R),V=Rt(V,1),C=Rt(C,1)}return w=ht(N,D.j(w)),new et(D,w)}for(D=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(C),R=L.j(w);Z(R)||R.l(N)>0;)C-=V,L=g(C),R=L.j(w);q(L)&&(L=b),D=D.add(L),N=ht(N,R)}return new et(D,N)}s.B=function(N){return pt(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Ot(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Rt(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=w>0?N.i(L+C)>>>w|N.i(L+C+1)<<32-w:N.i(L+C);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,lr=d}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RE,Il,CE,Pc,nm,IE,NE,DE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,p){if(p)t:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in v))break t;v=v[U]}u=u[u.length-1],S=v[u],p=p(S),p!=S&&p!=null&&t(v,u,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var c=c||{},d=this||self;function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function m(u,p,v){return u.call.apply(u.bind,arguments)}function g(u,p,v){return g=m,g.apply(null,arguments)}function E(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,p){function v(){}v.prototype=p.prototype,u.Z=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,U,H){for(var it=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)it[Ct-2]=arguments[Ct];return p.prototype[U].apply(S,it)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const p=u.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=u[S];return v}return[]}function q(u,p){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let it=0;it<H;it++)u[v+it]=U[it]}else u.push(U)}}class Z{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function X(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=N;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class lt{constructor(){this.h=this.g=null}add(p,v){const S=et.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new Z(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ot,Rt=!1,N=new lt,w=()=>{const u=Promise.resolve(void 0);Ot=()=>{u.then(C)}};function C(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){X(v)}var p=et;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function bt(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}A(bt,D),bt.prototype.init=function(u,p){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&bt.Z.h.call(this)},bt.prototype.h=function(){bt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,p,v,S,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=U,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dt(u,p,v){for(const S in u)p.call(v,u[S],S,u)}function qt(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function O(u){const p={};for(const v in u)p[v]=u[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,p){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)u[v]=S[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,p,v,S,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const it=wt(u,p,S,U);return it>-1?(p=u[it],v||(p.fa=!1)):(p=new nt(p,this.src,H,!!S,U),p.fa=v,u.push(p)),p};function vt(u,p){const v=p.type;if(v in u.g){var S=u.g[v],U=Array.prototype.indexOf.call(S,p,void 0),H;(H=U>=0)&&Array.prototype.splice.call(S,U,1),H&&(dt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,p,v,S){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==S)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Se={};function le(u,p,v,S,U){if(Array.isArray(p)){for(let H=0;H<p.length;H++)le(u,p[H],v,S,U);return null}return v=vr(v),u&&u[Xt]?u.J(p,v,_(S)?!!S.capture:!1,U):qi(u,p,v,!1,S,U)}function qi(u,p,v,S,U,H){if(!p)throw Error("Invalid event type");const it=_(U)?!!U.capture:!!U;let Ct=Gi(u);if(Ct||(u[Mt]=Ct=new rt(u)),v=Ct.add(p,v,S,it,H),v.proxy)return v;if(S=Hi(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)L||(U=it),U===void 0&&(U=!1),u.addEventListener(p.toString(),S,U);else if(u.attachEvent)u.attachEvent(Vn(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hi(){function u(v){return p.call(u.src,u.listener,v)}const p=yr;return u}function As(u,p,v,S,U){if(Array.isArray(p))for(var H=0;H<p.length;H++)As(u,p[H],v,S,U);else S=_(S)?!!S.capture:!!S,v=vr(v),u&&u[Xt]?(u=u.i,H=String(p).toString(),H in u.g&&(p=u.g[H],v=wt(p,v,S,U),v>-1&&(dt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete u.g[H],u.h--)))):u&&(u=Gi(u))&&(p=u.g[p.toString()],u=-1,p&&(u=wt(p,v,S,U)),(v=u>-1?p[u]:null)&&Fi(v))}function Fi(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Xt])vt(p.i,u);else{var v=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(v,S,u.capture):p.detachEvent?p.detachEvent(Vn(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Gi(p))?(vt(v,u),v.h==0&&(v.src=null,p[Mt]=null)):dt(u)}}}function Vn(u){return u in Se?Se[u]:Se[u]="on"+u}function yr(u,p){if(u.da)u=!0;else{p=new bt(p,this);const v=u.listener,S=u.ha||u.src;u.fa&&Fi(u),u=v.call(S,p)}return u}function Gi(u){return u=u[Mt],u instanceof rt?u:null}var _r="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(u){return typeof u=="function"?u:(u[_r]||(u[_r]=function(p){return u.handleEvent(p)}),u[_r])}function _e(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(_e,V),_e.prototype[Xt]=!0,_e.prototype.removeEventListener=function(u,p,v,S){As(this,u,p,v,S)};function ve(u,p){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var U=p;p=new D(S,u),st(p,U)}U=!0;let H,it;if(v)for(it=v.length-1;it>=0;it--)H=p.g=v[it],U=fn(H,S,!0,p)&&U;if(H=p.g=u,U=fn(H,S,!0,p)&&U,U=fn(H,S,!1,p)&&U,v)for(it=0;it<v.length;it++)H=p.g=v[it],U=fn(H,S,!1,p)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const v=u.g[p];for(let S=0;S<v.length;S++)dt(v[S]);delete u.g[p],u.h--}}this.G=null},_e.prototype.J=function(u,p,v,S){return this.i.add(String(u),p,!1,v,S)},_e.prototype.K=function(u,p,v,S){return this.i.add(String(u),p,!0,v,S)};function fn(u,p,v,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let H=0;H<p.length;++H){const it=p[H];if(it&&!it.da&&it.capture==v){const Ct=it.listener,we=it.ha||it.src;it.fa&&vt(u.i,it),U=Ct.call(we,S)!==!1&&U}}return U&&!S.defaultPrevented}function xn(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function ha(u){u.g=xn(()=>{u.g=null,u.i&&(u.i=!1,ha(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Je extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ha(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(u){V.call(this),this.h=u,this.g={}}A(Qi,V);var Er=[];function tt(u){Dt(u.g,function(p,v){this.g.hasOwnProperty(v)&&Fi(p)},u),u.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),tt(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ut=d.JSON.stringify,Gt=d.JSON.parse,Qt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ge(){}function ce(){}var je={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){D.call(this,"d")}A(Be,D);function be(){D.call(this,"c")}A(be,D);var ne={},fi=null;function Yi(){return fi=fi||new _e}ne.Ia="serverreachability";function Ki(u){D.call(this,ne.Ia,u)}A(Ki,D);function di(u){const p=Yi();ve(p,new Ki(p))}ne.STAT_EVENT="statevent";function Tr(u,p){D.call(this,ne.STAT_EVENT,u),this.stat=p}A(Tr,D);function Ne(u){const p=Yi();ve(p,new Tr(p,u))}ne.Ja="timingevent";function mi(u,p){D.call(this,ne.Ja,u),this.size=p}A(mi,D);function gi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Nh(u,p,v,S,U,H){u.info(function(){if(u.g)if(H){var it="",Ct=H.split("&");for(let $t=0;$t<Ct.length;$t++){var we=Ct[$t].split("=");if(we.length>1){const me=we[0];we=we[1];const Pn=me.split("_");it=Pn.length>=2&&Pn[1]=="type"?it+(me+"="+we+"&"):it+(me+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+p+`
`+v+`
`+it})}function su(u,p,v,S,U,H,it){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+p+`
`+v+`
`+H+" "+it})}function pi(u,p,v,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Dh(u,v)+(S?" "+S:"")})}function Ar(u,p){u.info(function(){return"TIMEOUT: "+p})}Xn.prototype.info=function(){};function Dh(u,p){if(!u.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return ut(H)}catch{return p}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function br(){}A(br,Ge),br.prototype.g=function(){return new XMLHttpRequest},Co=new br;function Xi(u){return encodeURIComponent(String(u))}function ru(u){var p=1;u=u.split(":");const v=[];for(;p>0&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function $n(u,p,v,S){this.j=u,this.i=p,this.l=v,this.S=S||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var De={},Qe={};function yi(u,p,v){u.M=1,u.A=wr(Me(p)),u.u=v,u.R=!0,fa(u,null)}function fa(u,p){u.F=Date.now(),_i(u),u.B=Me(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),pa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Jn,u.g=Eu(u.j,v?p:null,!u.u),u.P>0&&(u.O=new Je(g(u.Y,u,u.g),u.P)),p=u.V,v=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Er[0]=U.toString()),U=Er);for(let H=0;H<U.length;H++){const it=le(v,U[H],S||p.handleEvent,!1,p.h||p);if(!it)break;p.g[it.key]=it}p=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),di(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const p=this.O;p&&ti(u)==3?p.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=ti(this.g),we=this.g.ya(),$t=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ze(this.g)))){this.K||Ct!=4||we==7||(we==8||$t<=0?di(3):di(2)),vi(this);var p=this.g.ca();this.X=p;var v=Oh(this);if(this.o=p==200,su(this.i,this.v,this.B,this.l,this.S,Ct,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var H=S;break e}}H=null}if(u=H)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,Ne(12),bn(this),Ln(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=ou(this,v),me==Qe){Ct==4&&(this.m=4,Ne(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==De){this.m=4,Ne(15),pi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,me,null),Ei(this,me);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(it),it.P=!0,Ne(11))}}else pi(this.i,this.l,v,null),Ei(this,v);Ct==4&&bn(this),this.o&&!this.K&&(Ct==4?pu(this.j,this):(this.o=!1,_i(this)))}else Ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),bn(this),Ln(this)}}}catch{}};function Oh(u){if(!au(u))return u.g.la();const p=Ze(u.g);if(p==="")return"";let v="";const S=p.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,v+=u.h.i.decode(p[H],{stream:!(U&&H==S-1)});return p.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,p){var v=u.C,S=p.indexOf(`
`,v);return S==-1?Qe:(v=Number(p.substring(v,S)),isNaN(v)?De:(S+=1,S+v>p.length?Qe:(p=p.slice(S,S+v),u.C=S+v,p)))}$n.prototype.cancel=function(){this.K=!0,bn(this)};function _i(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=gi(g(u.aa,u),p)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(di(),Ne(17)),bn(this),this.m=2,Ln(this)):da(this,this.T-u)};function Ln(u){u.j.I==0||u.K||pu(u.j,u)}function bn(u){vi(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,tt(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Ei(u,p){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Ds(v);else break t;Mr(v),Ne(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(g(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let $t=U[p];const me=$t[0];if(!(me<=v.K))if(v.K=me,$t=$t[1],v.I==2)if($t[0]=="c"){v.M=$t[1],v.ba=$t[2];const Pn=$t[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ni=$t[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ei=$t[5];ei!=null&&typeof ei=="number"&&ei>0&&(S=1.5*ei,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ni=u.g;if(ni){const Vr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var H=S.h;H.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(S.G){const Aa=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(S.wa=Aa,Wt(S.J,S.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=u;if(S.na=vu(S,S.L?S.ba:null,S.W),it.L){Oo(S.h,it);var Ct=it,we=S.O;we&&(Ct.H=we),Ct.D&&(vi(Ct),_i(Ct)),S.g=it}else mu(S);v.i.length>0&&Ci(v)}else $t[0]!="stop"&&$t[0]!="close"||Ii(v,7);else v.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ii(v,7):jo(v):$t[0]!="noop"&&v.l&&v.l.qa($t),v.A=0)}}di(4)}catch{}}var Oe=class{constructor(u,p){this.g=u,this.map=p}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function Ai(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Do(u,p){u.g?u.g.add(p):u.h=p}function Oo(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Io.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.G);return p}return k(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,p){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let U,H=null;S>=0?(U=u[v].substring(0,S),H=u[v].substring(S+1)):U=u[v],p(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof wn?(this.l=u.l,Ye(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Vo(this,fu(u.i)),this.m=u.m):u&&(p=String(u).match(lu))?(this.l=!1,Ye(this,p[1]||"",!0),this.o=Si(p[2]||""),this.g=Si(p[3]||"",!0),Ss(this,p[4]),this.h=Si(p[5]||"",!0),Vo(this,p[6]||"",!0),this.m=Si(p[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}wn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Rr(p,ga,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Rr(p,ga,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?xo:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,cu)),u.join("")},wn.prototype.resolve=function(u){const p=Me(this);let v=!!u.j;v?Ye(p,u.j):v=!!u.o,v?p.o=u.o:v=!!u.g,v?p.g=u.g:v=u.u!=null;var S=u.h;if(v)Ss(p,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=p.h.lastIndexOf("/");U!=-1&&(S=p.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let it=0;it<U.length;){const Ct=U[it++];Ct=="."?S&&it==U.length&&H.push(""):Ct==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&it==U.length&&H.push("")):(H.push(Ct),S=!0)}S=H.join("/")}else S=U}return v?p.h=S:v=u.i.toString()!=="",v?Vo(p,fu(u.i)):v=!!u.m,v&&(p.m=u.m),p};function Me(u){return new wn(u)}function Ye(u,p,v){u.j=v?Si(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Vo(u,p,v){p instanceof ws?(u.i=p,ya(u.i,u.l)):(v||(p=Rr(p,bs)),u.i=new ws(p,u.l))}function Wt(u,p,v){u.i.set(p,v)}function wr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,uu=/[#\?:]/g,xo=/[#\?]/g,bs=/[#\?@]/g,cu=/#/g;function ws(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(u,p){pn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function hu(u,p){pn(u),p=Rs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Lo(u,p){return pn(u),p=Rs(u,p),u.g.has(p)}s.forEach=function(u,p){pn(this),this.g.forEach(function(v,S){v.forEach(function(U){u.call(p,U,S,this)},this)},this)};function ko(u,p){pn(u);let v=[];if(typeof p=="string")Lo(u,p)&&(v=v.concat(u.g.get(Rs(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)v=v.concat(u[p]);return v}s.set=function(u,p){return pn(this),this.i=null,u=Rs(this,u),Lo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=ko(this,u),u.length>0?String(u[0]):p):p};function pa(u,p,v){hu(u,p),v.length>0&&(u.i=null,u.g.set(Rs(u,p),k(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const U=Xi(v);v=ko(this,v);for(let H=0;H<v.length;H++){let it=U;v[H]!==""&&(it+="="+Xi(v[H])),u.push(it)}}return this.i=u.join("&")};function fu(u){const p=new ws;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Rs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function ya(u,p){p&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(hu(this,S),pa(this,U,v))},u)),u.j=p}function Zn(u,p){const v=new Xn;if(d.Image){const S=new Image;S.onload=E(kn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(kn,v,"TestLoadImage: error",!1,p,S),S.onabort=E(kn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(kn,v,"TestLoadImage: timeout",!1,p,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function Uo(u,p){const v=new Xn,S=new AbortController,U=setTimeout(()=>{S.abort(),kn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?kn(v,"TestPingServer: ok",!0,p):kn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),kn(v,"TestPingServer: error",!1,p)})}function kn(u,p,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Cs(){this.g=new Qt}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(bi,Ge),bi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,p){_e.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,_e),s=Cr.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Is(this):Wn(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let p="";return Dt(u,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Ir(u,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Un(v),typeof u=="string"?v!=null&&Xi(v):Wt(u,p,v))}function ie(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ie,_e);var wi=/^https?$/i,Po=["POST","PUT"];s=ie.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){Nr(this,H);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,p,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of v)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Nr(this,H)}};function Nr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,zo(u),$i(u)}function zo(u){u.A||(u.A=!0,ve(u,"complete"),ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ve(this,"complete"),ve(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ie.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(ve(u,"readystatechange"),ti(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=H===0){let it=String(u.D).match(lu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),S=!wi.test(it?it.toLowerCase():"")}v=S}if(v)ve(u,"complete"),ve(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",zo(u)}}finally{$i(u)}}}}function $i(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,p||ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Gt(p)}};function Ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const p={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var v=ru(u[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[U]||[];p[U]=H,H.push(v)}qt(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Ns(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,p,v,S){Ne(0),this.W=u,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=vu(this,null,this.W),Ci(this)};function jo(u){if(va(u),u.I==3){var p=u.V++,v=Me(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",p),Wt(v,"TYPE","terminate"),Or(u,v),p=new $n(u,u.j,p),p.M=2,p.A=wr(Me(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.A,v=!0),v||(p.g=Eu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),_i(p)}_u(u)}function Ds(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function va(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!No(u.h)&&!u.m){u.m=!0;var p=u.Ea;Ot||w(),Rt||(Ot(),Rt=!0),N.add(p,u),u.D=0}}function Ea(u,p){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=gi(g(u.Ea,u,p),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new $n(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),st(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=du(this,U,p),v=Me(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Or(this,v),H&&(this.R?p="headers="+Xi(Un(H))+"&"+p:this.u&&Ir(v,this.u,H)),Do(this.h,U),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",p),Wt(v,"SID","null"),U.U=!0,yi(U,v,null)):yi(U,v,p),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||No(this.h)||Bo(this))};function Bo(u,p){var v;p?v=p.l:v=u.V++;const S=Me(u.J);Wt(S,"SID",u.M),Wt(S,"RID",v),Wt(S,"AID",u.K),Or(u,S),u.u&&u.o&&Ir(S,u.u,u.o),v=new $n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),p&&(u.i=p.G.concat(u.i)),p=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),yi(v,S,p)}function Or(u,p){u.H&&Dt(u.H,function(v,S){Wt(p,S,v)}),u.l&&Dt({},function(v,S){Wt(p,S,v)})}function du(u,p,v){v=Math.min(u.i.length,v);const S=u.l?g(u.l.Ka,u.l,u):null;t:{var U=u.i;let Ct=-1;for(;;){const we=["count="+v];Ct==-1?v>0?(Ct=U[0].g,we.push("ofs="+Ct)):Ct=0:we.push("ofs="+Ct);let $t=!0;for(let me=0;me<v;me++){var H=U[me].g;const Pn=U[me].map;if(H-=Ct,H<0)Ct=Math.max(0,U[me].g-100),$t=!1;else try{H="req"+H+"_"||"";try{var it=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ni,ei]of it){let ni=ei;_(ei)&&(ni=ut(ei)),we.push(H+Ni+"="+encodeURIComponent(ni))}}catch(Ni){throw we.push(H+"type="+encodeURIComponent("_badmap")),Ni}}catch{S&&S(Pn)}}if($t){it=we.join("&");break t}}it=void 0}return u=u.i.splice(0,v),p.G=u,it}function mu(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Ot||w(),Rt||(Ot(),Rt=!0),N.add(p,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=gi(g(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=gi(g(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Ds(this),gu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Me(u.na);Wt(p,"RID","rpc"),Wt(p,"SID",u.M),Wt(p,"AID",u.K),Wt(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(p,"TO",u.ia),Wt(p,"TYPE","xmlhttp"),Or(u,p),u.u&&u.o&&Ir(p,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Me(p)),v.u=null,v.R=!0,fa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Mr(this),Ne(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,p){var v=null;if(u.g==p){Ta(u),qo(u),u.g=null;var S=2}else if(Ai(u.h,p))v=p.G,Oo(u.h,p),S=1;else return;if(u.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=u.D;S=Yi(),ve(S,new mi(S,v)),Ci(u)}else mu(u);else if(U=p.m,U==3||U==0&&p.X>0||!(S==1&&Ea(u,p)||S==2&&Mr(u)))switch(v&&v.length>0&&(p=u.h,p.i=p.i.concat(v)),U){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function yu(u,p){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*p}function Ii(u,p){if(u.j.info("Error code "+p),p==2){var v=g(u.bb,u),S=u.Ua;const U=!S;S=new wn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ye(S,"https"),wr(S),U?Zn(S.toString(),v):Uo(S.toString(),v)}else Ne(2);u.I=0,u.l&&u.l.pa(p),_u(u),va(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const p=Mo(u.h);(p.length!=0||u.i.length!=0)&&(q(u.ja,p),q(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function vu(u,p,v){var S=v instanceof wn?Me(v):new wn(v);if(S.g!="")p&&(S.g=p+"."+S.g),Ss(S,S.u);else{var U=d.location;S=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const H=new wn(null);S&&Ye(H,S),p&&(H.g=p),U&&Ss(H,U),v&&(H.h=v),S=H}return v=u.G,p=u.wa,v&&p&&Wt(S,v,p),Wt(S,"VER",u.ka),Or(u,S),S}function Eu(u,p,v){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new ie(new bi({ab:v})):new ie(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,p){return new dn(u,p)};function dn(u,p){_e.call(this),this.g=new Ns(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Zi(this)}A(dn,_e),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){jo(this.g)},dn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ut(u),u=v);p.i.push(new Oe(p.Ya++,u)),p.I==3&&Ci(p)},dn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,dn.Z.N.call(this)};function Au(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const v in p){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}A(Au,Be);function Su(){be.call(this),this.status=1}A(Su,be);function Zi(u){this.g=u}A(Zi,Tu),Zi.prototype.ra=function(){ve(this.g,"a")},Zi.prototype.qa=function(u){ve(this.g,new Au(u))},Zi.prototype.pa=function(u){ve(this.g,new Su)},Zi.prototype.oa=function(){ve(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,DE=function(){return new Os},NE=function(){return Yi()},IE=ne,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Pc=Sr,Ro.COMPLETE="complete",CE=Ro,ce.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Il=ce,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,RE=ie}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let To="12.9.0";function OR(s){To=s}const ia=new Em("@firebase/firestore");function Za(){return ia.logLevel}function ot(s,...t){if(ia.logLevel<=zt.DEBUG){const i=t.map(Vm);ia.debug(`Firestore (${To}): ${s}`,...i)}}function vs(s,...t){if(ia.logLevel<=zt.ERROR){const i=t.map(Vm);ia.error(`Firestore (${To}): ${s}`,...i)}}function sa(s,...t){if(ia.logLevel<=zt.WARN){const i=t.map(Vm);ia.warn(`Firestore (${To}): ${s}`,...i)}}function Vm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,OE(s,r,i)}function OE(s,t,i){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw vs(r),new Error(r)}function Zt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||OE(t,l,r)}function St(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ts{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ME{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class VR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xR{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let r=this.i;const l=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let c=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const m=c;t.enqueueRetryable((async()=>{await m.promise,await l(this.currentUser)}))},_=m=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>_(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?_(m):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new ME(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class LR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kR{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new LR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const r=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=PR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function jt(s,t){return s<t?-1:s>t?1:0}function im(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return zd(l)===zd(c)?jt(l,c):zd(l)?1:-1}return jt(s.length,t.length)}const zR=55296,jR=57343;function zd(s){const t=s.charCodeAt(0);return t>=zR&&t<=jR}function fo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const bv="__name__";class xi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=xi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const r=xi.isNumericId(t),l=xi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?xi.extractNumericId(t).compare(xi.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class ue extends xi{construct(t,i,r){return new ue(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new at(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends xi{construct(t,i,r){return new rn(t,i,r)}static isValidIdentifier(t){return BR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new rn([bv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new at(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const _=t[l];if(_==="\\"){if(l+1===t.length)throw new at(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[l+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new at(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,l+=2}else _==="`"?(d=!d,l++):_!=="."||d?(r+=_,l++):(c(),l++)}if(c(),d)throw new at(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(i)}static emptyPath(){return new rn([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ue.fromString(t))}static fromName(t){return new gt(ue.fromString(t).popFirst(5))}static empty(){return new gt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ue(t.slice()))}}function VE(s,t,i){if(!i)throw new at(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function qR(s,t,i,r){if(t===!0&&r===!0)throw new at(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function wv(s){if(!gt.isDocumentKey(s))throw new at(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Rv(s){if(gt.isDocumentKey(s))throw new at(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function zl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mh(s);throw new at(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function ze(s,t){const i={typeString:s};return t&&(i.value=t),i}function Zl(s,t){if(!xE(s))throw new at(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new at(J.INVALID_ARGUMENT,i);return!0}const Cv=-62135596800,Iv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Iv);return new de(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Cv)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ze("string",de._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new de(0,0))}static max(){return new Tt(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function HR(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(r===1e9?new de(i+1,0):new de(i,r));return new hr(l,gt.empty(),t)}function FR(s){return new hr(s.readTime,s.key,jl)}class hr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new hr(Tt.min(),gt.empty(),jl)}static max(){return new hr(Tt.max(),gt.empty(),jl)}}function GR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:jt(s.largestBatchId,t.largestBatchId))}const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ao(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==QR)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,r)=>{i(t)}))}static reject(t){return new W(((i,r)=>{r(t)}))}static waitFor(t){return new W(((i,r)=>{let l=0,c=0,d=!1;t.forEach((_=>{++l,_.next((()=>{++c,d&&c===l&&i()}),(m=>r(m)))})),d=!0,c===l&&i()}))}static or(t){let i=W.resolve(!1);for(const r of t)i=i.next((l=>l?W.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new W(((r,l)=>{const c=t.length,d=new Array(c);let _=0;for(let m=0;m<c;m++){const g=m;i(t[g]).next((E=>{d[g]=E,++_,_===c&&r(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new W(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function KR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Lm=-1;function ph(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function XR(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const LE="";function $R(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Nv(t)),t=JR(s.get(i),t);return Nv(t)}function JR(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case LE:i+="";break;default:i+=c}}return i}function Nv(s){return s+LE+""}function Dv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function aa(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function kE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||sn.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??sn.RED,this.left=l??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new sn(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new sn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(t){return new Ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class Ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class li{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new li([])}unionWith(t){let i=new Fe(rn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new li(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class UE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new UE("Invalid base64 string: "+c):c}})(t);return new an(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const ZR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(Zt(!!s,39018),typeof s=="string"){let t=0;const i=ZR.exec(s);if(Zt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ie(s.seconds),nanos:Ie(s.nanos)}}function Ie(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const PE="server_timestamp",zE="__type__",jE="__previous_value__",BE="__local_write_time__";function km(s){return(s?.mapValue?.fields||{})[zE]?.stringValue===PE}function yh(s){const t=s.mapValue.fields[jE];return km(t)?yh(t):t}function Bl(s){const t=fr(s.mapValue.fields[BE].timestampValue);return new de(t.seconds,t.nanos)}class WR{constructor(t,i,r,l,c,d,_,m,g,E,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=A}}const th="(default)";class ql{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}function tC(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new at(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(s.options.projectId,t)}const qE="__type__",eC="__max__",Dc={mapValue:{}},HE="__vector__",eh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?km(s)?4:iC(s)?9007199254740991:nC(s)?10:11:_t(28295,{value:s})}function Bi(s,t){if(s===t)return!0;const i=mr(s);if(i!==mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Bl(s).isEqual(Bl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),_=fr(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ie(l.geoPointValue.latitude)===Ie(c.geoPointValue.latitude)&&Ie(l.geoPointValue.longitude)===Ie(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ie(l.integerValue)===Ie(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ie(l.doubleValue),_=Ie(c.doubleValue);return d===_?Wc(d)===Wc(_):isNaN(d)&&isNaN(_)}return!1})(s,t);case 9:return fo(s.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},_=c.mapValue.fields||{};if(Dv(d)!==Dv(_))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(_[m]===void 0||!Bi(d[m],_[m])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Hl(s,t){return(s.values||[]).find((i=>Bi(i,t)))!==void 0}function mo(s,t){if(s===t)return 0;const i=mr(s),r=mr(t);if(i!==r)return jt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const _=Ie(c.integerValue||c.doubleValue),m=Ie(d.integerValue||d.doubleValue);return _<m?-1:_>m?1:_===m?0:isNaN(_)?isNaN(m)?0:-1:1})(s,t);case 3:return Mv(s.timestampValue,t.timestampValue);case 4:return Mv(Bl(s),Bl(t));case 5:return im(s.stringValue,t.stringValue);case 6:return(function(c,d){const _=dr(c),m=dr(d);return _.compareTo(m)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const _=c.split("/"),m=d.split("/");for(let g=0;g<_.length&&g<m.length;g++){const E=jt(_[g],m[g]);if(E!==0)return E}return jt(_.length,m.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const _=jt(Ie(c.latitude),Ie(d.latitude));return _!==0?_:jt(Ie(c.longitude),Ie(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Vv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const _=c.fields||{},m=d.fields||{},g=_[eh]?.arrayValue,E=m[eh]?.arrayValue,A=jt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:Vv(g,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const _=c.fields||{},m=Object.keys(_),g=d.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let A=0;A<m.length&&A<E.length;++A){const b=im(m[A],E[A]);if(b!==0)return b;const k=mo(_[m[A]],g[E[A]]);if(k!==0)return k}return jt(m.length,E.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Mv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return jt(s,t);const i=fr(s),r=fr(t),l=jt(i.seconds,r.seconds);return l!==0?l:jt(i.nanos,r.nanos)}function Vv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=mo(i[l],r[l]);if(c)return c}return jt(i.length,r.length)}function go(s){return sm(s)}function sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=fr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=sm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${sm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function zc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return aa(r.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function xv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function rm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function Lv(s){return!!s&&"nullValue"in s}function kv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function nC(s){return(s?.mapValue?.fields||{})[qE]?.stringValue===HE}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return aa(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Vl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vl(s.arrayValue.values[i]);return t}return{...s}}function iC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eC}class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(i)}setAll(t){let i=rn.emptyPath(),r={},l=[];t.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const m=this.getFieldsMap(i);this.applyChanges(m,r,l),r={},l=[],i=_.popLast()}d?r[_.lastSegment()]=Vl(d):l.push(_.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){aa(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Yn(Vl(this.value))}}function FE(s){const t=[];return aa(s.fields,((i,r)=>{const l=new rn([i]);if(jc(r)){const c=FE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new li(t)}class cn{constructor(t,i,r,l,c,d,_){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(t){return new cn(t,0,Tt.min(),Tt.min(),Tt.min(),Yn.empty(),0)}static newFoundDocument(t,i,r,l){return new cn(t,1,i,Tt.min(),r,l,0)}static newNoDocument(t,i){return new cn(t,2,i,Tt.min(),Tt.min(),Yn.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,Tt.min(),Tt.min(),Yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Uv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=mo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Bi(s.position[i],t.position[i]))return!1;return!0}class Fl{constructor(t,i="asc"){this.field=t,this.dir=i}}function sC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class GE{}class Pe extends GE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new aC(t,i,r):i==="array-contains"?new uC(t,r):i==="in"?new cC(t,r):i==="not-in"?new hC(t,r):i==="array-contains-any"?new fC(t,r):new Pe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new oC(t,r):new lC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(mo(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(mo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends GE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new hi(t,i)}matches(t){return QE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QE(s){return s.op==="and"}function YE(s){return rC(s)&&QE(s)}function rC(s){for(const t of s.filters)if(t instanceof hi)return!1;return!0}function am(s){if(s instanceof Pe)return s.field.canonicalString()+s.op.toString()+go(s.value);if(YE(s))return s.filters.map((t=>am(t))).join(",");{const t=s.filters.map((i=>am(i))).join(",");return`${s.op}(${t})`}}function KE(s,t){return s instanceof Pe?(function(r,l){return l instanceof Pe&&r.op===l.op&&r.field.isEqual(l.field)&&Bi(r.value,l.value)})(s,t):s instanceof hi?(function(r,l){return l instanceof hi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,_)=>c&&KE(d,l.filters[_])),!0):!1})(s,t):void _t(19439)}function XE(s){return s instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${go(i.value)}`})(s):s instanceof hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(XE).join(" ,")+"}"})(s):"Filter"}class aC extends Pe{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class oC extends Pe{constructor(t,i){super(t,"in",i),this.keys=$E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lC extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=$E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function $E(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class uC extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Hl(i.arrayValue,this.value)}}class cC extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class hC extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class fC extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Hl(this.value.arrayValue,r)))}}class dC{constructor(t,i=null,r=[],l=[],c=null,d=null,_=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=_,this.Te=null}}function zv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new dC(s,t,i,r,l,c,d)}function Pm(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>am(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>go(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>go(r))).join(",")),t.Te=i}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!sC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!KE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Pv(s.startAt,t.startAt)&&Pv(s.endAt,t.endAt)}function om(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bo{constructor(t,i=null,r=[],l=[],c=null,d="F",_=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function mC(s,t,i,r,l,c,d,_){return new bo(s,t,i,r,l,c,d,_)}function JE(s){return new bo(s)}function jv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gC(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function ZE(s){return s.collectionGroup!==null}function xl(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Fe(rn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(_=_.add(g.field))}))})),_})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Fl(c,r))})),i.has(rn.keyField().canonicalString())||t.Ie.push(new Fl(rn.keyField(),r))}return t.Ie}function ki(s){const t=St(s);return t.Ee||(t.Ee=pC(t,xl(s))),t.Ee}function pC(s,t){if(s.limitType==="F")return zv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Fl(l.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return zv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function lm(s,t){const i=s.filters.concat([t]);return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function yC(s,t){const i=s.explicitOrderBy.concat([t]);return new bo(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function um(s,t,i){return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _h(s,t){return zm(ki(s),ki(t))&&s.limitType===t.limitType}function WE(s){return`${Pm(ki(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>XE(l))).join(", ")}]`),ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>go(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>go(l))).join(",")),`Target(${r})`})(ki(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):gt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,_,m){const g=Uv(d,_,m);return d.inclusive?g<=0:g<0})(r.startAt,xl(r),l)||r.endAt&&!(function(d,_,m){const g=Uv(d,_,m);return d.inclusive?g>=0:g>0})(r.endAt,xl(r),l))})(s,t)}function _C(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tT(s){return(t,i)=>{let r=!1;for(const l of xl(s)){const c=vC(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function vC(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,_){const m=d.data.field(c),g=_.data.field(c);return m!==null&&g!==null?mo(m,g):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){aa(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}const EC=new pe(gt.comparator);function Es(){return EC}const eT=new pe(gt.comparator);function Nl(...s){let t=eT;for(const i of s)t=t.insert(i.key,i);return t}function nT(s){let t=eT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Jr(){return Ll()}function iT(){return Ll()}function Ll(){return new oa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const TC=new pe(gt.comparator),AC=new Fe(gt.comparator);function Bt(...s){let t=AC;for(const i of s)t=t.add(i);return t}const SC=new Fe(jt);function bC(){return SC}function jm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function sT(s){return{integerValue:""+s}}function wC(s,t){return XR(t)?sT(t):jm(s,t)}class Eh{constructor(){this._=void 0}}function RC(s,t,i){return s instanceof ih?(function(l,c){const d={fields:{[zE]:{stringValue:PE},[BE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&km(c)&&(c=yh(c)),c&&(d.fields[jE]=c),{mapValue:d}})(i,t):s instanceof Gl?aT(s,t):s instanceof Ql?oT(s,t):(function(l,c){const d=rT(l,c),_=Bv(d)+Bv(l.Ae);return rm(d)&&rm(l.Ae)?sT(_):jm(l.serializer,_)})(s,t)}function CC(s,t,i){return s instanceof Gl?aT(s,t):s instanceof Ql?oT(s,t):i}function rT(s,t){return s instanceof sh?(function(r){return rm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class ih extends Eh{}class Gl extends Eh{constructor(t){super(),this.elements=t}}function aT(s,t){const i=lT(t);for(const r of s.elements)i.some((l=>Bi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ql extends Eh{constructor(t){super(),this.elements=t}}function oT(s,t){let i=lT(t);for(const r of s.elements)i=i.filter((l=>!Bi(l,r)));return{arrayValue:{values:i}}}class sh extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Bv(s){return Ie(s.integerValue||s.doubleValue)}function lT(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function IC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Gl&&l instanceof Gl||r instanceof Ql&&l instanceof Ql?fo(r.elements,l.elements,Bi):r instanceof sh&&l instanceof sh?Bi(r.Ae,l.Ae):r instanceof ih&&l instanceof ih})(s.transform,t.transform)}class NC{constructor(t,i){this.version=t,this.transformResults=i}}class Ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ui}static exists(t){return new Ui(void 0,t)}static updateTime(t){return new Ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Th{}function uT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Bm(s.key,Ui.none()):new Wl(s.key,s.data,Ui.none());{const i=s.data,r=Yn.empty();let l=new Fe(rn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new la(s.key,r,new li(l.toArray()),Ui.none())}}function DC(s,t,i){s instanceof Wl?(function(l,c,d){const _=l.value.clone(),m=Hv(l.fieldTransforms,c,d.transformResults);_.setAll(m),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):s instanceof la?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const _=Hv(l.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(cT(l)),m.setAll(_),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function kl(s,t,i,r){return s instanceof Wl?(function(c,d,_,m){if(!Bc(c.precondition,d))return _;const g=c.value.clone(),E=Fv(c.fieldTransforms,m,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,t,i,r):s instanceof la?(function(c,d,_,m){if(!Bc(c.precondition,d))return _;const g=Fv(c.fieldTransforms,m,d),E=d.data;return E.setAll(cT(c)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,_){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(s,t,i)}function OC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=rT(r.transform,l||null);c!=null&&(i===null&&(i=Yn.empty()),i.set(r.field,c))}return i||null}function qv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&fo(r,l,((c,d)=>IC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Wl extends Th{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class la extends Th{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Hv(s,t,i){const r=new Map;Zt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,_=t.data.field(c.field);r.set(c.field,CC(d,_,i[l]))}return r}function Fv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,RC(c,d,t))}return r}class Bm extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MC extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&DC(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=kl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=kl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=iT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=i.has(l.key)?null:_;const m=uT(d,_);m!==null&&r.set(l.key,m),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((i,r)=>qv(i,r)))&&fo(this.baseMutations,t.baseMutations,((i,r)=>qv(i,r)))}}class qm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Zt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return TC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new qm(t,i,r,l)}}class xC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,Ft;function kC(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function hT(s){if(s===void 0)return vs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ue.OK:return J.OK;case Ue.CANCELLED:return J.CANCELLED;case Ue.UNKNOWN:return J.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return J.INTERNAL;case Ue.UNAVAILABLE:return J.UNAVAILABLE;case Ue.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ue.NOT_FOUND:return J.NOT_FOUND;case Ue.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ue.ABORTED:return J.ABORTED;case Ue.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ue.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(Ft=Ue||(Ue={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function UC(){return new TextEncoder}const PC=new lr([4294967295,4294967295],0);function Gv(s){const t=UC().encode(s),i=new wE;return i.update(t),new Uint8Array(i.digest())}function Qv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new lr([i,r],0),new lr([l,c],0)]}class Hm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=lr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(lr.fromNumber(r)));return l.compare(PC)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Gv(t),[r,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Hm(c,l,i);return r.forEach((_=>d.insert(_))),d}insert(t){if(this.ge===0)return;const i=Gv(t),[r,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ah(Tt.min(),l,new pe(jt),Es(),Bt())}}class tu{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new tu(r,i,Bt(),Bt(),Bt())}}class qc{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class fT{constructor(t,i){this.targetId=t,this.Ce=i}}class dT{constructor(t,i,r=an.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Yv{constructor(){this.ve=0,this.Fe=Kv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),i=Bt(),r=Bt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=Kv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.He=Oc(),this.Je=Oc(),this.Ze=new pe(jt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(r===0){const d=new gt(c.path);this.et(i,d,cn.newNoDocument(d,Tt.min()))}else Zt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(t),m=_?this.ct(_,t,d):1;if(m!==0){this.it(i);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,_;try{d=dr(r).toUint8Array()}catch(m){if(m instanceof UE)return sa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{_=new Hm(d,l,c)}catch(m){return sa(m instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return _.ge===0?null:_}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(_)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const _=this.ot(d);if(_){if(c.current&&om(_.target)){const m=new gt(_.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,cn.newNoDocument(m,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Bt();this.Je.forEach(((c,d)=>{let _=!0;d.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ze,this.je,r);return this.je=Es(),this.He=Oc(),this.Je=Oc(),this.Ze=new pe(jt),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Yv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Fe(jt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Fe(jt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Yv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new pe(gt.comparator)}function Kv(){return new pe(gt.comparator)}const jC={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qC={and:"AND",or:"OR"};class HC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function FC(s,t){return rh(s,t.toTimestamp())}function Pi(s){return Zt(!!s,49232),Tt.fromTimestamp((function(i){const r=fr(i);return new de(r.seconds,r.nanos)})(s))}function Fm(s,t){return hm(s,t).canonicalString()}function hm(s,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function gT(s){const t=ue.fromString(s);return Zt(ET(t),10190,{key:t.toString()}),t}function fm(s,t){return Fm(s.databaseId,t.path)}function jd(s,t){const i=gT(t);if(i.get(1)!==s.databaseId.projectId)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(yT(i))}function pT(s,t){return Fm(s.databaseId,t)}function GC(s){const t=gT(s);return t.length===4?ue.emptyPath():yT(t)}function dm(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function yT(s){return Zt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xv(s,t,i){return{name:fm(s,t),fields:i.value.mapValue.fields}}function QC(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(Zt(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(Zt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,_=d&&(function(g){const E=g.code===void 0?J.UNKNOWN:hT(g.code);return new at(E,g.message||"")})(d);i=new dT(r,l,c,_||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=jd(s,r.document.name),c=Pi(r.document.updateTime),d=r.document.createTime?Pi(r.document.createTime):Tt.min(),_=new Yn({mapValue:{fields:r.document.fields}}),m=cn.newFoundDocument(l,c,d,_),g=r.targetIds||[],E=r.removedTargetIds||[];i=new qc(g,E,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=jd(s,r.document),c=r.readTime?Pi(r.readTime):Tt.min(),d=cn.newNoDocument(l,c),_=r.removedTargetIds||[];i=new qc([],_,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=jd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new LC(l,c),_=r.targetId;i=new fT(_,d)}}return i}function YC(s,t){let i;if(t instanceof Wl)i={update:Xv(s,t.key,t.value)};else if(t instanceof Bm)i={delete:fm(s,t.key)};else if(t instanceof la)i={update:Xv(s,t.key,t.data),updateMask:nI(t.fieldMask)};else{if(!(t instanceof MC))return _t(16599,{dt:t.type});i={verify:fm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const _=d.transform;if(_ instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof sh)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:FC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function KC(s,t){return s&&s.length>0?(Zt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Pi(l.updateTime):Pi(c);return d.isEqual(Tt.min())&&(d=Pi(c)),new NC(d,l.transformResults||[])})(i,t)))):[]}function XC(s,t){return{documents:[pT(s,t.path)]}}function $C(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=pT(s,l);const c=(function(g){if(g.length!==0)return vT(hi.create(g,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:to(b.field),direction:WC(b.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const _=cm(s,t.limit);return _!==null&&(i.structuredQuery.limit=_),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:l}}function JC(s){let t=GC(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Zt(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const b=_T(A);return b instanceof hi&&YE(b)?b.getFilters():[b]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((b=>(function(q){return new Fl(eo(q.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(b)))})(i.orderBy));let _=null;i.limit&&(_=(function(A){let b;return b=typeof A=="object"?A.value:A,ph(b)?null:b})(i.limit));let m=null;i.startAt&&(m=(function(A){const b=!!A.before,k=A.values||[];return new nh(k,b)})(i.startAt));let g=null;return i.endAt&&(g=(function(A){const b=!A.before,k=A.values||[];return new nh(k,b)})(i.endAt)),mC(t,l,d,c,_,"F",m,g)}function ZC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function _T(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=eo(i.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=eo(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=eo(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=eo(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pe.create(eo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return hi.create(i.compositeFilter.filters.map((r=>_T(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function WC(s){return jC[s]}function tI(s){return BC[s]}function eI(s){return qC[s]}function to(s){return{fieldPath:s.canonicalString()}}function eo(s){return rn.fromServerFormat(s.fieldPath)}function vT(s){return s instanceof Pe?(function(i){if(i.op==="=="){if(kv(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(kv(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:tI(i.op),value:i.value}}})(s):s instanceof hi?(function(i){const r=i.getFilters().map((l=>vT(l)));return r.length===1?r[0]:{compositeFilter:{op:eI(i.op),filters:r}}})(s):_t(54877,{filter:s})}function nI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ET(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function TT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class sr{constructor(t,i,r,l,c=Tt.min(),d=Tt.min(),_=an.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=m}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class iI{constructor(t){this.yt=t}}function sI(s){const t=JC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?um(t,t.limit,"L"):t}class rI{constructor(){this.Sn=new aI}addToCollectionParentIndex(t,i){return this.Sn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(hr.min())}updateCollectionGroup(t,i,r){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class aI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Fe(ue.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Fe(ue.comparator)).toArray()}}const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(AT,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class po{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new po(0)}static ar(){return new po(-1)}}const Jv="LruGarbageCollector",oI=1048576;function Zv([s,t],[i,r]){const l=jt(s,i);return l===0?jt(t,r):l}class lI{constructor(t){this.Pr=t,this.buffer=new Fe(Zv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Zv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(Jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?ot(Jv,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Ar(3e5)}))}}class cI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(gh.ce);const r=new lI(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve($v)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,d,_,m,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,_=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(g=Date.now(),Za()<=zt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(_-d)+`ms
	Removed ${c} targets in `+(m-_)+`ms
	Removed ${A} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function hI(s,t){return new cI(s,t)}class fI{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class mI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&kl(r.mutation,l,li.empty(),de.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Bt()){const l=Jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Nl();return c.forEach(((_,m)=>{d=d.insert(_,m.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Jr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Bt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(t,i,r,l){let c=Es();const d=Ll(),_=(function(){return Ll()})();return i.forEach(((m,g)=>{const E=r.get(g.key);l.has(g.key)&&(E===void 0||E.mutation instanceof la)?c=c.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),kl(E.mutation,g,E.mutation.getFieldMask(),de.now())):d.set(g.key,li.empty())})),this.recalculateAndSaveOverlays(t,c).next((m=>(m.forEach(((g,E)=>d.set(g,E))),i.forEach(((g,E)=>_.set(g,new dI(E,d.get(g)??null)))),_)))}recalculateAndSaveOverlays(t,i){const r=Ll();let l=new pe(((d,_)=>d-_)),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const _ of d)_.keys().forEach((m=>{const g=i.get(m);if(g===null)return;let E=r.get(m)||li.empty();E=_.applyToLocalView(g,E),r.set(m,E);const A=(l.get(_.batchId)||Bt()).add(m);l=l.insert(_.batchId,A)}))})).next((()=>{const d=[],_=l.getReverseIterator();for(;_.hasNext();){const m=_.getNext(),g=m.key,E=m.value,A=iT();E.forEach((b=>{if(!c.has(b)){const k=uT(i.get(b),r.get(b));k!==null&&A.set(b,k),c=c.add(b)}})),d.push(this.documentOverlayCache.saveOverlays(t,g,A))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return gC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ZE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):W.resolve(Jr());let _=jl,m=c;return d.next((g=>W.forEach(g,((E,A)=>(_<A.largestBatchId&&(_=A.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{m=m.insert(E,b)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,m,g,Bt()))).next((E=>({batchId:_,changes:nT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=Nl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(t,c).next((_=>W.forEach(_,(m=>{const g=(function(A,b){return new bo(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,r,l).next((E=>{E.forEach(((A,b)=>{d=d.insert(A,b)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((m,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,cn.newInvalidDocument(E)))}));let _=Nl();return d.forEach(((m,g)=>{const E=c.get(m);E!==void 0&&kl(E.mutation,g,li.empty(),de.now()),vh(i,g)&&(_=_.insert(m,g))})),_}))}}class gI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return W.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:sI(l.bundledQuery),readTime:Pi(l.readTime)}})(i)),W.resolve()}}class pI{constructor(){this.overlays=new pe(gt.comparator),this.Lr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Jr();return W.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),W.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(t,i,r){const l=Jr(),c=i.length+1,d=new gt(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const m=_.getNext().value,g=m.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>r&&l.set(m.getKey(),m)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new pe(((g,E)=>g-E));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let E=c.get(g.largestBatchId);E===null&&(E=Jr(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const _=Jr(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,E)=>_.set(g,E))),!(_.size()>=l)););return W.resolve(_)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new xC(i,r));let c=this.Lr.get(i);c===void 0&&(c=Bt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}class yI{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}class Gm{constructor(){this.kr=new Fe(Xe.Kr),this.qr=new Fe(Xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Xe(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Xe(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new gt(new ue([])),r=new Xe(i,t),l=new Xe(i,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new gt(new ue([])),r=new Xe(i,t),l=new Xe(i,t+1);let c=Bt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Xe(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Xe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return gt.comparator(t.key,i.key)||jt(t.Hr,i.Hr)}static Ur(t,i){return jt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}class _I{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Xe.Kr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VC(c,i,r,l);this.mutationQueue.push(d);for(const _ of l)this.Jr=this.Jr.add(new Xe(_.key,c)),this.indexManager.addToCollectionParentIndex(t,_.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Lm:this.Yn-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Xe(i,0),l=new Xe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const _=this.Zr(d.Hr);c.push(_)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Fe(jt);return i.forEach((l=>{const c=new Xe(l,0),d=new Xe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(_=>{r=r.add(_.Hr)}))})),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;gt.isDocumentKey(c)||(c=c.child(""));const d=new Xe(new gt(c),0);let _=new Fe(jt);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(_=_.add(m.Hr)),!0)}),d),W.resolve(this.Yr(_))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(i.mutations,(l=>{const c=new Xe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Xe(i,0),l=this.Jr.firstAfterOrEqual(r);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vI{constructor(t){this.ti=t,this.docs=(function(){return new pe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let r=Es();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():cn.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=Es();const d=i.path,_=new gt(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(_);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||GR(FR(E),r)<=0||(l.has(E.key)||vh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ni(t,i){return W.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new EI(this)}getSize(t){return W.resolve(this.size)}}class EI extends fI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),W.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class TI{constructor(t){this.persistence=t,this.ri=new oa((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new Gm,this.targetCount=0,this.oi=po._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),W.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new po(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.lr(i),W.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,_.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return W.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),W.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return W.resolve(r)}containsKey(t,i){return W.resolve(this.si.containsKey(i))}}class ST{constructor(t,i){this._i={},this.overlays={},this.ai=new gh(0),this.ui=!1,this.ui=!0,this.ci=new yI,this.referenceDelegate=t(this),this.li=new TI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(l){return new vI(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new iI(i),this.Pi=new gI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new pI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new _I(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const l=new AI(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return W.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class AI extends YR{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Gm,this.Ai=null}static Vi(t){return new Qm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),W.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,(r=>{const l=gt.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.fi=new oa((r=>$R(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=hI(this,i)}static Vi(t,i){return new ah(t,i)}Ti(){}Ii(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return W.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?W.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((_=>{_||(r++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),W.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),W.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,r){return W.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ym{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=Bt(),l=Bt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,r,l)}}class SI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class bI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cb()?8:KR(hn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new SI;return this.ys(t,i,d).next((_=>{if(c.result=_,this.As)return this.ws(t,i,d,_.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(Za()<=zt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Za()<=zt.DEBUG&&ot("QueryEngine","Query:",Wa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Za()<=zt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(i))):W.resolve())}gs(t,i){if(jv(i))return W.resolve(null);let r=ki(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),r=ki(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Bt(...c);return this.fs.getDocuments(t,d).next((_=>this.indexManager.getMinOffset(t,r).next((m=>{const g=this.bs(i,_);return this.Ss(i,g,d,m.readTime)?this.gs(t,um(i,null,"F")):this.Ds(t,g,i,m)}))))})))))}ps(t,i,r,l){return jv(i)||l.isEqual(Tt.min())?W.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?W.resolve(null):(Za()<=zt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(i)),this.Ds(t,d,i,HR(l,jl)).next((_=>_)))}))}bs(t,i){let r=new Fe(tT(t));return i.forEach(((l,c)=>{vh(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return Za()<=zt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.fs.getDocumentsMatchingQuery(t,i,hr.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Km="LocalStore",wI=3e8;class RI{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new pe(jt),this.Fs=new oa((c=>Pm(c)),zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function CI(s,t,i,r){return new RI(s,t,i,r)}async function bT(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],_=[];let m=Bt();for(const g of l){d.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of c){_.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return i.localDocuments.getDocuments(r,m).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:_})))}))}))}function II(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(_,m,g,E){const A=g.batch,b=A.keys();let k=W.resolve();return b.forEach((q=>{k=k.next((()=>E.getEntry(m,q))).next((Z=>{const X=g.docVersions.get(q);Zt(X!==null,48541),Z.version.compareTo(X)<0&&(A.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),k.next((()=>_.mutationQueue.removeMutationBatch(m,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let m=Bt();for(let g=0;g<_.mutationResults.length;++g)_.mutationResults[g].transformResults.length>0&&(m=m.add(_.batch.mutations[g].key));return m})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function wT(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function NI(s,t){const i=St(s),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const _=[];t.targetChanges.forEach(((E,A)=>{const b=l.get(A);if(!b)return;_.push(i.li.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,E.addedDocuments,A))));let k=b.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?k=k.withResumeToken(an.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),l=l.insert(A,k),(function(Z,X,ht){return Z.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=wI?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(b,k,E)&&_.push(i.li.updateTargetData(c,k))}));let m=Es(),g=Bt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),_.push(DI(c,d,t.documentUpdates).next((E=>{m=E.Bs,g=E.Ls}))),!r.isEqual(Tt.min())){const E=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));_.push(E)}return W.waitFor(_).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,g))).next((()=>m))})).then((c=>(i.vs=l,c)))}function DI(s,t,i){let r=Bt(),l=Bt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=Es();return i.forEach(((_,m)=>{const g=c.get(_);m.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(_)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(t.removeEntry(_,m.readTime),d=d.insert(_,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),d=d.insert(_,m)):ot(Km,"Ignoring outdated watch update for ",_,". Current version:",g.version," Watch version:",m.version)})),{Bs:d,Ls:l}}))}function OI(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function MI(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,W.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new sr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function mm(s,t,i){const r=St(s),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!So(d))throw d;ot(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function Wv(s,t,i){const r=St(s);let l=Tt.min(),c=Bt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,g,E){const A=St(m),b=A.Fs.get(E);return b!==void 0?W.resolve(A.vs.get(b)):A.li.getTargetData(g,E)})(r,d,ki(t)).next((_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,_.targetId).next((m=>{c=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Bt()))).next((_=>(VI(r,_C(t),_),{documents:_,ks:c})))))}function VI(s,t,i){let r=s.Ms.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class t0{constructor(){this.activeTargetIds=bC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xI{constructor(){this.vo=new t0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new t0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class LI{Mo(t){}shutdown(){}}const e0="ConnectivityMonitor";class n0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(e0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(e0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function gm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Bd="RestConnection",kI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const d=gm(),_=this.Qo(t,i.toUriEncodedString());ot(Bd,`Sending RPC '${t}' ${d}:`,_,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,l,c);const{host:g}=new URL(_),E=_o(g);return this.zo(t,_,m,r,E).then((A=>(ot(Bd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw sa(Bd,`RPC '${t}' ${d} failed with error: `,A,"url: ",_,"request:",r),A}))}jo(t,i,r,l,c,d){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=kI[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class PI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const ln="WebChannelConnection",Cl=(s,t,i)=>{s.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ao extends UI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ao.c_){const t=NE();Cl(t,IE.STAT_EVENT,(i=>{i.stat===nm.PROXY?ot(ln,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&ot(ln,"STAT_EVENT: detected no buffering proxy")})),ao.c_=!0}}zo(t,i,r,l,c){const d=gm();return new Promise(((_,m)=>{const g=new RE;g.setWithCredentials(!0),g.listenOnce(CE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Pc.NO_ERROR:const A=g.getResponseJson();ot(ln,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),_(A);break;case Pc.TIMEOUT:ot(ln,`RPC '${t}' ${d} timed out`),m(new at(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const b=g.getStatus();if(ot(ln,`RPC '${t}' ${d} failed with status:`,b,"response text:",g.getResponseText()),b>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k?.error;if(q&&q.status&&q.message){const Z=(function(ht){const lt=ht.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(lt)>=0?lt:J.UNKNOWN})(q.status);m(new at(Z,q.message))}else m(new at(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new at(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(ln,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ot(ln,`RPC '${t}' ${d} sending request:`,l),g.send(i,"POST",E,r,15)}))}T_(t,i,r){const l=gm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(_.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const g=c.join("");ot(ln,`Creating RPC '${t}' stream ${l}: ${g}`,_);const E=d.createWebChannel(g,_);this.I_(E);let A=!1,b=!1;const k=new PI({Ho:q=>{b?ot(ln,`Not sending because RPC '${t}' stream ${l} is closed:`,q):(A||(ot(ln,`Opening RPC '${t}' stream ${l} transport.`),E.open(),A=!0),ot(ln,`RPC '${t}' stream ${l} sending:`,q),E.send(q))},Jo:()=>E.close()});return Cl(E,Il.EventType.OPEN,(()=>{b||(ot(ln,`RPC '${t}' stream ${l} transport opened.`),k.i_())})),Cl(E,Il.EventType.CLOSE,(()=>{b||(b=!0,ot(ln,`RPC '${t}' stream ${l} transport closed`),k.o_(),this.E_(E))})),Cl(E,Il.EventType.ERROR,(q=>{b||(b=!0,sa(ln,`RPC '${t}' stream ${l} transport errored. Name:`,q.name,"Message:",q.message),k.o_(new at(J.UNAVAILABLE,"The operation could not be completed")))})),Cl(E,Il.EventType.MESSAGE,(q=>{if(!b){const Z=q.data[0];Zt(!!Z,16349);const X=Z,ht=X?.error||X[0]?.error;if(ht){ot(ln,`RPC '${t}' stream ${l} received error:`,ht);const lt=ht.status;let et=(function(Rt){const N=Ue[Rt];if(N!==void 0)return hT(N)})(lt),pt=ht.message;lt==="NOT_FOUND"&&pt.includes("database")&&pt.includes("does not exist")&&pt.includes(this.databaseId.database)&&sa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),et===void 0&&(et=J.INTERNAL,pt="Unknown error status: "+lt+" with message "+ht.message),b=!0,k.o_(new at(et,pt)),E.close()}else ot(ln,`RPC '${t}' stream ${l} received:`,Z),k.__(Z)}})),ao.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DE()}}function zI(s){return new ao(s)}function qd(){return typeof document<"u"?document:null}function Sh(s){return new HC(s,!0)}ao.c_=!1;class RT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const i0="PersistentStream";class CT{constructor(t,i,r,l,c,d,_,m){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new at(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(i0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(i0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends CT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=QC(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Pi(d.readTime):Tt.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let _;const m=d.target;if(_=om(m)?{documents:XC(c,m)}:{query:$C(c,m).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=mT(c,d.resumeToken);const g=cm(c,d.expectedCount);g!==null&&(_.expectedCount=g)}else if(d.snapshotVersion.compareTo(Tt.min())>0){_.readTime=rh(c,d.snapshotVersion.toTimestamp());const g=cm(c,d.expectedCount);g!==null&&(_.expectedCount=g)}return _})(this.serializer,t);const r=ZC(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.K_(i)}}class BI extends CT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=KC(t.writeResults,t.commitTime),r=Pi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=dm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>YC(this.serializer,r)))};this.K_(i)}}class qI{}class HI extends qI{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,hm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(J.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(t,hm(i,r),l,d,_,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function FI(s,t,i,r){return new HI(s,t,i,r)}class GI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class QI{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ua(this)&&(ot(ra,"Restarting streams for network reachability change."),await(async function(m){const g=St(m);g.Ea.add(4),await eu(g),g.Va.set("Unknown"),g.Ea.delete(4),await bh(g)})(this))}))})),this.Va=new GI(r,l)}}async function bh(s){if(ua(s))for(const t of s.Ra)await t(!0)}async function eu(s){for(const t of s.Ra)await t(!1)}function IT(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Zm(i)?Jm(i):wo(i).O_()&&$m(i,t))}function Xm(s,t){const i=St(s),r=wo(i);i.Ia.delete(t),r.O_()&&NT(i,t),i.Ia.size===0&&(r.O_()?r.L_():ua(i)&&i.Va.set("Unknown"))}function $m(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}wo(s).Z_(t)}function NT(s,t){s.da.$e(t),wo(s).X_(t)}function Jm(s){s.da=new zC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Va.ua()}function Zm(s){return ua(s)&&!wo(s).x_()&&s.Ia.size>0}function ua(s){return St(s).Ea.size===0}function DT(s){s.da=void 0}async function YI(s){s.Va.set("Online")}async function KI(s){s.Ia.forEach(((t,i)=>{$m(s,t)}))}async function XI(s,t){DT(s),Zm(s)?(s.Va.ha(t),Jm(s)):s.Va.set("Unknown")}async function $I(s,t,i){if(s.Va.set("Online"),t instanceof dT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const _ of c.targetIds)l.Ia.has(_)&&(await l.remoteSyncer.rejectListen(_,d),l.Ia.delete(_),l.da.removeTarget(_))})(s,t)}catch(r){ot(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await oh(s,r)}else if(t instanceof qc?s.da.Xe(t):t instanceof fT?s.da.st(t):s.da.tt(t),!i.isEqual(Tt.min()))try{const r=await wT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const _=c.da.Tt(d);return _.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(m.resumeToken,d))}})),_.targetMismatches.forEach(((m,g)=>{const E=c.Ia.get(m);if(!E)return;c.Ia.set(m,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),NT(c,m);const A=new sr(E.target,m,g,E.sequenceNumber);$m(c,A)})),c.remoteSyncer.applyRemoteEvent(_)})(s,i)}catch(r){ot(ra,"Failed to raise snapshot:",r),await oh(s,r)}}async function oh(s,t,i){if(!So(t))throw t;s.Ea.add(1),await eu(s),s.Va.set("Offline"),i||(i=()=>wT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ra,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await bh(s)}))}function OT(s,t){return t().catch((i=>oh(s,i,t)))}async function wh(s){const t=St(s),i=gr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;JI(t);)try{const l=await OI(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,ZI(t,l)}catch(l){await oh(t,l)}MT(t)&&VT(t)}function JI(s){return ua(s)&&s.Ta.length<10}function ZI(s,t){s.Ta.push(t);const i=gr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function MT(s){return ua(s)&&!gr(s).x_()&&s.Ta.length>0}function VT(s){gr(s).start()}async function WI(s){gr(s).ra()}async function tN(s){const t=gr(s);for(const i of s.Ta)t.ea(i.mutations)}async function eN(s,t,i){const r=s.Ta.shift(),l=qm.from(r,t,i);await OT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function nN(s,t){t&&gr(s).Y_&&await(async function(r,l){if((function(d){return kC(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();gr(r).B_(),await OT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(r)}})(s,t),MT(s)&&VT(s)}async function s0(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),ot(ra,"RemoteStore received new credentials");const r=ua(i);i.Ea.add(3),await eu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function iN(s,t){const i=St(s);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await eu(i),i.Va.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(i,r,l){const c=St(i);return c.sa(),new jI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:YI.bind(null,s),Yo:KI.bind(null,s),t_:XI.bind(null,s),J_:$I.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Zm(s)?Jm(s):s.Va.set("Unknown")):(await s.ma.stop(),DT(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(i,r,l){const c=St(i);return c.sa(),new BI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:WI.bind(null,s),t_:nN.bind(null,s),ta:tN.bind(null,s),na:eN.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Wm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,_=new Wm(t,i,d,l,c);return _.start(r),_}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(s,t){if(vs("AsyncQueue",`${t}: ${s}`),So(s))return new at(J.UNAVAILABLE,`${t}: ${s}`);throw s}class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Nl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class r0{constructor(){this.ga=new pe(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class yo{constructor(t,i,r,l,c,d,_,m,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new yo(t,i,oo.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class sN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class rN{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),c=l.queries;l.queries=a0(),c.forEach(((d,_)=>{for(const m of _.ba)m.onError(r)}))})(this,new at(J.ABORTED,"Firestore shutting down"))}}function a0(){return new oa((s=>WE(s)),_h)}async function aN(s,t){const i=St(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new sN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const _=tg(d,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(_)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&eg(i)}async function oN(s,t){const i=St(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function lN(s,t){const i=St(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const _ of d.ba)_.Fa(l)&&(r=!0);d.wa=l}}r&&eg(i)}function uN(s,t,i){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function eg(s){s.Ca.forEach((t=>{t.next()}))}var pm,o0;(o0=pm||(pm={})).Ma="default",o0.Cache="cache";class cN{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new yo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class xT{constructor(t){this.key=t}}class LT{constructor(t){this.key=t}}class hN{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bt(),this.mutatedKeys=Bt(),this.eu=tT(t),this.tu=new oo(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new r0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,_=!1;const m=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const b=l.get(E),k=vh(this.query,A)?A:null,q=!!b&&this.mutatedKeys.has(b.key),Z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let X=!1;b&&k?b.data.isEqual(k.data)?q!==Z&&(r.track({type:3,doc:k}),X=!0):this.su(b,k)||(r.track({type:2,doc:k}),X=!0,(m&&this.eu(k,m)>0||g&&this.eu(k,g)<0)&&(_=!0)):!b&&k?(r.track({type:0,doc:k}),X=!0):b&&!k&&(r.track({type:1,doc:b}),X=!0,(m||g)&&(_=!0)),X&&(k?(d=d.add(k),c=Z?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Ss:_,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(k,q){const Z=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:X})}};return Z(k)-Z(q)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),l=l??!1;const _=i&&!l?this._u():[],m=this.Ya.size===0&&this.current&&!l?1:0,g=m!==this.Xa;return this.Xa=m,d.length!==0||g?{snapshot:new yo(this.query,t.tu,c,d,t.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new LT(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new xT(r))})),i}cu(t){this.Za=t.ks,this.Ya=Bt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ng="SyncEngine";class fN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class dN{constructor(t){this.key=t,this.hu=!1}}class mN{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((_=>WE(_)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(gt.comparator),this.Au=new Map,this.Vu=new Gm,this.du={},this.mu=new Map,this.fu=po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gN(s,t,i=!0){const r=BT(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kT(r,t,i,!0),l}async function pN(s,t){const i=BT(s);await kT(i,t,!0,!1)}async function kT(s,t,i,r){const l=await MI(s.localStore,ki(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let _;return r&&(_=await yN(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&IT(s.remoteStore,l),_}async function yN(s,t,i,r,l){s.pu=(A,b,k)=>(async function(Z,X,ht,lt){let et=X.view.ru(ht);et.Ss&&(et=await Wv(Z.localStore,X.query,!1).then((({documents:N})=>X.view.ru(N,et))));const pt=lt&&lt.targetChanges.get(X.targetId),Ot=lt&&lt.targetMismatches.get(X.targetId)!=null,Rt=X.view.applyChanges(et,Z.isPrimaryClient,pt,Ot);return u0(Z,X.targetId,Rt.au),Rt.snapshot})(s,A,b,k);const c=await Wv(s.localStore,t,!0),d=new hN(t,c.ks),_=d.ru(c.documents),m=tu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),g=d.applyChanges(_,s.isPrimaryClient,m);u0(s,i,g.au);const E=new fN(t,i,d);return s.Tu.set(t,E),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),g.snapshot}async function _N(s,t,i){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Xm(r.remoteStore,l.targetId),ym(r,l.targetId)})).catch(Ao)):(ym(r,l.targetId),await mm(r.localStore,l.targetId,!0))}async function vN(s,t){const i=St(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(i.remoteStore,r.targetId))}async function EN(s,t,i){const r=CN(s);try{const l=await(function(d,_){const m=St(d),g=de.now(),E=_.reduce(((k,q)=>k.add(q.key)),Bt());let A,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=Es(),Z=Bt();return m.xs.getEntries(k,E).next((X=>{q=X,q.forEach(((ht,lt)=>{lt.isValidDocument()||(Z=Z.add(ht))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,q))).next((X=>{A=X;const ht=[];for(const lt of _){const et=OC(lt,A.get(lt.key).overlayedDocument);et!=null&&ht.push(new la(lt.key,et,FE(et.value.mapValue),Ui.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,ht,_)})).next((X=>{b=X;const ht=X.applyToLocalDocumentSet(A,Z);return m.documentOverlayCache.saveOverlays(k,X.batchId,ht)}))})).then((()=>({batchId:b.batchId,changes:nT(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,_,m){let g=d.du[d.currentUser.toKey()];g||(g=new pe(jt)),g=g.insert(_,m),d.du[d.currentUser.toKey()]=g})(r,l.batchId,i),await nu(r,l.changes),await wh(r.remoteStore)}catch(l){const c=tg(l,"Failed to persist write");i.reject(c)}}async function UT(s,t){const i=St(s);try{const r=await NI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await nu(i,r,t)}catch(r){await Ao(r)}}function l0(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const _=d.view.va(t);_.snapshot&&l.push(_.snapshot)})),(function(d,_){const m=St(d);m.onlineState=_;let g=!1;m.queries.forEach(((E,A)=>{for(const b of A.ba)b.va(_)&&(g=!0)})),g&&eg(m)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function TN(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new pe(gt.comparator);d=d.insert(c,cn.newNoDocument(c,Tt.min()));const _=Bt().add(c),m=new Ah(Tt.min(),new Map,new pe(jt),d,_);await UT(r,m),r.Ru=r.Ru.remove(c),r.Au.delete(t),ig(r)}else await mm(r.localStore,t,!1).then((()=>ym(r,t,i))).catch(Ao)}async function AN(s,t){const i=St(s),r=t.batch.batchId;try{const l=await II(i.localStore,t);zT(i,r,null),PT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await nu(i,l)}catch(l){await Ao(l)}}async function SN(s,t,i){const r=St(s);try{const l=await(function(d,_){const m=St(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return m.mutationQueue.lookupMutationBatch(g,_).next((A=>(Zt(A!==null,37113),E=A.keys(),m.mutationQueue.removeMutationBatch(g,A)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,_))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>m.localDocuments.getDocuments(g,E)))}))})(r.localStore,t);zT(r,t,i),PT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await nu(r,l)}catch(l){await Ao(l)}}function PT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function zT(s,t,i){const r=St(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function ym(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||jT(s,r)}))}function jT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Xm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),ig(s))}function u0(s,t,i){for(const r of i)r instanceof xT?(s.Vu.addReference(r.key,t),bN(s,r)):r instanceof LT?(ot(ng,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||jT(s,r.key)):_t(19791,{wu:r})}function bN(s,t){const i=t.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ot(ng,"New document in limbo: "+i),s.Eu.add(r),ig(s))}function ig(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(ue.fromString(t)),r=s.fu.next();s.Au.set(r,new dN(i)),s.Ru=s.Ru.insert(i,r),IT(s.remoteStore,new sr(ki(JE(i.path)),r,"TargetPurposeLimboResolution",gh.ce))}}async function nu(s,t,i){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,m)=>{d.push(r.pu(m,t,i).then((g=>{if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:i?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){l.push(g);const E=Ym.Es(m.targetId,g);c.push(E)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(m,g){const E=St(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(g,(b=>W.forEach(b.Ts,(k=>E.persistence.referenceDelegate.addReference(A,b.targetId,k))).next((()=>W.forEach(b.Is,(k=>E.persistence.referenceDelegate.removeReference(A,b.targetId,k)))))))))}catch(A){if(!So(A))throw A;ot(Km,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const k=E.vs.get(b),q=k.snapshotVersion,Z=k.withLastLimboFreeSnapshotVersion(q);E.vs=E.vs.insert(b,Z)}}})(r.localStore,c))}async function wN(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){ot(ng,"User change. New user:",t.toKey());const r=await bT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((_=>{_.forEach((m=>{m.reject(new at(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await nu(i,r.Ns)}}function RN(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let l=Bt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const _=i.Tu.get(d);l=l.unionWith(_.view.nu)}return l}}function BT(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TN.bind(null,t),t.Pu.J_=lN.bind(null,t.eventManager),t.Pu.yu=uN.bind(null,t.eventManager),t}function CN(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SN.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return CI(this.persistence,new bI,t.initialUser,this.serializer)}Cu(t){return new ST(Qm.Vi,this.serializer)}Du(t){return new xI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class IN extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new ST((r=>ah.Vi(r,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wN.bind(null,this.syncEngine),await iN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rN})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),r=zI(t.databaseInfo);return FI(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,_){return new QI(r,l,c,d,_)})(this.localStore,this.datastore,t.asyncQueue,(i=>l0(this.syncEngine,i,0)),(function(){return n0.v()?new n0:new LI})())}createSyncEngine(t,i){return(function(l,c,d,_,m,g,E){const A=new mN(l,c,d,_,m,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);ot(ra,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class NN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const pr="FirestoreClient";class DN{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ot(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=tg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await bT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function c0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await ON(s);ot(pr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>s0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>s0(t.remoteStore,l))),s._onlineComponents=t}async function ON(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(pr,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;sa("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new lh)}}else ot(pr,"Using default OfflineComponentProvider"),await Hd(s,new IN(void 0));return s._offlineComponents}async function qT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(pr,"Using user provided OnlineComponentProvider"),await c0(s,s._uninitializedComponentsProvider._online)):(ot(pr,"Using default OnlineComponentProvider"),await c0(s,new _m))),s._onlineComponents}function MN(s){return qT(s).then((t=>t.syncEngine))}async function VN(s){const t=await qT(s),i=t.eventManager;return i.onListen=gN.bind(null,t.syncEngine),i.onUnlisten=_N.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=pN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=vN.bind(null,t.syncEngine),i}function xN(s,t,i={}){const r=new ur;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,m,g){const E=new NN({next:b=>{E.Nu(),d.enqueueAndForget((()=>oN(c,A))),b.fromCache&&m.source==="server"?g.reject(new at(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new cN(_,E,{includeMetadataChanges:!0,Ka:!0});return aN(c,A)})(await VN(s),s.asyncQueue,t,i,r))),r.promise}function LN(s,t){const i=new ur;return s.asyncQueue.enqueueAndForget((async()=>EN(await MN(s),t,i))),i.promise}function HT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const kN="ComponentProvider",h0=new Map;function UN(s,t,i,r,l){return new WR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,HT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const FT="firestore.googleapis.com",f0=!0;class d0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FT,this.ssl=f0}else this.host=t.host,this.ssl=t.ssl??f0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oI)throw new at(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MR;switch(r.type){case"firstParty":return new kR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=h0.get(i);r&&(ot(kN,"Removing Datastore"),h0.delete(i),r.terminate())})(this),Promise.resolve()}}function PN(s,t,i,r={}){s=zl(s,Rh);const l=_o(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},_=`${t}:${i}`;l&&(B0(`https://${_}`),q0("Firestore",!0)),c.host!==FT&&c.host!==_&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:_,ssl:l,emulatorOptions:r};if(!ta(m,d)&&(s._setSettings(m),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=un.MOCK_USER;else{g=eb(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new at(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(A)}s._authCredentials=new VR(new ME(g,E))}}class ca{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ca(this.firestore,t,this._query)}}class $e{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Zl(i,$e._jsonSchema))return new $e(t,r||null,new gt(ue.fromString(i.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:ze("string",$e._jsonSchemaVersion),referencePath:ze("string")};class cr extends ca{constructor(t,i,r){super(t,i,JE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new gt(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function m0(s,t,...i){if(s=Sn(s),VE("collection","path",t),s instanceof Rh){const r=ue.fromString(t,...i);return Rv(r),new cr(s,null,r)}{if(!(s instanceof $e||s instanceof cr))throw new at(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ue.fromString(t,...i));return Rv(r),new cr(s.firestore,null,r)}}function GT(s,t,...i){if(s=Sn(s),arguments.length===1&&(t=xm.newId()),VE("doc","path",t),s instanceof Rh){const r=ue.fromString(t,...i);return wv(r),new $e(s,null,new gt(r))}{if(!(s instanceof $e||s instanceof cr))throw new at(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ue.fromString(t,...i));return wv(r),new $e(s.firestore,s instanceof cr?s.converter:null,new gt(r))}}const g0="AsyncQueue";class p0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RT(this,"async_queue_retry"),this._c=()=>{const r=qd();r&&ot(g0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!So(t))throw t;ot(g0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",y0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Wm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function y0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ch extends Rh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new p0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new p0(t),this._firestoreClient=void 0,await t}}}function zN(s,t){const i=typeof s=="object"?s:Q0(),r=typeof s=="string"?s:th,l=Am(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=WS("firestore");c&&PN(l,...c)}return l}function QT(s){if(s._terminated)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jN(s),s._firestoreClient}function jN(s){const t=s._freezeSettings(),i=UN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new DN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(an.fromBase64String(t))}catch(i){throw new at(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Kn(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:ze("string",Kn._jsonSchemaVersion),bytes:ze("string")};class YT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class KT{constructor(t){this._methodName=t}}class zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:ze("string",zi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ci(t.vectorValues);throw new at(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:ze("string",ci._jsonSchemaVersion),vectorValues:ze("object")};const BN=/^__.*__$/;class qN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new la(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(t,this.data,i,this.fieldTransforms)}}function XT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class sg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new sg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const i=this.path?.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return uh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XT(this.dataSource)&&BN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class HN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Sh(t)}createContext(t,i,r,l=!1){return new sg({dataSource:t,methodName:i,targetDoc:r,path:rn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $T(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new HN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function FN(s,t,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);WT("Data must be an object, but it was:",d,r);const _=JT(r,d);let m,g;if(c.merge)m=new li(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const b=iu(t,A,i);if(!d.contains(b))throw new at(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);KN(E,b)||E.push(b)}m=new li(E),g=d.fieldTransforms.filter((A=>m.covers(A.field)))}else m=null,g=d.fieldTransforms;return new qN(new Yn(_),m,g)}function GN(s,t,i,r=!1){return rg(i,s.createContext(r?4:3,t))}function rg(s,t){if(ZT(s=Sn(s)))return WT("Unsupported field value:",t,s),JT(s,t);if(s instanceof KT)return(function(r,l){if(!XT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const _ of r){let m=rg(_,l.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=de.fromDate(r);return{timestampValue:rh(l.serializer,c)}}if(r instanceof de){const c=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:mT(l.serializer,r._byteString)};if(r instanceof $e){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ci)return(function(d,_){const m=d instanceof ci?d.toArray():d;return{mapValue:{fields:{[qE]:{stringValue:HE},[eh]:{arrayValue:{values:m.map((E=>{if(typeof E!="number")throw _.createError("VectorValues must only contain numeric values.");return jm(_.serializer,E)}))}}}}}})(r,l);if(TT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${mh(r)}`)})(s,t)}function JT(s,t){const i={};return kE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aa(s,((r,l)=>{const c=rg(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function ZT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof de||s instanceof zi||s instanceof Kn||s instanceof $e||s instanceof KT||s instanceof ci||TT(s))}function WT(s,t,i){if(!ZT(i)||!xE(i)){const r=mh(i);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function iu(s,t,i){if((t=Sn(t))instanceof YT)return t._internalPath;if(typeof t=="string")return YN(s,t);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const QN=new RegExp("[~\\*/\\[\\]]");function YN(s,t,i){if(t.search(QN)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new YT(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let _=`Function ${t}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${l}`),m+=")"),new at(J.INVALID_ARGUMENT,_+s+m)}function KN(s,t){return s.some((i=>i.isEqual(t)))}class XN{convertValue(t,i="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return aa(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((r=>Ie(r.doubleValue)));return new ci(i)}convertGeoPoint(t){return new zi(Ie(t.latitude),Ie(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=yh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Bl(t));default:return null}}convertTimestamp(t){const i=fr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ue.fromString(t);Zt(ET(r),9688,{name:t});const l=new ql(r.get(1),r.get(3)),c=new gt(r.popFirst(5));return l.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class $N extends XN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,i)}}const _0="@firebase/firestore",v0="4.11.0";class t1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(iu("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JN extends t1{data(){return super.data()}}function ZN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class e1 extends ag{}function WN(s,t,...i){let r=[];t instanceof ag&&r.push(t),r=r.concat(i),(function(c){const d=c.filter((m=>m instanceof og)).length,_=c.filter((m=>m instanceof Ih)).length;if(d>1||d>0&&_>0)throw new at(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Ih extends e1{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Ih(t,i,r)}_apply(t){const i=this._parse(t);return n1(t._query,i),new ca(t.firestore,t.converter,lm(t._query,i))}_parse(t){const i=$T(t.firestore);return(function(c,d,_,m,g,E,A){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new at(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){T0(A,E);const q=[];for(const Z of A)q.push(E0(m,c,Z));b={arrayValue:{values:q}}}else b=E0(m,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||T0(A,E),b=GN(_,d,A,E==="in"||E==="not-in");return Pe.create(g,E,b)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function tD(s,t,i){const r=t,l=iu("where",s);return Ih._create(l,r,i)}class og extends ag{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new og(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:hi.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const _=c.getFlattenedFilters();for(const m of _)n1(d,m),d=lm(d,m)})(t._query,i),new ca(t.firestore,t.converter,lm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends e1{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new lg(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new at(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(c,d)})(t._query,this._field,this._direction);return new ca(t.firestore,t.converter,yC(t._query,i))}}function eD(s,t="asc"){const i=t,r=iu("orderBy",s);return lg._create(r,i)}function E0(s,t,i){if(typeof(i=Sn(i))=="string"){if(i==="")throw new at(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(t)&&i.indexOf("/")!==-1)throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ue.fromString(i));if(!gt.isDocumentKey(r))throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xv(s,new gt(r))}if(i instanceof $e)return xv(s,i._key);throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(i)}.`)}function T0(s,t){if(!Array.isArray(s)||s.length===0)throw new at(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function n1(s,t){const i=(function(l,c){for(const d of l)for(const _ of d.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function nD(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Vc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lo extends t1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(iu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=lo._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:ze("string",lo._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class Hc extends lo{data(t={}){return super.data(t)}}class uo{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Vc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new Vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((_=>{const m=new Hc(l._firestore,l._userDataWriter,_.doc.key,_.doc,new Vc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const m=new Hc(l._firestore,l._userDataWriter,_.doc.key,_.doc,new Vc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,E=-1;return _.type!==0&&(g=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),E=d.indexOf(_.doc.key)),{type:iD(_.type),doc:m,oldIndex:g,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:ze("string",uo._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};function sD(s){s=zl(s,ca);const t=zl(s.firestore,Ch),i=QT(t),r=new $N(t);return ZN(s._query),xN(i,s._query).then((l=>new uo(t,r,s,l)))}function rD(s){return i1(zl(s.firestore,Ch),[new Bm(s._key,Ui.none())])}function aD(s,t){const i=zl(s.firestore,Ch),r=GT(s),l=nD(s.converter,t),c=$T(s.firestore);return i1(i,[FN(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Ui.exists(!1))]).then((()=>r))}function i1(s,t){const i=QT(s);return LN(i,t)}(function(t,i=!0){OR(vo),co(new ea("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),_=new Ch(new xR(r.getProvider("auth-internal")),new UR(d,r.getProvider("app-check-internal")),tC(d,l),d);return c={useFetchStreams:i,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),or(_0,v0,t),or(_0,v0,"esm2020")})();const oD={apiKey:"AIzaSyCnmn9iT6HqSl1tmFrCkYxi8f0R2IBk8V8",authDomain:"fair-split-app-c6b72.firebaseapp.com",projectId:"fair-split-app-c6b72",storageBucket:"fair-split-app-c6b72.firebasestorage.app",messagingSenderId:"273822038005",appId:"1:273822038005:web:f80734be52e270507392bc",measurementId:"G-8LVDXKBLV0"},s1=G0(oD),Fd=NR(s1),lD=new ms,Gd=zN(s1);function uD(s,t){let r=(m=>m.replace(/[^0-9]/g,""))(s),l=r.length>=13?"13":r.length>=10?"10":null;if(!l)return null;let c="000201";c+="010211";let d="0016A000000677010111";return l==="10"?(r.startsWith("0")&&(r="66"+r.substring(1)),d+="011300"+r):d+="0213"+r,c+="29"+d.length.toString().padStart(2,"0")+d,c+="5802TH",c+="5303764",c+="6304",c+(m=>{let g=65535,E;for(let A=0;A<m.length;A++)E=(g>>8^m.charCodeAt(A))&255,E^=E>>4,g=(g<<8^E<<12^E<<5^E)&65535;return g.toString(16).toUpperCase().padStart(4,"0")})(c)}const cD=()=>{const[s,t]=Pt.useState([""]),[i,r]=Pt.useState([]),[l,c]=Pt.useState("members"),[d,_]=Pt.useState(!1),[m,g]=Pt.useState({}),[E,A]=Pt.useState(!1),[b,k]=Pt.useState(!1),[q,Z]=Pt.useState(10),[X,ht]=Pt.useState("10"),[lt,et]=Pt.useState(""),[pt,Ot]=Pt.useState(""),[Rt,N]=Pt.useState(""),[w,C]=Pt.useState("1"),[V,D]=Pt.useState(""),[L,R]=Pt.useState(!1),[bt,Xt]=Pt.useState(null),[G,nt]=Pt.useState([]);Pt.useEffect(()=>{const tt=yw(Fd,ut=>{Xt(ut)});return()=>tt()},[]),Pt.useEffect(()=>{l==="history"&&bt&&Mt()},[l,bt]);const dt=Pt.useMemo(()=>{const tt={};return i.forEach(ut=>{const Gt=ut.baseName||ut.name.replace(/\s\(\d+\)$/,"");tt[Gt]||(tt[Gt]=[]),tt[Gt].push(ut)}),tt},[i]);Pt.useEffect(()=>{if(i.length>0){const tt={};Object.keys(dt).forEach(ut=>{m[ut]===void 0&&(tt[ut]=!0)}),Object.keys(tt).length>0&&g(ut=>({...ut,...tt}))}},[dt]);const{subtotal:Dt,serviceChargeAmount:qt,vatAmount:O,grandTotal:Y,memberShares:st}=Pt.useMemo(()=>{let tt=0,ut={};s.forEach(be=>ut[be]=0),i.forEach(be=>{const ne=Number(be.price)||0;tt+=ne;const fi=be.participants.length;if(fi>0){const Yi=ne/fi;be.participants.forEach(Ki=>{ut[Ki]!==void 0&&(ut[Ki]+=Yi)})}});const Gt=b?q/100:0,Qt=E?.07:0,Ge=tt*Gt,je=(tt+Ge)*Qt,Be=tt+Ge+je;return tt>0&&Object.keys(ut).forEach(be=>{const ne=ut[be],fi=ne*Gt,Ki=(ne+fi)*Qt;ut[be]=ne+fi+Ki}),{subtotal:tt,serviceChargeAmount:Ge,vatAmount:je,grandTotal:Be,memberShares:ut}},[i,s,E,b,q]),rt=async()=>{try{await Pw(Fd,lD)}catch(tt){console.error("Login Error:",tt)}},vt=()=>{_w(Fd),nt([]),l==="history"&&c("members")},wt=async()=>{if(!bt)return alert("");if(i.length===0)return alert("");try{await aD(m0(Gd,"bills"),{uid:bt.uid,billName:` ${new Date().toLocaleDateString("th-TH")} ${new Date().toLocaleTimeString("th-TH")}`,date:new Date,items:i,members:s,totalAmount:Y,subtotal:Dt,serviceChargeAmount:qt,vatAmount:O}),alert("! ")}catch(tt){console.error("Error adding document: ",tt),alert(" ")}},Mt=async()=>{if(bt)try{const tt=WN(m0(Gd,"bills"),tD("uid","==",bt.uid),eD("date","desc")),Gt=(await sD(tt)).docs.map(Qt=>({id:Qt.id,...Qt.data()}));nt(Gt)}catch(tt){console.error("Error fetching history:",tt)}},Se=async tt=>{if(window.confirm("?"))try{await rD(GT(Gd,"bills",tt)),Mt()}catch(ut){console.error("Error deleting:",ut)}},le=tt=>{window.confirm(" ?")&&(t(tt.members),r(tt.items),c("summary"))},qi=()=>{window.confirm("?")&&(t([""]),r([]),A(!1),k(!1),Z(10),ht("10"),et(""),Ot(""),N(""),C("1"),D(""),R(!1),c("members"))},Hi=Pt.useCallback(()=>{lt.trim()&&!s.includes(lt.trim())&&(t(tt=>[...tt,lt.trim()]),et(""))},[s,lt]),As=Pt.useCallback(tt=>{if(s.length<=1){alert(" 1 ");return}window.confirm(` ${tt} ?`)&&(t(ut=>ut.filter(Gt=>Gt!==tt)),r(ut=>ut.map(Gt=>({...Gt,participants:Gt.participants.filter(Qt=>Qt!==tt)}))))},[s]),Fi=Pt.useCallback(()=>{const tt=w?parseInt(w):1,ut=pt.trim();if(ut&&Rt){const Gt=parseFloat(Rt);if(isNaN(Gt)||Gt<0){alert("");return}const Qt=[],Ge=Date.now();for(let ce=0;ce<tt;ce++){let je=ut;tt>1&&(je=`${ut} (${ce+1})`),Qt.push({id:`${Ge}-${ce}-${Math.random().toString(36).substr(2,9)}`,name:je,baseName:ut,price:Gt,participants:[]})}r(ce=>[...ce,...Qt]),g(ce=>({...ce,[ut]:!0})),Ot(""),N(""),C("1")}},[pt,Rt,w]),Vn=Pt.useCallback((tt,ut)=>{const Gt=window.prompt(":",ut);Gt&&Gt.trim()!==""&&r(Qt=>Qt.map(Ge=>{if(Ge.id===tt){const ce=Gt.trim(),je=ce.replace(/\s\(\d+\)$/,"");return{...Ge,name:ce,baseName:je}}return Ge}))},[]),yr=Pt.useCallback(tt=>{r(ut=>ut.filter(Gt=>Gt.id!==tt))},[]),Gi=Pt.useCallback((tt,ut)=>{r(Gt=>Gt.map(Qt=>{if(Qt.id===tt){const Ge=Qt.participants.includes(ut);return{...Qt,participants:Ge?Qt.participants.filter(ce=>ce!==ut):[...Qt.participants,ut]}}return Qt}))},[]),_r=tt=>{g(ut=>({...ut,[tt]:!ut[tt]}))},vr=tt=>{let ut=tt.target.value;ut.length>1&&ut.startsWith("0")&&(ut=ut.replace(/^0+/,"")),ht(ut),Z(Number(ut))},_e=Pt.useMemo(()=>!V||V.length!==10&&V.length!==13||V.length===10&&!V.startsWith("0")?"":uD(V),[V]),ve=V.length===10&&V.startsWith("0")||V.length===13,fn=["members","items","summary","payment","history"],xn=fn.indexOf(l),ha=()=>{xn<fn.length-1&&c(fn[xn+1])},Je=()=>{xn>0&&c(fn[xn-1])},Qi=()=>{switch(l){case"members":return P.jsxs("div",{className:"content-card animate-fade-in",children:[P.jsxs("div",{className:"section-header",children:[P.jsx(G_,{size:20}),P.jsxs("h3",{children:[" (",s.length,")"]})]}),P.jsx("div",{className:"member-chips-container",children:s.map(tt=>P.jsxs("div",{className:`member-chip ${tt===""?"me":""}`,children:[P.jsx("div",{className:"avatar",children:tt.charAt(0)}),P.jsx("span",{children:tt}),P.jsx("button",{onClick:()=>As(tt),className:"btn-icon-small",children:P.jsx(Y_,{size:12})})]},tt))}),P.jsxs("div",{className:"input-row",children:[P.jsx("input",{type:"text",placeholder:"...",value:lt,onChange:tt=>et(tt.target.value),onKeyDown:tt=>tt.key==="Enter"&&Hi()}),P.jsx("button",{onClick:Hi,disabled:!lt,className:"btn-gray-add",children:P.jsx(DS,{size:20})})]})]});case"items":return P.jsxs("div",{className:"content-card animate-fade-in",children:[P.jsxs("div",{className:"section-header",children:[P.jsx(vS,{size:20}),P.jsx("h3",{children:""})]}),P.jsx("div",{className:"add-item-wrapper-blue",children:P.jsxs("div",{className:"add-item-row",children:[P.jsx("input",{className:"input-name",type:"text",placeholder:"",value:pt,onChange:tt=>Ot(tt.target.value)}),P.jsx("input",{className:"input-qty",type:"number",min:"1",placeholder:"",value:w,onChange:tt=>C(tt.target.value)}),P.jsx("input",{className:"input-price",type:"number",placeholder:"",value:Rt,onChange:tt=>N(tt.target.value),onKeyDown:tt=>tt.key==="Enter"&&Fi()}),P.jsx("button",{onClick:Fi,className:"btn-add-blue",children:""})]})}),P.jsxs("div",{className:"items-list",children:[i.length===0&&P.jsx("div",{className:"empty-state",children:""}),Object.entries(dt).map(([tt,ut])=>{const Gt=m[tt]!==!1;return P.jsxs("div",{className:`item-group-card ${Gt?"":"collapsed"}`,children:[P.jsxs("div",{className:"group-header",onClick:()=>_r(tt),style:{cursor:"pointer"},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Gt?P.jsx(yS,{size:16}):P.jsx(hS,{size:16}),P.jsx("span",{className:"group-title",children:tt})]}),P.jsxs("span",{className:"group-count-badge",children:[ut.length," "]})]}),Gt&&P.jsx("div",{className:"group-items-container animate-slide-down",children:ut.map((Qt,Ge)=>P.jsxs("div",{className:"sub-item-row",children:[P.jsxs("div",{className:"sub-item-info",children:[P.jsxs("div",{className:"sub-item-name-group",children:[P.jsxs("span",{className:"sub-item-index",children:["#",Ge+1]}),P.jsx("button",{onClick:()=>Vn(Qt.id,Qt.name),className:"btn-edit-small",children:P.jsx(CS,{size:10})})]}),P.jsx("span",{className:"item-price",children:Qt.price.toLocaleString()})]}),P.jsxs("div",{className:"sub-item-controls",children:[P.jsx("div",{className:"participant-selector",children:s.map(ce=>P.jsxs("button",{onClick:()=>Gi(Qt.id,ce),className:`toggle-chip mini ${Qt.participants.includes(ce)?"active":""}`,children:[Qt.participants.includes(ce)&&P.jsx(uS,{size:12,strokeWidth:4}),ce]},ce))}),P.jsx("button",{onClick:()=>yr(Qt.id),className:"btn-delete",children:P.jsx(zS,{size:14})})]})]},Qt.id))})]},tt)})]})]});case"summary":return P.jsxs("div",{className:"content-card animate-fade-in",children:[P.jsxs("div",{className:"section-header",children:[P.jsx(q_,{size:20}),P.jsx("h3",{children:""})]}),P.jsxs("div",{className:"options-bar",style:{justifyContent:"flex-start",marginBottom:"20px"},children:[P.jsxs("label",{className:`option-pill ${b?"active":""}`,children:[P.jsx("input",{type:"checkbox",checked:b,onChange:tt=>k(tt.target.checked)}),P.jsx(H_,{size:14})," SVC",b&&P.jsxs("div",{style:{display:"flex",alignItems:"center",marginLeft:"6px"},children:[P.jsx("input",{type:"number",className:"percent-input",placeholder:"0",value:X,onChange:vr,onClick:tt=>tt.stopPropagation(),min:"0"}),P.jsx("span",{style:{marginLeft:"4px"},children:"%"})]})]}),P.jsxs("label",{className:`option-pill ${E?"active":""}`,children:[P.jsx("input",{type:"checkbox",checked:E,onChange:tt=>A(tt.target.checked)}),P.jsx(H_,{size:14})," VAT 7%"]})]}),i.length>0?P.jsxs("div",{className:"summary-card-dark",children:[P.jsxs("div",{className:"bill-breakdown",children:[P.jsxs("div",{className:"breakdown-row",children:[P.jsx("span",{children:""}),P.jsxs("span",{children:[Dt.toLocaleString()," "]})]}),b&&P.jsxs("div",{className:"breakdown-row text-muted",children:[P.jsxs("span",{children:["Service Charge (",q,"%)"]}),P.jsxs("span",{children:[qt.toLocaleString(void 0,{maximumFractionDigits:2})," "]})]}),E&&P.jsxs("div",{className:"breakdown-row text-muted",children:[P.jsx("span",{children:"VAT (7%)"}),P.jsxs("span",{children:[O.toLocaleString(void 0,{maximumFractionDigits:2})," "]})]}),P.jsxs("div",{className:"breakdown-row total-row",children:[P.jsx("span",{children:""}),P.jsxs("span",{children:[Y.toLocaleString(void 0,{maximumFractionDigits:2})," "]})]})]}),P.jsx("hr",{className:"divider-soft"}),P.jsx("div",{className:"summary-rows",children:s.map(tt=>P.jsxs("div",{className:"summary-row-dark-item",children:[P.jsxs("div",{className:"summary-name",children:[P.jsx("div",{className:"avatar-small-dark",children:tt.charAt(0)}),tt]}),P.jsxs("span",{className:"summary-amount-green",children:[st[tt]?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," "]})]},tt))})]}):P.jsx("div",{className:"empty-state",children:""}),P.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:P.jsxs("button",{onClick:wt,className:"btn-nav",style:{flex:1,justifyContent:"center",background:"#e0e7ff",color:"#4f46e5",borderColor:"#c7d2fe"},children:[P.jsx(LS,{size:16})," "]})})]});case"payment":return P.jsxs("div",{className:"content-card animate-fade-in",children:[P.jsxs("div",{className:"section-header",children:[P.jsx(Q_,{size:20}),P.jsx("h3",{children:"QR  (PromptPay)"})]}),P.jsxs("div",{className:"payment-box",children:[P.jsxs("div",{className:"input-row-icon",children:[P.jsx(US,{size:18,className:"icon-input"}),P.jsx("input",{type:"text",className:"input-promptpay",placeholder:" /  .",maxLength:13,value:V,onChange:tt=>{const ut=tt.target.value.replace(/[^0-9]/g,"");D(ut),R(!1)}})]}),!L&&ve&&P.jsxs("button",{onClick:()=>R(!0),className:"btn-create-qr",children:[" QR Code ",P.jsx(oS,{size:16})]}),L&&ve&&P.jsxs("div",{className:"qr-container",children:[P.jsx("div",{className:"qr-wrapper",children:P.jsx(V0,{value:_e,size:220,level:"M",includeMargin:!0})}),P.jsx("div",{className:"qr-info",children:P.jsx("span",{children:""})})]})]})]});case"history":return P.jsxs("div",{className:"content-card animate-fade-in",children:[P.jsxs("div",{className:"section-header",children:[P.jsx(B_,{size:20}),P.jsx("h3",{children:""})]}),bt?P.jsx("div",{className:"history-list",style:{padding:0},children:G.length===0?P.jsx("div",{className:"empty-state",style:{marginTop:"20px"},children:""}):G.map(tt=>P.jsxs("div",{className:"history-card",onClick:()=>le(tt),style:{background:"#f8fafc",border:"1px solid #e2e8f0",padding:"16px",borderRadius:"12px",marginBottom:"12px",cursor:"pointer",transition:"all 0.2s"},children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[P.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[P.jsx("strong",{style:{color:"#334155",fontSize:"1.1rem"},children:new Date(tt.date.seconds*1e3).toLocaleDateString("th-TH")}),P.jsx("small",{style:{color:"#94a3b8",fontSize:"0.85rem"},children:new Date(tt.date.seconds*1e3).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})})]}),P.jsxs("span",{style:{color:"#2563eb",fontWeight:"700",fontSize:"1.2rem"},children:[tt.totalAmount?.toLocaleString()," "]})]}),P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.9rem",color:"#64748b"},children:[P.jsxs("span",{children:[" ",tt.items.length,"  |  ",tt.members.length," "]}),P.jsx("button",{onClick:ut=>{ut.stopPropagation(),Se(tt.id)},style:{background:"#fee2e2",color:"#ef4444",border:"none",borderRadius:"6px",padding:"6px 12px",cursor:"pointer",fontWeight:"600"},children:""})]})]},tt.id))}):P.jsx("div",{className:"empty-state",style:{marginTop:"20px"},children:" Google "})]});default:return null}},Er=[{id:"members",label:"",icon:P.jsx(G_,{size:20})},{id:"items",label:"",icon:P.jsx(qS,{size:20})},{id:"summary",label:"",icon:P.jsx(q_,{size:20})},{id:"payment",label:"",icon:P.jsx(Q_,{size:20})},{id:"history",label:"",icon:P.jsx(B_,{size:20})}];return P.jsxs("div",{className:"main-layout",children:[P.jsxs("div",{className:"mobile-header",children:[P.jsxs("div",{className:"brand-mobile",children:[P.jsx(F_,{size:24,color:"white"}),P.jsx("span",{className:"brand-text",children:"FairSplit"})]}),P.jsx("button",{className:"mobile-menu-btn",onClick:()=>_(!d),children:d?P.jsx(Y_,{size:24,color:"white"}):P.jsx(wS,{size:24,color:"white"})})]}),P.jsxs("nav",{className:`sidebar ${d?"open":""}`,children:[P.jsxs("div",{className:"sidebar-header",children:[P.jsx("div",{className:"logo-box",children:P.jsx(F_,{size:28,color:"white"})}),P.jsxs("div",{className:"brand-container",children:[P.jsx("h1",{className:"sidebar-title",children:"FairSplit"}),P.jsx("span",{className:"sidebar-subtitle",children:""})]})]}),P.jsx("ul",{className:"sidebar-menu",children:Er.map(tt=>P.jsxs("li",{className:l===tt.id?"active":"",onClick:()=>{c(tt.id),_(!1)},children:[tt.icon,P.jsx("span",{children:tt.label})]},tt.id))}),P.jsxs("div",{className:"sidebar-footer",children:[P.jsx("div",{style:{marginBottom:"15px",padding:"10px",background:"rgba(37,99,235,0.05)",borderRadius:"12px",border:"1px solid #eff6ff"},children:bt?P.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",overflow:"hidden"},children:[P.jsx("img",{src:bt.photoURL,alt:"",style:{width:"32px",height:"32px",borderRadius:"50%"}}),P.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"500",color:"#334155",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"80px"},children:bt.displayName.split(" ")[0]})]}),P.jsx("button",{onClick:vt,style:{background:"white",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"4px",cursor:"pointer",color:"#ef4444"},children:P.jsx(SS,{size:14})})]}):P.jsxs("button",{onClick:rt,style:{width:"100%",background:"white",border:"1px solid #cbd5e1",borderRadius:"8px",padding:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",color:"#475569",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[P.jsx("span",{style:{color:"#EA4335",fontWeight:"bold"},children:"G"})," "]})}),P.jsxs("div",{className:"total-display-sidebar",children:[P.jsx("small",{children:""}),P.jsxs("div",{className:"amount",children:[Y.toLocaleString(void 0,{maximumFractionDigits:0})," "]})]}),P.jsxs("button",{onClick:qi,className:"btn-reset-sidebar",children:[P.jsx(VS,{size:14}),""]})]})]}),P.jsxs("main",{className:"content-area",children:[Qi(),P.jsxs("div",{className:"nav-buttons-container",children:[P.jsxs("button",{onClick:Je,disabled:xn===0,className:"btn-nav prev",style:{visibility:xn===0?"hidden":"visible"},children:[P.jsx(dS,{size:20})," "]}),P.jsxs("button",{onClick:ha,disabled:xn===fn.length-1,className:"btn-nav next",style:{visibility:xn===fn.length-1?"hidden":"visible"},children:[" ",P.jsx(gS,{size:20})]})]})]}),d&&P.jsx("div",{className:"overlay",onClick:()=>_(!1)})]})};GA.createRoot(document.getElementById("root")).render(P.jsx(Pt.StrictMode,{children:P.jsx(cD,{})}));
